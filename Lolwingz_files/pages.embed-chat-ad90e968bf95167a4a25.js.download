(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{"+Mtq":function(e,t,n){},"+aHn":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("DMoW"),a=n("2xye");function r(e){switch(e){case i.B.ARCHIVE:return a.SpadeVideoBroadcastType.Archive;case i.B.HIGHLIGHT:return a.SpadeVideoBroadcastType.Highlight;case i.B.UPLOAD:return a.SpadeVideoBroadcastType.Upload;case i.B.PAST_PREMIERE:return a.SpadeVideoBroadcastType.PastPremiere;case i.B.PREMIERE_UPLOAD:return a.SpadeVideoBroadcastType.PremiereUpload;default:return e}}},"+kC+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query ChatLine_SubsOnlyUpsell_UserSubscriptionProducts($login: String!) {\nuser(login: $login) {\nid\nsubscriptionProducts {\nid\nurl\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatLine_SubsOnlyUpsell_UserSubscriptionProducts=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts")},"+l4d":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("1rIY"),s=n("bjUr"),c=Object(o.a)("ChatMenusContext",{chatView:s.a.Chat,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,showChatViewerList:function(){return null},closeChatViewerList:function(){return null},showRoomMemberList:function(){return null},closeRoomMemberList:function(){return null},showChatRules:function(){return null},closeChatRules:function(){return null},showEmotePicker:function(){return null},closeEmotePicker:function(){return null}}),l=c.context,d=c.withContext,u=function(e){function t(t){var n=e.call(this,t)||this;return n.showChatViewerList=function(){n.props.viewManager&&n.props.viewManager.updateView(s.a.ViewerList),n.setState({chatView:s.a.ViewerList})},n.closeChatViewerList=function(){n.props.viewManager&&n.props.viewManager.updateView(s.a.Chat),n.setState({chatView:s.a.Chat})},n.showRoomMemberList=function(){n.setState({isShowingRoomMemberList:!0})},n.closeRoomMemberList=function(){n.setState({isShowingRoomMemberList:!1})},n.showChatRules=function(){n.setState({isShowingChatRules:!0})},n.closeChatRules=function(){n.setState({isShowingChatRules:!1})},n.showEmotePicker=function(){n.setState({isShowingEmotePicker:!0})},n.closeEmotePicker=function(){n.setState({isShowingEmotePicker:!1})},n.state={chatView:s.a.Chat,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,showChatViewerList:n.showChatViewerList,closeChatViewerList:n.closeChatViewerList,showRoomMemberList:n.showRoomMemberList,closeRoomMemberList:n.closeRoomMemberList,showChatRules:n.showChatRules,closeChatRules:n.closeChatRules,showEmotePicker:n.showEmotePicker,closeEmotePicker:n.closeEmotePicker},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(l.Provider,{value:Object(i.__assign)(Object(i.__assign)({},this.state),{chatView:this.currentChatView})},this.props.children)},Object.defineProperty(t.prototype,"currentChatView",{get:function(){return this.props.viewManager?this.props.viewManager.view:this.state.chatView},enumerable:!0,configurable:!0}),t}(a.Component),m=Object(r.d)()(u);n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}))},"+pBb":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"p",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"r",(function(){return k})),n.d(t,"q",(function(){return y})),n.d(t,"u",(function(){return S})),n.d(t,"t",(function(){return C})),n.d(t,"v",(function(){return E})),n.d(t,"n",(function(){return w})),n.d(t,"s",(function(){return _})),n.d(t,"J",(function(){return N})),n.d(t,"E",(function(){return O})),n.d(t,"N",(function(){return D})),n.d(t,"L",(function(){return I})),n.d(t,"H",(function(){return M})),n.d(t,"C",(function(){return T})),n.d(t,"I",(function(){return P})),n.d(t,"D",(function(){return j})),n.d(t,"G",(function(){return F})),n.d(t,"B",(function(){return R})),n.d(t,"K",(function(){return L})),n.d(t,"F",(function(){return A})),n.d(t,"y",(function(){return U})),n.d(t,"w",(function(){return x})),n.d(t,"x",(function(){return B})),n.d(t,"A",(function(){return V})),n.d(t,"M",(function(){return H})),n.d(t,"z",(function(){return q})),n.d(t,"O",(function(){return G})),n.d(t,"Q",(function(){return W})),n.d(t,"P",(function(){return z}));var i=n("Tznh"),a="chat.CHAT_HIDDEN",r="chat.CHAT_SHOWN",o="chat.EMOTE_SETS_UPDATED",s="chat.FOLLOWER_MODE_DURATION_PREFERENCE_CHANGED",c="chat.SLOW_MODE_DURATION_PREFERENCE_CHANGED",l="chat.AUTOMOD_ACTIONS_ENABLED",d="chat.AUTOMOD_ACTIONS_DISABLED",u="chat.EMOTE_PICKER_CLOSED",m="chat.EMOTE_PICKER_OPENED",p="chat.CLOSE_CHAT_RULES",h="chat.MODERATION_ACTIONS_ENABLED",f="chat.MODERATION_ACTIONS_DISABLED",g="chat.MOD_ICONS_ENABLED",v="chat.MOD_ICONS_DISABLED",b="chat.SHOW_CHAT_RULES",k="chat.TIMESTAMPS_ENABLED",y="chat.TIMESTAMPS_DISABLED",S="chat.VIEWER_CHAT_FILTER_ENABLED",C="chat.VIEWER_CHAT_FILTER_DISABLED",E="chat.VIEWER_CHAT_FILTER_SETTINGS_CHANGED",w="chat.RENDER_SENT_CHAT_MESSAGE",_="chat.UNHIDE_IGNORED_COMMAND";function N(){return{type:k}}function O(){return{type:y}}function D(){return{type:r}}function I(){return{type:a}}function M(){return{type:l}}function T(){return{type:d}}function P(){return{type:h}}function j(){return{type:f}}function F(){return{type:g}}function R(){return{type:v}}function L(e){return{type:S,source:e||i.c.Other}}function A(e){return{type:C,source:e||i.c.Other}}function U(e,t){return{type:E,settings:e,source:t||i.c.Other}}function x(e,t){return{type:s,channelLogin:e,duration:t}}function B(e,t){return{type:c,channelLogin:e,duration:t}}function V(){return{type:u}}function H(){return{type:m}}function q(){return{type:p}}function G(){return{type:b}}function W(e){return{type:w,customEvent:e}}function z(e){return{type:_,userID:e}}},"/7Tk":function(e,t,n){"use strict";var i=n("q1tI"),a=n("/7QA"),r=n("sUnt"),o=n("hnjF"),s=n("+80q"),c=n("X2PJ"),l=n("XQbB"),d=function(){return i.createElement(r.a,{fullHeight:!0,fullWidth:!0,padding:{y:5}},i.createElement(r.a,{display:o.d.Flex,justifyContent:o.h.Center,textAlign:o.l.Center},i.createElement(s.a,{type:s.e.H4,fontSize:c.d.Size4,bold:!0},Object(a.d)("Hang in there...","ActivityFeed"))),i.createElement(r.a,{justifyContent:o.h.Center,display:o.d.Flex,margin:{top:1}},i.createElement(r.a,{flexGrow:0,display:o.d.Inline,margin:"auto",textAlign:o.l.Center},i.createElement(s.a,{type:s.e.P,fontSize:c.d.Size5},Object(a.d)("We are loading your activity","ActivityFeed")))),i.createElement(r.a,{display:o.d.Flex,justifyContent:o.h.Center,margin:{top:5},padding:{top:5}},i.createElement(l.a,null)))};n.d(t,"a",(function(){return d}))},"/aPz":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"t",(function(){return m})),n.d(t,"V",(function(){return p})),n.d(t,"W",(function(){return h})),n.d(t,"y",(function(){return f})),n.d(t,"P",(function(){return g})),n.d(t,"U",(function(){return v})),n.d(t,"D",(function(){return b})),n.d(t,"E",(function(){return k})),n.d(t,"z",(function(){return y})),n.d(t,"I",(function(){return S})),n.d(t,"L",(function(){return C})),n.d(t,"K",(function(){return E})),n.d(t,"v",(function(){return w})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return N})),n.d(t,"Q",(function(){return O})),n.d(t,"d",(function(){return D})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return M})),n.d(t,"S",(function(){return T})),n.d(t,"T",(function(){return P})),n.d(t,"u",(function(){return j})),n.d(t,"R",(function(){return F})),n.d(t,"X",(function(){return R})),n.d(t,"C",(function(){return L})),n.d(t,"M",(function(){return A})),n.d(t,"j",(function(){return U})),n.d(t,"k",(function(){return x})),n.d(t,"N",(function(){return B})),n.d(t,"o",(function(){return V})),n.d(t,"B",(function(){return H})),n.d(t,"J",(function(){return q})),n.d(t,"r",(function(){return G})),n.d(t,"s",(function(){return W})),n.d(t,"H",(function(){return z})),n.d(t,"A",(function(){return Q})),n.d(t,"q",(function(){return Y})),n.d(t,"p",(function(){return K})),n.d(t,"F",(function(){return X})),n.d(t,"i",(function(){return $})),n.d(t,"G",(function(){return J})),n.d(t,"w",(function(){return Z})),n.d(t,"x",(function(){return ee})),n.d(t,"O",(function(){return te}));var i=n("/7QA"),a=n("0Log"),r=n("geRD");function o(e){return a.PubsubTopic.Ads+"."+e}function s(e){return a.PubsubTopic.BountyBoardChatCTA+"."+e}function c(e){return a.PubsubTopic.BroadcastSettingsUpdate+"."+e}function l(e){return a.PubsubTopic.ChatRoom+"."+e}function d(e){return a.PubsubTopic.ChatRoomsChannel+"."+e}function u(e){return a.PubsubTopic.ChatRoomsUser+"."+e}function m(e){return a.PubsubTopic.ExtensionAssets+"."+e}function p(e){return a.PubsubTopic.VideoPlayback+"."+e}function h(e){return a.PubsubTopic.VideoThumbnailProcessing+"."+e}function f(e){return a.PubsubTopic.ImageUpload+"."+e}function g(e){return a.PubsubTopic.UploadService+"."+e}function v(e){return a.PubsubTopic.VideoPlaybackById+"."+e}function b(e){return a.PubsubTopic.PayoutOnboardingEvents+"."+e}function k(e){return a.PubsubTopic.Presence+"."+e}function y(e,t){return a.PubsubTopic.ModerationActionsByUserAndChannel+"."+e+"."+t}function S(e){return a.PubsubTopic.Raid+"."+e}function C(e){return a.PubsubTopic.StreamChange+"."+e}function E(e){return a.PubsubTopic.StreamChangeByChannel+"."+e}function w(e){return a.PubsubTopic.Friendship+"."+e}function _(e){return a.PubsubTopic.ChannelBitsPinEvents+"."+e}function N(e){return a.PubsubTopic.BitsLeaderboardEvents+"."+e}function O(e){return a.PubsubTopic.UserBitsUpdates+"."+e}function D(){return a.PubsubTopic.BitsCampaignEvents+".updates"}function I(e){return a.PubsubTopic.ChannelBitsPinEvents+"."+e}function M(e){return a.PubsubTopic.ChannelBitsPinEvents+".bits-badge-tier-emotes."+e}function T(e){return a.PubsubTopic.UserPropertiesUpdates+"."+e}function P(e){return a.PubsubTopic.UserSubscribeEvents+"."+e}function j(e){return"follows."+e}function F(e){return a.PubsubTopic.CampaignUserEvents+"."+e}function R(e){return a.PubsubTopic.Whispers+"."+e}function L(e){return a.PubsubTopic.OnsiteNotifications+"."+e}function A(e){return a.PubsubTopic.StreamChatRoom+"."+e}function U(e){return a.PubsubTopic.ChannelSquadInvites+"."+e}function x(e){return a.PubsubTopic.ChannelSquadUpdates+"."+e}function B(e){return a.PubsubTopic.SubscribersCSV+"."+e}function V(e){return a.PubsubTopic.CheerbombEventsTopic+"."+e}function H(e){return a.PubsubTopic.MysteryGift+"."+e}function q(e){return a.PubsubTopic.SquadUpdates+"."+e}function G(e){return a.PubsubTopic.DashboardActivityFeed+"."+e}function W(e){return a.PubsubTopic.DashboardAlertQueueStatus+"."+e}function z(e){return a.PubsubTopic.PurchaseFulfillmentEvents+"."+e}function Q(e){return a.PubsubTopic.MultiviewChanletUpdate+"."+e}function Y(e){return a.PubsubTopic.CommunityPointsUser+"."+e}function K(e){return a.PubsubTopic.CommunityPointsChannel+"."+e}function X(e){return a.PubsubTopic.PrimeGiftingStatus+"."+e}function $(e){return a.PubsubTopic.PollEvents+"."+e}function J(e){return a.PubsubTopic.PrimeVideoWatchPartyEvents+"."+e}function Z(e){return a.PubsubTopic.HypeTrain+"."+e}function ee(e){return a.PubsubTopic.HypeTrain+".rewards."+e}function te(e){return i.l.subscribe({topic:e.topic,onMessage:function(t){t.type&&!e.type&&!e.types||t.type&&e.type&&t.type!==e.type||t.type&&e.types&&!e.types.includes(t.type)||Object(r.i)(e.query,e.variables,(function(n){return e.mutator(t,n)}),(function(n){return!!e.skipMessage&&e.skipMessage(t,n)}))}})}},"/gva":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserBannedStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:145}};n.loc.source={body:"query CurrentUserBannedStatus($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresAt\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CurrentUserBannedStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CurrentUserBannedStatus")},"/i69":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("/7QA"),s=n("gcd7"),c=n("QVaV"),l=n("3kHA"),d=n("a6LY"),u=n("iyGE"),m=n("a2UF"),p=n("vSeP"),h=n("WytW"),f=n("AREq"),g=n("Av0x"),v=n("H82h"),b=600,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(e){var n=Object(h.o)("/ban "+e);if(n){var i=t.userLogin(n.banTarget),a=n.reason||void 0;if(i){var r=Object(o.d)("Unable to ban user.","BanCommandHandler");return{deferred:t.props.banUserMutation(i,void 0,a).then((function(e){if(!e)return{notice:r};var n=e.banUserFromChatRoom;return n?n.error?{notice:Object(f.a)({login:i,code:n.error.code})}:(t.props.channelID&&n.ban&&n.ban.bannedUser&&Object(v.a)(d.a.BanUser,t.props.channelID,n.ban.bannedUser.id,d.b.ChatCommand),t.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{userLogin} is now banned from this channel.",{userLogin:i},"BanCommandHandler")}):{notice:r}})).catch((function(){return{notice:r}}))}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to ban.","BanCommandHandler"),error:l.a.MissingParameters})}}return{deferred:Promise.resolve({notice:t.banUsage(),error:l.a.InvalidParameters})}},t.unbanUser=function(e){if(e&&0!==e.length){var n=t.userLogin(e),i=Object(o.d)("Unable to unban user.","BanCommandHandler");return{deferred:t.props.unbanUserMutation(n).then((function(e){if(!e)return{notice:i};var a=e.unbanUserFromChatRoom;return a?a.error?{notice:Object(g.a)(n,a.error.code)}:(t.props.channelID&&a.ban&&a.ban.bannedUser&&Object(v.a)(d.a.UnbanUser,t.props.channelID,a.ban.bannedUser.id,d.b.ChatCommand),t.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{bannedUserLogin} is no longer banned from this channel.",{bannedUserLogin:n},"BanCommandHandler")}):{notice:i}})).catch((function(){return{notice:i}}))}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to unban.","BanCommandHandler"),error:l.a.MissingParameters})}},t.timeoutUser=function(e){var n=Object(h.t)("/timeout "+e);if(n){var i,a,r=t.userLogin(n.banTarget),s=n.reason||void 0;if(n.rawDuration&&n.durationSeconds?(i=n.durationSeconds,a=n.rawDuration===String(n.durationSeconds)?n.durationSeconds:n.rawDuration):n.rawDuration&&!n.validArguments?(a=n.rawDuration,i=b):(i=b,a=b),r){var c=Object(o.d)("Unable to timeout user.","BanCommandHandler");return{deferred:t.props.banUserMutation(r,a,s).then((function(e){if(!e)return{notice:c};var s=e.banUserFromChatRoom;if(!s)return{notice:c};if(s.error){var l=s.error.minTimeoutDurationSeconds,u=s.error.maxTimeoutDurationSeconds;return{notice:Object(f.a)({login:r,code:s.error.code,enteredDuration:n.rawDuration||void 0,isTimeout:!0,minTimeoutDuration:l||void 0,maxTimeoutDuration:u||void 0})}}return t.props.channelID&&s.ban&&s.ban.bannedUser&&Object(v.a)(d.a.TimeoutUser,t.props.channelID,s.ban.bannedUser.id,d.b.ChatCommand,a&&"["+a+"]n"||void 0),t.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{userLogin} has been timed out for {duration} seconds.",{userLogin:r,duration:i||b},"BanCommandHandler")}})).catch((function(){return{notice:c}}))}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to timeout.","BanCommandHandler"),error:l.a.MissingParameters})}}return{deferred:Promise.resolve({notice:t.timeoutUsage(),error:l.a.InvalidParameters})}},t.untimeoutUser=function(e){if(e){var n=t.userLogin(e),i=Object(o.d)("Unable to untimeout user.","BanCommandHandler");return{deferred:t.props.unbanUserMutation(n).then((function(e){if(!e)return{notice:i};var a=e.unbanUserFromChatRoom;return a?a.error?{notice:Object(g.a)(n,a.error.code,!0)}:(t.props.channelID&&a.ban&&a.ban.bannedUser&&Object(v.a)(d.a.UntimeoutUser,t.props.channelID,a.ban.bannedUser.id,d.b.ChatCommand),t.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{login} is no longer timed out in this channel.",{login:n},"BanCommandHandler")}):{notice:i}})).catch((function(){return{notice:i}}))}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to untimeout.","BanCommandHandler"),error:l.a.MissingParameters})}},t.userLogin=function(e){return Object(c.b)(e)?e:t.props.activeChattersAPI?t.props.activeChattersAPI.getActiveChatterLoginFromDisplayName(e)||e:t.props.displayNameToLogin&&t.props.displayNameToLogin(e)||e},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(s.a,{args:[{name:"username",isRequired:!0},{name:"reason",isRequired:!1}],channelLogin:this.props.channelLogin,command:"ban",description:Object(o.d)("Permanently ban a user from Chat","BanCommandHandler"),handler:this.banUser,helpText:this.banUsage(),permissionLevel:l.b.Moderator}),a.createElement(s.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unban",description:Object(o.d)("Remove a timeout or a permanent ban on a user","BanCommandHandler"),handler:this.unbanUser,helpText:this.unbanUsage(),permissionLevel:l.b.Moderator}),a.createElement(s.a,{args:[{name:"username",isRequired:!0},{name:"duration",isRequired:!1}],channelLogin:this.props.channelLogin,command:"timeout",description:Object(o.d)("Temporarily ban a user from Chat","BanCommandHandler"),handler:this.timeoutUser,helpText:this.timeoutUsage(),permissionLevel:l.b.Moderator}),a.createElement(s.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"untimeout",description:Object(o.d)("Remove a timeout on a user","BanCommandHandler"),handler:this.untimeoutUser,helpText:this.untimeoutUsage(),permissionLevel:l.b.Moderator}))},t.prototype.banUsage=function(){return Object(o.d)('Usage: "/ban <username> [reason]" - Permanently prevents a user from chatting. Reason is optional and will be shown to the target user and other moderators. Use "/unban" to remove a ban.',"BanCommandHandler")},t.prototype.unbanUsage=function(){return Object(o.d)('Usage: "/unban <username>" - Removes a timeout or ban on a user.',"BanCommandHandler")},t.prototype.timeoutUsage=function(){return Object(o.d)('Usage: "/timeout <username> [duration][unit] [reason]" - Temporarily prevents a user from chatting. Duration and time unit (optional, default=10m, max=2w) can use s, m, h, d, w solo or combined. Reason (optional) is shown to user and mods. Use "/untimeout" to remove a timeout.',"BanCommandHandler")},t.prototype.untimeoutUsage=function(){return Object(o.d)('Usage: "/untimeout <username>" - Removes a timeout on a user.',"BanCommandHandler")},t}(a.Component),y=function(e){return{channelID:e.channelID}},S=Object(r.d)(p.a,Object(m.a)(y),Object(u.a)(y))(k);n.d(t,"a",(function(){return S}))},"/x02":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTokenBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTokenBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};n.loc.source={body:"fragment pollTokenBreakdown on PollTokenBreakdown {\nbits\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"04j6":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_ChatEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:116}};n.loc.source={body:"query Core_Services_Spade_ChatEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_ChatEvent_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_ChatEvent_User")},"0FG4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var i,a=n("RcPG"),r=n("a1OF");!function(e){e[e.Position=0]="Position",e[e.Token=1]="Token"}(i||(i={}));var o="0";function s(e,t,n){var o,s,c=n.type===i.Position?t:e,l=n.map[c];if(l){var d=(o=e,s=l.id,{images:{sources:{"1x":Object(r.d)(s,1),"2x":Object(r.d)(s,2),"4x":Object(r.d)(s,4)},themed:!1},alt:o,emoteID:s});return{type:a.a.Emote,content:d}}return null}var c={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function l(e){for(var t={},n=0,i=e;n<i.length;n++){var a=i[n];if(a&&a.emotes)for(var r=0,s=a.emotes;r<s.length;r++){var l=s[r];if(l&&l.id&&l.token)for(var d=0,u=c[l.token]||[l.token];d<u.length;d++){var m=u[d];t[m]&&a.id===o||(t[m]={id:l.id,token:m})}}}return t}},"0Hf3":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return b}));var i,a,r,o,s=n("mrSG"),c=n("/7QA"),l=n("DMoW"),d=n("2xye"),u=n("E/0f"),m=n("oK83");function p(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){return t={target_user_id:e.targetUserID,target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin,click_text:h(e.clickText),action:e.action},c.o.track(d.SpadeEventType.ChatProfileCardClick,t),[2]}))}))}function h(e){switch(e){case u.c.Messages:return i.Messages;case u.c.Timeouts:return i.Timeouts;case u.c.Bans:return i.Bans;case u.c.ModComments:return i.ModComments;default:return e}}function f(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a;return Object(s.__generator)(this,(function(r){return t=e.data,n=t.channelUser,i=t.targetUser,a={target_user_id:i&&i.id||"",target_login:i&&i.login||e.targetLogin,channel_id:n&&n.id||e.channelID,channel_login:n&&n.login||e.channelLogin,profile_card_type:g(e),ui_context:m.b[e.sourceType]},c.o.track(d.SpadeEventType.ChatProfileCardOpen,a),[2]}))}))}function g(e){return e.data.currentUser&&e.data.channelUser&&e.data.currentUser.id===e.data.channelUser.id?r.Broadcaster:e.data.channelUser&&e.data.channelUser.self&&e.data.channelUser.self.isModerator?e.data.channelUser.modLogsRoleAccess&&e.data.channelUser.modLogsRoleAccess.accessLevel!==l.Nb.NONE?r.ModWithChatlogs:r.ModWithoutChatlogs:r.RegularViewer}function v(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,i,a,r,l;return Object(s.__generator)(this,(function(s){return n=e.data,i=n.channelUser,a=n.targetUser,r=e.isPopout,l={comment_uuid:t.id,ui_context:r?o.Popout:o.Card,target_user_id:a&&a.id,target_login:a&&a.login,channel_id:i&&i.id||e.channelID,channel_login:i&&i.login||e.channelLogin,from_user_id:t.author&&t.author.id,from_user_login:t.author&&t.author.login},c.o.track(d.SpadeEventType.ClientModCommentAdd,l),[2]}))}))}function b(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,i,a,r,l;return Object(s.__generator)(this,(function(s){return n=e.data,i=n.channelUser,a=n.targetUser,r=e.isPopout,l={comment_uuid:t.id,ui_context:r?o.Popout:o.Card,target_user_id:a&&a.id,target_login:a&&a.login,channel_id:i&&i.id||e.channelID,channel_login:i&&i.login||e.channelLogin,from_user_id:t.author&&t.author.id,from_user_login:t.author&&t.author.login},c.o.track(d.SpadeEventType.ClientModCommentDelete,l),[2]}))}))}!function(e){e.Messages="messages",e.Timeouts="timeouts",e.Bans="bans",e.ModComments="mod_comments",e.PopOut="popout",e.Whisper="whisper"}(i||(i={})),function(e){e.Expand="expand",e.Collapse="collapse"}(a||(a={})),function(e){e.RegularViewer="regular_viewer",e.Broadcaster="broadcaster",e.ModWithChatlogs="mod_with_chatlogs",e.ModWithoutChatlogs="mod_without_chatlogs"}(r||(r={})),function(e){e.Card="chat_profile_card",e.Popout="chat_profile_card_popout"}(o||(o={}))},"0Log":function(e,t,n){"use strict";var i=n("VSaV");n.o(i,"FrienshipChangeType")&&n.d(t,"FrienshipChangeType",(function(){return i.FrienshipChangeType})),n.o(i,"InvitationNetworkType")&&n.d(t,"InvitationNetworkType",(function(){return i.InvitationNetworkType})),n.o(i,"InvitationRejectedReason")&&n.d(t,"InvitationRejectedReason",(function(){return i.InvitationRejectedReason})),n.o(i,"InvitationStatus")&&n.d(t,"InvitationStatus",(function(){return i.InvitationStatus})),n.o(i,"ModerationActions")&&n.d(t,"ModerationActions",(function(){return i.ModerationActions})),n.o(i,"PubsubMessageType")&&n.d(t,"PubsubMessageType",(function(){return i.PubsubMessageType})),n.o(i,"PubsubTopic")&&n.d(t,"PubsubTopic",(function(){return i.PubsubTopic})),n.o(i,"PurchaseFulfillmentStatus")&&n.d(t,"PurchaseFulfillmentStatus",(function(){return i.PurchaseFulfillmentStatus})),n.o(i,"SquadStatus")&&n.d(t,"SquadStatus",(function(){return i.SquadStatus})),n.o(i,"TargetedModerationActions")&&n.d(t,"TargetedModerationActions",(function(){return i.TargetedModerationActions}));var a=n("By5U");n.o(a,"FrienshipChangeType")&&n.d(t,"FrienshipChangeType",(function(){return a.FrienshipChangeType})),n.o(a,"InvitationNetworkType")&&n.d(t,"InvitationNetworkType",(function(){return a.InvitationNetworkType})),n.o(a,"InvitationRejectedReason")&&n.d(t,"InvitationRejectedReason",(function(){return a.InvitationRejectedReason})),n.o(a,"InvitationStatus")&&n.d(t,"InvitationStatus",(function(){return a.InvitationStatus})),n.o(a,"ModerationActions")&&n.d(t,"ModerationActions",(function(){return a.ModerationActions})),n.o(a,"PubsubMessageType")&&n.d(t,"PubsubMessageType",(function(){return a.PubsubMessageType})),n.o(a,"PubsubTopic")&&n.d(t,"PubsubTopic",(function(){return a.PubsubTopic})),n.o(a,"PurchaseFulfillmentStatus")&&n.d(t,"PurchaseFulfillmentStatus",(function(){return a.PurchaseFulfillmentStatus})),n.o(a,"SquadStatus")&&n.d(t,"SquadStatus",(function(){return a.SquadStatus})),n.o(a,"TargetedModerationActions")&&n.d(t,"TargetedModerationActions",(function(){return a.TargetedModerationActions}));var r=n("WQCf");n.d(t,"FrienshipChangeType",(function(){return r.a})),n.d(t,"InvitationNetworkType",(function(){return r.b})),n.d(t,"InvitationRejectedReason",(function(){return r.c})),n.d(t,"InvitationStatus",(function(){return r.d})),n.d(t,"ModerationActions",(function(){return r.e})),n.d(t,"PubsubMessageType",(function(){return r.f})),n.d(t,"PubsubTopic",(function(){return r.g})),n.d(t,"PurchaseFulfillmentStatus",(function(){return r.h})),n.d(t,"SquadStatus",(function(){return r.i})),n.d(t,"TargetedModerationActions",(function(){return r.j}))},"0Lz3":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("mrSG"),a=n("DMoW"),r=n("uYEN"),o=n("5zXJ"),s=n("XmgI");function c(e){var t=[],n={};return e.reduce((function(e,t){return t&&e.push(t),e}),[]).forEach((function(e){Object(s.e)(e.prefix)&&(e=Object(i.__assign)(Object(i.__assign)({},e),{type:a.K.THIRD_PARTY}));var c,l,u,m=e.tiers.reduce((function(e,t){return t&&e.push(d(t)),e}),[]);"Cheer"===e.prefix&&m.push((c=[a.I.DARK,a.I.LIGHT],l=["static","animated"],u=[],[1,1.5,2,3,4].forEach((function(e){c.forEach((function(t){l.forEach((function(n){u.push({__typename:"CheermoteImage",id:"",url:o.f+"/cheer/"+t.toLowerCase()+"/"+n+"/100000/"+e+"."+("static"===n?"png":"gif"),isAnimated:"animated"===n,theme:t,dpiScale:e})}))}))})),d({__typename:"CheermoteTier",id:"Cheer:100000",bits:1e5,canCheer:!1,canShowInBitsCard:!1,color:o.j[r.a.Yellow],images:u}))),m.sort((function(e,t){return t.bits-e.bits}));var p=Object(i.__assign)(Object(i.__assign)({},e),{indexedTiers:new Map(m.map((function(e){return[e.bits,e]}))),orderedTiers:m});t.push(p),n[p.prefix.toLowerCase()]=p})),{indexedActions:n,orderedActions:t}}function l(e,t){return{id:t+"-"+e.entry_key,score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key},__typename:"UserLeaderboardItem"}}function d(e){var t=new Map,n=new Map,a=new Map,r=new Map;return e.images.forEach((function(e){if(!e)return null;"LIGHT"===e.theme?e.isAnimated?n.set(e.dpiScale,e.url):t.set(e.dpiScale,e.url):e.isAnimated?r.set(e.dpiScale,e.url):a.set(e.dpiScale,e.url)})),Object(i.__assign)({indexedImages:{LIGHT:{static:t,animated:n},DARK:{static:a,animated:r}}},e)}},"0WFu":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return d}));var i,a,r=n("/7QA"),o=n("3Bft"),s=n("kRBY");function c(e){return[o.a.Prime,o.a.Custom].includes(e)?null:parseInt(e,10)/1e3}function l(e){var t=e instanceof Date?e:new Date(e);return Math.round((t.getTime()-Date.now())/864e5)}function d(e){var t=r.b.get(e,a.Off);return t===a.On||!(t!==a.Staff||!Object(s.g)(r.p.store.getState()))}!function(e){e.Prime2Paid="prime_2_paid"}(i||(i={})),function(e){e.Off="off",e.On="on",e.Staff="staff"}(a||(a={}))},"1DRi":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartyProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchPartyProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]}]}}],loc:{start:0,end:91}};n.loc.source={body:"fragment watchPartyProgress on WatchPartyProgress {\ndurationSeconds\npositionSeconds\nstart\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"1MDS":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("oK83"),s=n("P5MF"),c=n("nR4f"),l=n("P6kH"),d={Unknown:"unknown",Chat:"chat",Room:"room",Whisper:"whisper",Vod:"vod"},u={Close:"close",ReportDropDown:"report_drop_down",Report:"report",Follow:"follow",Unfollow:"unfollow",Subscribe:"subscribe",ClickTryPrime:"click_try_prime",GoToChannel:"go_to_channel",Open:"open",ClickChannelName:"click_channel_name",CloseClickOtherEmote:"close_click_other_emote"},m={Available:"available",CreatorBanned:"creator_banned",LimitedTimeEmote:"limited_time_emote",GlobalEmote:"global_emote",Prime:"prime",Turbo:"turbo",OtherUnlockable:"other_unlockable"};function p(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,o,d,u,m,p,h,g,v,b,k,y,S,C,E;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:t={emoteID:e.emoticonID},n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:t})];case 2:return n=i.sent(),[3,4];case 3:return o=i.sent(),a.k.warn(o,"Failed to make query for emote info in EmoteCard reporting.",{emoteID:e.emoticonID}),[3,4];case 4:d=n&&n.data&&n.data.emote||null,n&&!d&&a.k.warn("Query for emote info in EmoteCard reporting returned no data.",{emoteID:e.emoticonID}),u=n&&n.data?Object(l.d)(n.data):l.a.Unknown,m=d&&d.subscriptionProduct&&d.subscriptionProduct.owner&&d.subscriptionProduct.owner.displayName||"",p=d&&d.subscriptionProduct&&d.subscriptionProduct.owner&&d.subscriptionProduct.owner.id||"",u===l.a.OWL2019&&(m=l.b,p=l.c),h={channelID:p},g=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,a.p.apollo.client.query({query:s,variables:h})];case 6:return g=i.sent(),[3,8];case 7:return v=i.sent(),a.k.warn(v,"Failed to make query for channel info in EmoteCard reporting.",{channelID:p}),[3,8];case 8:return b=g&&g.data&&g.data.user||null,g&&!b&&a.k.warn("Query for channel info in EmoteCard reporting returned no data.",{channelID:p}),k=!!b&&!!b.hasPrime,y=b&&b.self,S=!!y&&!!y.subscriptionBenefit,C=!!y&&!!y.canPrimeSubscribe,E={emote_location:e.emoteLocation,emoticon_id:e.emoticonID,chat_channel:e.chatChannel,chat_channel_id:e.chatChannelID,emote_channel:m,emote_channel_id:p,referrer_user_id:e.referrerUserID,action:e.action,is_subscribed:S,is_subscribed_tier:y&&y.subscriptionBenefit&&y.subscriptionBenefit.tier||"",emote_tier:d&&d.subscriptionProduct&&d.subscriptionProduct.tier||"",emote_status:f(u),has_prime:k,can_subscribe:C,msg_id:e.msgID},a.o.track(r.SpadeEventType.EmoteCardInteraction,E),[2]}}))}))}function h(e){switch(e){case o.a.chat:return d.Chat;case o.a.whisper:return d.Whisper;case o.a.vod:return d.Vod;case o.a.room:return d.Room;case o.a.unknown:default:return d.Unknown}}function f(e){switch(e){case l.a.Prime:return m.Prime;case l.a.Turbo:return m.Turbo;case l.a.OWL2019:case l.a.Subscription:return m.Available;case l.a.LimitedTime:return m.LimitedTimeEmote;case l.a.Unavailable:return m.CreatorBanned;case l.a.Global:return m.GlobalEmote;case l.a.Unknown:default:return m.OtherUnlockable}}},"1Rv/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_UnbanUserFromChatRoom=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_UnbanUserFromChatRoom")},"1VX3":function(e,t,n){"use strict";var i=n("W7Hf");n.d(t,"a",(function(){return i.a}))},"1mB7":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsUserFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"fragment communityPointsUserFragment on User {\nid\nself {\nsubscriptionBenefit {\nid\n}\nisModerator\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"1qVK":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WatchPartyUser_PrimeVideoBenefit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accessToken"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primeVideoBenefit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"accessToken"},value:{kind:"Variable",name:{kind:"Name",value:"accessToken"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyError"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isValid"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:229}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-error-fragment.gql"\nquery WatchPartyUser_PrimeVideoBenefit($accessToken: String!) {\nprimeVideoBenefit(accessToken: $accessToken) {\nerror {\n...watchPartyError\n}\nisValid\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("JqNv").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.WatchPartyUser_PrimeVideoBenefit=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"WatchPartyUser_PrimeVideoBenefit")},"26nv":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVIP"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};n.loc.source={body:"query Chat_ChannelData($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nlogin\ndisplayName\nchatSettings {\nrules\n}\nself {\nisModerator\nisVIP\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_ChannelData=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_ChannelData")},"2D+f":function(e,t,n){},"2Dht":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WhisperThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:347}};n.loc.source={body:"query WhisperThread($id: ID!) {\nwhisperThread(id: $id) {\nid\nuserLastMessageRead {\nid\nsentAt\n__typename\n}\nunreadMessagesCount\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n}\nsentAt\neditedAt\ndeletedAt\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.WhisperThread=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"WhisperThread")},"2Ev9":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("DMoW"),r=function(){function e(e,t,n){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map;var i=e.filter((function(e){return!!e})),a=t?t.filter((function(e){return!!e})):[];this.count=i.length+(t?a.length:0),this.indexBadges(i,this.globalsBySet,n),Array.isArray(t)&&this.indexBadges(a,this.channelsBySet,n)}return e.prototype.getBadge=function(e,t){var n=this.channelsBySet.get(e);return n&&n.has(t)?n.get(t)||null:void 0!==(n=this.globalsBySet.get(e))&&n.get(t)||null},e.prototype.indexBadges=function(e,t,n){e.forEach((function(e){n&&e.clickAction&&e.clickAction===a.k.SUBSCRIBE&&(e=Object(i.__assign)(Object(i.__assign)({},e),{channelName:n}));var r=t.get(e.setID);r||(r=new Map,t.set(e.setID,r)),r.set(e.version,e)}))},e}(),o=new r([],[],"")},"2EzP":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("XIZb"),a=Object(i.a)("MessageHandler"),r=a.withChatServiceManager,o=a.withContext,s=r,c=o((function(e){return{messageHandlerAPI:e.serviceAPI,setMessageHandlerAPI:e.setServiceAPI}}))},"2e6W":function(e,t,n){},"2zj6":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockModifiedEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenModifiedSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenModifiedSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};n.loc.source={body:"mutation UnlockModifiedEmote($input: UnlockChosenModifiedSubscriberEmoteInput!) {\nunlockChosenModifiedSubscriberEmote(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnlockModifiedEmote=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnlockModifiedEmote")},"31iR":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:88}};n.loc.source={body:"fragment pollTopContributor on PollTopContributor {\nbitsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"34IA":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewerCardModLogsMessagesBySender"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"senderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAutoModCaughtMessages"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modLogs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messagesBySender"},arguments:[{kind:"Argument",name:{kind:"Name",value:"senderID"},value:{kind:"Variable",name:{kind:"Name",value:"senderID"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}},{kind:"Argument",name:{kind:"Name",value:"includeMessageCount"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"includeAutoModCaughtMessages"},value:{kind:"Variable",name:{kind:"Name",value:"includeAutoModCaughtMessages"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"autoModCaughtMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"modLogsMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"targetedModAction"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:808}};i.loc.source={body:'#import "twilight/features/chat/components/viewer-card/viewer-card-mod-logs/fragments/targeted-mod-action-fragment.gql"\n#import "twilight/features/chat/components/viewer-card/viewer-card-mod-logs/fragments/mod-logs-message-fragment.gql"\n#import "twilight/features/chat/components/viewer-card/viewer-card-mod-logs/fragments/automod-caught-message-fragment.gql"\nquery ViewerCardModLogsMessagesBySender($senderID: ID! $channelLogin: String! $includeAutoModCaughtMessages: Boolean! $cursor: Cursor) {\nchannel: user(login: $channelLogin) {\nid\nmodLogs {\nmessagesBySender(senderID: $senderID first: 50 order: DESC includeMessageCount: false includeAutoModCaughtMessages: $includeAutoModCaughtMessages after: $cursor) {\nedges {\nnode {\n...autoModCaughtMessage\n...modLogsMessage\n...targetedModAction\n}\ncursor\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("jCkG").definitions)),i.definitions=i.definitions.concat(r(n("MfJU").definitions)),i.definitions=i.definitions.concat(r(n("ia6S").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ViewerCardModLogsMessagesBySender=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ViewerCardModLogsMessagesBySender")},"35qb":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductPriceInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PriceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}],loc:{start:0,end:118}};n.loc.source={body:"fragment subscriptionProductPriceInfo on PriceInfo {\ncurrency\nexponent\ntotal\ndescription\nprice\nisTaxInclusive\nid\ntax\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"3Bft":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={Prime:"prime",Tier1:"1000",Tier2:"2000",Tier3:"3000",Custom:"Custom"}},"3Czn":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n("+80q"),r=n("X2PJ"),o=n("sUnt"),s=n("2Ob2"),c=function(e){return i.createElement(o.a,{padding:{x:.5},margin:{y:.5}},i.createElement(a.a,{color:e.overlay?r.c.Overlay:r.c.Alt2,fontSize:r.d.Size6,transform:a.d.Uppercase,bold:!0},e.children))};c.displayName="DropDownMenuHeadingComponent",c.displayName="DropDownMenuHeadingComponent";var l=Object(s.c)(c)},"3GF+":function(e,t,n){"use strict";var i=n("q1tI"),a=n("X2PJ"),r=n("hnjF");n("jPLR");function o(e){e.stopPropagation()}var s=function(e){return i.createElement(a.f,{fullWidth:e.fullWidth,className:e.className,display:r.d.InlineFlex},i.createElement("div",{className:"viewer-card-drag-cancel",onMouseDown:o},e.children))};n.d(t,"a",(function(){return s}))},"3HtZ":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Mods"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mods"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query Mods($login: String!) {\nuser(login: $login) {\nid\nmods(first: 100) {\nedges {\nnode {\nid\nlogin\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Mods=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Mods")},"3Law":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("fNzW"),s=n("vCsY"),c=n("1H2c"),l=n("hnjF"),d=n("C7sF"),u=n("3aAs"),m=function(e){var t,n="tw-"+Object(c.a)();return e.tabIndex&&(t=e.tabIndex),r.createElement("div",a()({className:Object(o.a)("tw-search-input")},Object(s.a)(e)),r.createElement(l.g,{display:l.d.HideAccessible},r.createElement("label",{htmlFor:e.id?e.id:n},"Search")),r.createElement(u.a,{autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,icon:d.a.NavSearch,id:e.id?e.id:n,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,refDelegate:e.refDelegate,spellCheck:e.spellCheck,tabIndex:t,size:e.size,type:u.c.Search,value:e.value,overlay:e.overlay}))};m.displayName="SearchInput",m.displayName="SearchInput"},"3YIm":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendWhisper"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendWhisperInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendWhisper"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"receive"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:352}};n.loc.source={body:"mutation SendWhisper($input: SendWhisperInput!) {\nsendWhisper(input: $input) {\nmessage {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n__typename\n}\nsentAt\neditedAt\ndeletedAt\nthread {\nid\nparticipants {\nid\nself {\nwhisperPermissions {\nreceive\n}\n}\n}\n}\n__typename\n}\nerror {\ncode\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SendWhisper=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SendWhisper")},"3aAs":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return b}));var i,a,r=n("pVnL"),o=n.n(r),s=n("q1tI"),c=n("fNzW"),l=n("vCsY"),d=n("IbuL"),u=n("hnjF"),m=n("X2PJ"),p=n("sUnt"),h=n("Ws8v"),f=n("2Ob2"),g=n("2nDl");n("SbbE");!function(e){e[e.Text=0]="Text",e[e.Number=1]="Number",e[e.Email=2]="Email",e[e.Password=3]="Password",e[e.Search=4]="Search"}(i||(i={})),function(e){e.Default="",e.Left="tw-input--rounded-left",e.Right="tw-input--rounded-right"}(a||(a={}));var v=function(e){var t,n;e.tabIndex&&(n=e.tabIndex);var r=g.c.Default;e.size&&(r=e.size);var f={"tw-input":!0,"tw-input--small":e.size===g.c.Small,"tw-input--large":e.size===g.c.Large,"tw-input--error":e.error,"tw-input--overlay":e.overlay,"tw-input--password":e.type===i.Password},v=e.size?g.a[e.size]:m.b.Medium,b={topLeft:v,topRight:v,bottomLeft:v,bottomRight:v};e.rounding&&(f[e.rounding]=!0,e.rounding===a.Left?(b.topRight=m.b.None,b.bottomRight=m.b.None):e.rounding===a.Right&&(b.topLeft=m.b.None,b.bottomLeft=m.b.None)),e.icon&&(t=s.createElement(h.a,{className:Object(c.a)({"tw-input__icon":!0,"tw-input__icon--overlay":e.overlay}),position:u.j.Absolute,attachLeft:e.icon&&!e.iconRight,attachRight:e.iconRight,attachTop:!0,zIndex:u.o.Default,color:e.overlay?void 0:m.c.Alt2,display:u.d.Flex,alignItems:u.b.Center,justifyContent:u.h.Center,fullHeight:!0},s.createElement(d.a,{asset:e.icon})));var k=e.pattern?e.pattern.toString():void 0;return s.createElement(p.a,o()({position:u.j.Relative},Object(l.a)(e)),t,s.createElement(m.f,{display:u.d.Block,borderRadius:b,padding:{left:e.icon&&!e.iconRight?3:1,right:e.iconRight?3:1,y:e.size===g.c.Small?void 0:.5},fontSize:g.b[r],fullWidth:!0,textAlign:e.textAlign},s.createElement("input",{type:i[e.type].toLowerCase(),className:Object(c.a)(f),placeholder:e.placeholder,"aria-label":e.ariaLabel,autoCapitalize:e.autoCapitalize?"on":"off",autoCorrect:e.autoCorrect?"on":"off",autoComplete:e.autoComplete,autoFocus:e.autoFocus,"data-a-target":"tw-input",defaultValue:e.defaultValue,disabled:e.disabled,id:e.id,list:e.list,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onClick:e.onClick,onFocus:function(t){e.onFocusSelectContent&&t.currentTarget.select();e.onFocus&&e.onFocus(t)},onKeyDown:e.onKeyDown,pattern:k,max:e.max,maxLength:e.maxLength,min:e.min,readOnly:e.readOnly,ref:e.refDelegate,required:e.required,spellCheck:e.spellCheck,step:e.step,tabIndex:n,value:e.value})))};v.displayName="InputComponent";var b=Object(f.c)(v)},"3kHA":function(e,t,n){"use strict";var i,a;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e[e.Viewer=0]="Viewer",e[e.Vip=1]="Vip",e[e.Moderator=2]="Moderator",e[e.Broadcaster=3]="Broadcaster"}(i||(i={})),function(e){e.InvalidParameters="invalid_parameters",e.MissingParameters="missing_parameters",e.UnrecognizedCommand="unrecognized_command"}(a||(a={}))},"3sMn":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=Object(r.a)("ChatConfigContext",{hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:function(e){return null}}),s=o.context,c=o.withContext,l=function(e){function t(t){var n=e.call(this,t)||this;return n.updateChatConfigState=function(e){null===n.updateFrame&&(n.setState((function(t){return Object(i.__assign)(Object(i.__assign)({},t),e)})),n.updateFrame=setTimeout((function(){n.updateFrame=null}),0))},n.updateFrame=null,n.state={hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:n.updateChatConfigState},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(s.Provider,{value:this.state},this.props.children)},t}(a.Component);n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}))},"3tQW":function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/MKj"),s=n("fvjX"),c=n("/7QA"),l=n("yR8l"),d=n("geRD"),u=n("kRBY"),m=n("1rIY"),p=n("F6GT"),h=n("GSWs"),f=n("4+lN"),g="useHighContrastColors",v=Object(m.a)("HighContrastSettingContext",{setValue:function(){return null},value:!0}),b=v.context,k=v.withContext,y=function(e){function t(t){var n=e.call(this,t)||this;n.setValue=function(e){if(n.setState({localOverride:e}),c.m.set(g,e),n.props.isLoggedIn){var t=Object(i.__assign)(Object(i.__assign)({},Object(d.a)({isReadableChatColorsEnabled:e})),{optimisticResponse:{setReadableChatColorsEnabled:{__typename:"SetReadableChatColorsEnabledPayload",isReadableChatColorsEnabled:e}},update:function(t){var n;try{n=t.readQuery({query:f})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=a(n,(function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled}),(function(){return e}));t.writeQuery({query:f,data:i})}}});n.props.setReadableChatColors(t)}},n.state={};var r=Object(p.b)().useHighContrastColors;return void 0!==r&&(Object(p.a)("useHighContrastColors"),c.m.set(g,r)),n}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(b.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},t.prototype.componentDidUpdate=function(e){this.hasData(this.props)&&!this.hasData(e)&&(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?c.m.set(g,this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled):this.setValue(this.value))},t.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(t.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled:c.m.get(g,!0)},enumerable:!0,configurable:!0}),t}(r.Component);var S=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(u.f)(e)}})),Object(l.a)(f,{skip:function(e){return!e.isLoggedIn}}),Object(l.a)(h,{name:"setReadableChatColors"}))(y);n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return S}))},"4+lN":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsReadableChatColors"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query SyncedSettingsReadableChatColors {\ncurrentUser {\nid\nchatUISettings {\nisReadableChatColorsEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsReadableChatColors=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsReadableChatColors")},"4G6/":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var i=60,a=60*i,r=24*a,o=7*r,s=4*o+2*r,c=3,l=/([a-zA-Z])([0-9])/gi,d=/([0-9])([a-zA-Z])/gi,u=/^mo(nths?)?/,m=/^w(eeks?)?/,p=/^d(ays?)?/,h=/^h(ours?)?/,f=/^m(inutes?)?/;function g(e){if(!e)return"0s";var t=e,n="";if(t>s){var c=Math.floor(t/s);t-=c*s,n+=c+"mo"}if(t>o){var l=Math.floor(t/o);t-=l*o,n+=l+"w"}if(t>r){var d=Math.floor(t/r);t-=d*r,n+=d+"d"}if(t>a){var u=Math.floor(t/a);t-=u*a,n+=u+"h"}if(t>i){var m=Math.floor(t/i);t-=m*i,n+=m+"m"}return t>0&&(n+=t+"s"),n}function v(e){var t=0,n=e.replace(l,"$1 $2").replace(d,"$1 $2").split(/\W+/);if(n.length%2!=0)return null;for(var g=0;g<n.length;g+=2){var v=n[g],b=parseInt(v,10);if(Number.isNaN(b)||v.length>c)return null;var k=n[g+1];if(k.match(u))t+=b*s;else if(k.match(m))t+=b*o;else if(k.match(p))t+=b*r;else if(k.match(h))t+=b*a;else{if(!k.match(f))return null;t+=b*i}}return t}},"4HoE":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ModUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ModUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:125}};n.loc.source={body:"mutation ModUser($input: ModUserInput!){\nmodUser(input: $input) {\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ModUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ModUser")},"4VQm":function(e,t,n){"use strict";var i=n("bJDk");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b})),n.d(t,"c",(function(){return i.c})),n.d(t,"d",(function(){return i.d}))},"4h+t":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var i=n("DMoW"),a=n("uYEN"),r=n("5zXJ"),o={Cheer:i.K.FIRST_PARTY,Kreygasm:i.K.FIRST_PARTY,Kappa:i.K.FIRST_PARTY,Muxy:i.K.THIRD_PARTY,Streamlabs:i.K.THIRD_PARTY,SwiftRage:i.K.FIRST_PARTY,VoHiYo:i.K.FIRST_PARTY},s=[i.I.LIGHT,i.I.DARK],c=[1,1.5,2,3,4],l=null;function d(){if(!l){var e=[],t={};Object.keys(o).forEach((function(n){var i=p(n,o[n]);e.push(i),t[n.toLowerCase()]=i})),l={orderedActions:e,indexedActions:t}}return l}var u=null;function m(){return u||(u=function(e){if(l)return l.indexedActions[e.toLowerCase()];return p(e,o[e])}("Cheer")),u}function p(e,t){var n=[a.a.Red,a.a.Blue,a.a.Green,a.a.Purple,a.a.Gray],i=new Map,r=[];if("Cheer"===e){var o=h(e,a.a.Yellow);i.set(a.a.Yellow,o),r.push(o)}return r.push.apply(r,n.map((function(t){var n=h(e,t);return i.set(t,n),n}))),{__typename:"Cheermote",id:"",prefix:e,type:t,campaign:null,tiers:r,orderedTiers:r,indexedTiers:i}}function h(e,t){for(var n=[],i={},a=0,o=s;a<o.length;a++)for(var l=o[a],d=0,u=c;d<u.length;d++){var m=u[d];i[l]||(i[l]={animated:new Map,static:new Map});var p=f(e,l,!0,t,m);n.push(p),i[l].animated.set(m,p.url);var h=f(e,l,!1,t,m);n.push(h),i[l].static.set(m,h.url)}return{__typename:"CheermoteTier",id:e+";"+t,canCheer:t<=r.o,canShowInBitsCard:!0,bits:t,color:r.j[t],images:n,indexedImages:i}}function f(e,t,n,i,a){var r=n?"gif":"png";return{__typename:"CheermoteImage",id:"",theme:t,isAnimated:n,dpiScale:a,url:"https://d3aqoihi2n8ty8.cloudfront.net/actions/"+e.toLowerCase()+"/"+t.toLowerCase()+"/"+(n?"animated":"static")+"/"+i+"/"+a+"."+r}}},"4ilF":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("fvjX"),s=n("yR8l"),c=n("x7UT"),l=n("0Log"),d=n("geRD"),u=n("2Ygb"),m=n("/aPz"),p=n("kRBY"),h=n("4HoE"),f=n("FAYk"),g=n("6ovE"),v=n("a6LY"),b=n("H82h"),k=n("qMs1");function y(){return function(e){var t,n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.modUser=function(){var t=e.props,n=t.channelID,i=t.userID,a=t.modUserMutation;return n&&i&&a?a(Object(d.a)({channelID:n,targetID:i})).then((function(t){return e.updateUserModStatusQuery(!0),e.trackChatLoginModerationEvent(v.a.ModUser),t})):Promise.reject(new Error("channelID or userID not provided"))},e.unmodUser=function(){var t=e.props,n=t.channelID,i=t.userID,a=t.unmodUserMutation;return n&&i&&a?a(Object(d.a)({channelID:n,targetID:i})).then((function(t){return e.updateUserModStatusQuery(!1),e.trackChatLoginModerationEvent(v.a.UnmodUser),t})):Promise.reject(new Error("channelID or userID not provided"))},e.updateUserModStatusQuery=function(t){var n=e.props,i=n.channelID,a=n.currentUserID,r=n.userID;Object(d.i)(g,{channelID:i,userID:r},(function(e){var n=e&&e.user;return n?{user:{id:n.id,login:n.login,__typename:n.__typename,isModerator:t}}:e})),a===r&&e.updateSelfModStatusQuery(t)},e.updateSelfModStatusQuery=function(t){var n=e.props,a=n.channelID,r=n.currentUserID;n.userID===r&&Object(d.i)(k,{channelID:a},(function(e){var n=e&&e.user,a=n&&n.self;return n&&a?{user:{id:n.id,__typename:n.__typename,self:Object(i.__assign)(Object(i.__assign)({},a),{isModerator:t})}}:e}))},e.trackChatLoginModerationEvent=function(t){var n=e.props.userModStatusData&&e.props.userModStatusData.user&&e.props.userModStatusData.user.id,i=e.props.channelID,a=e.props.source;n&&i&&a&&Object(b.a)(t,i,n,a)},e}return Object(i.__extends)(n,t),n.prototype.componentDidUpdate=function(e){if((!e.pubsub.messages.moderatorActions||e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions)&&this.props.pubsub.messages.moderatorActions)switch(this.props.pubsub.messages.moderatorActions.type){case l.PubsubMessageType.ModeratorAdded:this.updateUserModStatusQuery(!0);break;case l.PubsubMessageType.ModeratorRemoved:this.updateUserModStatusQuery(!1);break;default:return}},n.prototype.render=function(){var t={userModStatus:this.props.userModStatusData,modUser:this.props.channelID&&this.props.userID&&this.modUser||void 0,unmodUser:this.props.channelID&&this.props.userID&&this.unmodUser||void 0};return a.createElement(e,Object(i.__assign)({},this.props,t))},n.displayName=Object(u.a)(n.name,e),n}(a.Component);return Object(o.d)(Object(r.b)((function(e){var t=Object(p.e)(e);return{currentUserID:t&&t.id}})),Object(s.a)(h,{name:"modUserMutation",skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(f,{name:"unmodUserMutation",skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(g,{name:"userModStatusData",options:function(e){return{variables:{channelID:e.channelID,userID:e.userID}}},skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(k,{name:"selfModStatusData",options:function(e){return{variables:{channelID:e.channelID}}},skip:function(e){return!(e.channelID&&e.userID)||e.userID!==e.currentUserID}}),Object(c.a)([{topic:function(e){return Object(m.z)(e.userID||"",e.channelID||"")},mapMessageTypesToProps:(t={},t[l.PubsubMessageType.ModeratorAdded]="moderatorActions",t[l.PubsubMessageType.ModeratorRemoved]="moderatorActions",t),skipMessage:function(e,t){var n=e;return!t.userID||n.data.target_user_id!==t.userID}}]))(n)}}n.d(t,"a",(function(){return y}))},"4w0E":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:289}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_BanUserFromChatRoom=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_BanUserFromChatRoom")},"4wKg":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("IbuL"),s=n("i4Ys"),c=n("hnjF"),l=n("X2PJ"),d=n("sUnt"),u=n("Ws8v"),m=n("C7sF"),p=n("V6CR"),h=function(e){var t,n,i,h;return e.figure&&(t=r.createElement(d.a,{display:c.d.Flex,alignItems:c.b.Center,padding:{right:.5},flexShrink:0},r.createElement(p.a,e.figure))),e.value&&(i=r.createElement(d.a,{alignItems:c.b.Center,padding:{x:.5},margin:{left:1}},e.value)),h=e.children?r.createElement(d.a,{flexGrow:1},e.children):r.createElement(r.Fragment,null,r.createElement(d.a,{flexGrow:1},e.label),i),e.selected&&!e.actionIcon?n=r.createElement(o.a,{asset:m.a.Check}):e.actionIcon&&(n=r.createElement(o.a,{asset:e.actionIcon})),n&&(n=r.createElement(u.a,{display:c.d.Flex,alignItems:c.b.Center,margin:e.value?{left:.5}:{left:2},flexShrink:0,color:l.c.Alt},n)),r.createElement(d.a,{position:c.j.Relative,fullWidth:!0},r.createElement(s.a,a()({type:s.b.Alpha,borderRadius:l.b.Medium,selected:e.selected},e),r.createElement(d.a,{display:c.d.Flex,alignItems:c.b.Center,position:c.j.Relative,padding:.5},t,h,n)))};h.displayName="DropDownMenuItem",h.displayName="DropDownMenuItem"},"4zGI":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedCheerMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:115}};n.loc.source={body:"mutation Chat_DenyRejectedCheerMessage($input: DenyRejectedCheerInput!) {\ndenyRejectedCheer(input: $input) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_DenyRejectedCheerMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_DenyRejectedCheerMessage")},"5Siz":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.PopoutChat="popout_chat",e.Chat="chat",e.LiveDashButton="live_dashboard_button",e.LiveDashHotkey="live_dashboard_hotkey",e.LiveDashChat="live_dashboard_chat"}(i||(i={}));var a=140},"5aDA":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPollContext_VoteInPoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VoteInPollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voteInPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:201}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-fragment.gql"\nmutation ChannelPollContext_VoteInPoll($input: VoteInPollInput!) {\nvoteInPoll(input: $input) {\nvoter {\n...pollVoter\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("INxu").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.ChannelPollContext_VoteInPoll=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelPollContext_VoteInPoll")},"5zC2":function(e,t,n){"use strict";n("k8pZ");var i=n("qCDY"),a=n("mrSG"),r=n("1hWM"),o=n("lBSt"),s=n("q1tI"),c=n("/7QA"),l=n("yR8l"),d=n("g/rS"),u=n("cjeK");function m(e){return function(t){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={error:null,fetchedChannelID:null,installedExtensionsData:null,loading:!1},t.fetchExtensions=function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t,i;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:this.setState({fetchedChannelID:n,loading:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),n=n||e.options(this.props).variables.channelID,[4,r.extensionService.getInstalledExtensions(n)];case 2:return t=a.sent(),[3,4];case 3:return a.sent(),this.setState({loading:!1,error:new Error("Failed to load data.")}),[2];case 4:return i=Object(o.extensionInstallationsFromRest)(t),c.p.store.dispatch(Object(d.d)(n,i)),this.setState({error:null,installedExtensionsData:i,loading:!1}),[2]}}))}))},t.onShouldFetchExtensions=function(){t.fetchExtensions(t.currentChannelID)},t.onDestroyExtension=function(e){if(c.p.store.dispatch(Object(d.c)(t.currentChannelID,e)),t.state.installedExtensionsData){var n=t.state.installedExtensionsData.filter((function(t){return t.extension.id!==e}));t.setState({installedExtensionsData:n})}},t}return Object(a.__extends)(i,n),Object.defineProperty(i.prototype,"currentChannelID",{get:function(){return e.options(this.props).variables.channelID},enumerable:!0,configurable:!0}),i.prototype.componentDidMount=function(){var e=this.props;if(!this.shouldSkip(e)){var t=this.currentChannelID;this.fetchExtensions(t),r.extensionService.subscribeToExtensionControl(t,{onDestroyExtension:this.onDestroyExtension,onShouldFetchExtensions:this.onShouldFetchExtensions})}},i.prototype.componentWillUnmount=function(){r.extensionService.unsubscribeFromExtensionControl(this.currentChannelID)},i.prototype.componentDidUpdate=function(t){if(!this.shouldSkip(this.props)){var n=e.options(t).variables.channelID,i=this.currentChannelID,a=n!==i,o=null!==this.state.installedExtensionsData||null!==this.state.error||this.state.loading;!a&&o||(this.setState({installedExtensionsData:null}),this.fetchExtensions(i),r.extensionService.unsubscribeFromExtensionControl(n),r.extensionService.subscribeToExtensionControl(i,{onDestroyExtension:this.onDestroyExtension,onShouldFetchExtensions:this.onShouldFetchExtensions}))}},i.prototype.render=function(){var n;if(this.shouldSkip(this.props))return s.createElement(t,Object(a.__assign)({},this.props));var i=Object.assign({},this.props,((n={__withExtensionsForChannelCurrentUser:void 0})[e.name||"data"]={error:this.state.error,fetchedChannelID:this.state.fetchedChannelID,installedExtensions:this.state.installedExtensionsData,loading:this.state.loading,refetch:this.fetchExtensions},n));return s.createElement(t,Object(a.__assign)({},i))},i.prototype.shouldSkip=function(t){return void 0!==e.skip&&("function"==typeof e.skip?e.skip(t):e.skip)},i}(s.Component);return Object(l.a)(u,{name:"__withExtensionsForChannelCurrentUser",options:function(t){return{variables:{channelID:e.options(t).variables.channelID}}}})(n)}}var p=n("/MKj"),h=n("kRBY"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){r.extensionService.setEnvironmentOptions({apiUrl:c.a.apiBaseURL,dynamicSettings:c.b}),this.setExtensionServiceAuthToken()},t.prototype.componentDidUpdate=function(e){e.authToken!==this.props.authToken&&this.setExtensionServiceAuthToken()},t.prototype.render=function(){return null},t.prototype.setExtensionServiceAuthToken=function(){var e=this.props.authToken||"";r.extensionService.setEnvironmentOptions({authToken:e})},t}(s.Component);var g=Object(p.b)((function(e){return{authToken:Object(h.a)(e)}}))(f);n.d(t,"a",(function(){return i.a})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g}))},"5zXJ":function(e,t,n){"use strict";n.d(t,"u",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"r",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"p",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"t",(function(){return b})),n.d(t,"s",(function(){return k})),n.d(t,"i",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return _}));var i,a=n("uYEN"),r={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s=o+"/cheer",c=o+"/actions",l="bonus",d=8e5,u=1e5,m=25e4,p=500,h=1e3,f="cheer",g=a.a.Purple,v=((i={})[a.a.Gray]="#979797",i[a.a.Purple]="#9c3ee8",i[a.a.Green]="#1db2a5",i[a.a.Blue]="#0099fe",i[a.a.Red]="#f43021",i[a.a.Yellow]="#f3a71a",i),b="bits_project_stucco_dashboard",k="bits_sponsored_cheermotes",y="bits_charity_event",S="bits_project_marley",C="AnAnonymousCheerer",E="ananonymouscheerer",w="407665396",_="Anon"},"5zf8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var i,a,r=n("/7QA");function o(e,t){switch(e){case i.Second:return Object(r.d)("{secondCount, plural, one {# second} other {# seconds}}",{secondCount:t},"formatDuration");case i.Minute:return Object(r.d)("{minuteCount, plural, one {# minute} other {# minutes}}",{minuteCount:t},"formatDuration");case i.Hour:return Object(r.d)("{hourCount, plural, one {# hour} other {# hours}}",{hourCount:t},"formatDuration");case i.Day:return Object(r.d)("{dayCount, plural, one {# day} other {# days}}",{dayCount:t},"formatDuration");case i.Week:return Object(r.d)("{weekCount, plural, one {# week} other {# weeks}}",{weekCount:t},"formatDuration");case i.Month:return Object(r.d)("{monthCount, plural, one {# month} other {# months}}",{monthCount:t},"formatDuration");default:return""}}function s(e,t){switch(e){case i.Second:return Object(r.d)("{secondCount}s",{secondCount:t},"formatDuration");case i.Minute:return Object(r.d)("{minuteCount}m",{minuteCount:t},"formatDuration");case i.Hour:return Object(r.d)("{hourCount}h",{hourCount:t},"formatDuration");case i.Day:return Object(r.d)("{dayCount}d",{dayCount:t},"formatDuration");case i.Week:return Object(r.d)("{weekCount}w",{weekCount:t},"formatDuration");case i.Month:return Object(r.d)("{monthCount}mo",{monthCount:t},"formatDuration");default:return""}}function c(e,t){var n;switch(void 0===t&&(t=a.Humanized),t===a.ClockAuto&&(t=e>=3600?a.ClockHMS:a.ClockMS),t){case a.ClockHM:case a.ClockHMS:n=i.Hour;break;case a.ClockMS:n=i.Minute}var c=2;t===a.ClockHMS&&(c=3);var d=function(e,t){void 0===t&&(t=i.Month);var n={};return n.seconds=e,e<60||t===i.Second?n:(n.minutes=Math.floor(e/60),n.seconds=e%60,n.minutes<60||t===i.Minute?n:(n.hours=Math.floor(n.minutes/60),n.minutes=n.minutes%60,n.hours<24||t===i.Hour?n:(n.days=Math.floor(n.hours/24),n.hours=n.hours%24,n.days<7||t===i.Day?n:n.days<=26||t===i.Week?(n.weeks=Math.floor(n.days/7),n.days=n.days%7,n):(n.months=Math.round((n.days+3)/30),n))))}(e,n),u=Object.keys(d);if(u.forEach((function(e,n){t!==a.Humanized&&t!==a.HumanizedShort||d[e]||delete d[e],n<u.length-c&&delete d[e]})),t===a.Humanized)return function(e){return e.months?o(i.Month,e.months):e.weeks&&e.days?o(i.Week,e.weeks)+" "+o(i.Day,e.days):e.weeks?o(i.Week,e.weeks):e.days&&e.hours?o(i.Day,e.days)+" "+o(i.Hour,e.hours):e.days?o(i.Day,e.days):e.hours&&e.minutes?o(i.Hour,e.hours)+" "+o(i.Minute,e.minutes):e.hours?o(i.Hour,e.hours):e.minutes&&e.seconds?o(i.Minute,e.minutes)+" "+o(i.Second,e.seconds):e.minutes?o(i.Minute,e.minutes):o(i.Second,e.seconds||0)}(d);if(t===a.HumanizedShort)return function(e){return e.months?s(i.Month,e.months):e.weeks&&e.days?""+s(i.Week,e.weeks)+s(i.Day,e.days):e.weeks?s(i.Week,e.weeks):e.days&&e.hours?""+s(i.Day,e.days)+s(i.Hour,e.hours):e.days?s(i.Day,e.days):e.hours&&e.minutes?""+s(i.Hour,e.hours)+s(i.Minute,e.minutes):e.hours?s(i.Hour,e.hours):e.minutes&&e.seconds?""+s(i.Minute,e.minutes)+s(i.Second,e.seconds):e.minutes?s(i.Minute,e.minutes):s(i.Second,e.seconds||0)}(d);var m=":",p=!1;switch(r.p.intl.getLanguageCode()){case"cy":case"da":case"fi":case"id":case"nb":case"si":m=".";break;case"af":case"fr":case"lt":p=!0}var h=d.seconds||0,f=d.minutes||0,g=d.hours||0;switch(t){case a.ClockHM:case a.ClockHMS:var v=(p?l(g,2):g)+m+l(f,2);return t===a.ClockHMS&&(v+=m+l(h,2)),v;case a.ClockMS:return(p?l(f,2):f)+m+l(h,2)}}function l(e,t){var n=e.toString();return n.length<t?"0".repeat(t-n.length)+n:n}!function(e){e[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.Month=5]="Month"}(i||(i={})),function(e){e[e.Humanized=0]="Humanized",e[e.HumanizedShort=1]="HumanizedShort",e[e.ClockAuto=2]="ClockAuto",e[e.ClockHM=3]="ClockHM",e[e.ClockMS=4]="ClockMS",e[e.ClockHMS=5]="ClockHMS"}(a||(a={}))},"60o1":function(e,t,n){"use strict";function i(e,t){var n=e,i=!1;return n?n.split("").map((function(e){return e.charCodeAt(0)>127})).reduce((function(e,t){return e||t}))&&(i=!0):n=t,{userDisplayName:n,isIntl:i}}n.d(t,"a",(function(){return i}))},"6C1D":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("1rIY"),s=n("3kHA"),c=n("WytW"),l=r.p.logger.withCategory("chat-commands"),d=/^[/.]([a-z0-9]+)(.+)?$/i,u=Object(o.a)("ChatCommandContext",{getCommands:function(e){return[]},addCommand:function(e){return null},removeCommand:function(e){return null},handleCommand:function(e,t){return{handled:!1}},prevCommand:null,clearPrevCommand:function(){return null}}),m=u.context,p=u.withContext,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={commands:{},prevCommand:null,prevPropsChannelLogin:t.props.channelLogin},t.getCommands=function(e){for(var n=[],i=0,a=Object.values(t.state.commands);i<a.length;i++){var r=a[i];!r.hidden&&e>=r.permissionLevel&&n.push(r)}return n},t.addCommand=function(e){t.setState((function(t){var n;return{commands:Object(i.__assign)(Object(i.__assign)({},t.commands),(n={},n[e.name]=e,n))}}))},t.removeCommand=function(e){t.setState((function(t){var n=Object(i.__assign)({},t.commands);return delete n[e.name],{commands:n}}))},t.handleCommand=function(e,n){var i=e.match(d);if(!i)return{handled:!1};var a=i[1],r=t.state.commands[a.toLowerCase()],o=(i[2]||"").trim();if(t.setPrevCommand({message:e,command:a.toLowerCase(),args:o}),!r)return{command:a,handled:!1};if(Object(c.m)(r)===o)return{command:a,handled:!0,result:{deferred:Promise.resolve({notice:r.helpText,error:s.a.MissingParameters})}};var u={channelLogin:n},m=r.handler;if(!m)return{command:a,handled:!1};try{return{command:a,handled:!0,result:m(o,u)}}catch(e){return l.warn("Exception thrown from chat command handler",{command:r,err:e}),{command:a,handled:!1}}},t.setPrevCommand=function(e){t.setState({prevCommand:e})},t.clearPrevCommand=function(){t.setState({prevCommand:null})},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.prevPropsChannelLogin?{commands:{},prevCommand:null,prevPropsChannelLogin:e.channelLogin}:null},t.prototype.render=function(){return a.createElement(m.Provider,{value:{getCommands:this.getCommands,addCommand:this.addCommand,removeCommand:this.removeCommand,handleCommand:this.handleCommand,prevCommand:this.prevCommand,clearPrevCommand:this.clearPrevCommand}},this.props.children)},Object.defineProperty(t.prototype,"prevCommand",{get:function(){return this.state.prevCommand},enumerable:!0,configurable:!0}),t}(a.Component);n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}))},"6JW5":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartySession"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchParty"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gti"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}],loc:{start:0,end:186}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-progress-fragment.gql"\nfragment watchPartySession on WatchParty {\nid\nprogress {\n...watchPartyProgress\n}\nstate\ngti\nviewersCount\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("1DRi").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},"6ZXE":function(e,t,n){},"6bwK":function(e,t,n){},"6j5V":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("RcPG");function a(e){return{type:i.a.Text,content:e}}},"6ovE":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserModStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[]}]}}]}}],loc:{start:0,end:124}};n.loc.source={body:"query UserModStatus ($userID: ID! $channelID: String!) {\nuser(id: $userID) {\nid\nlogin\nisModerator(channelID: $channelID)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UserModStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UserModStatus")},"6wGa":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("fvjX"),s=n("/7QA"),c=n("esZd"),l=n("xQnr"),d=n("geRD"),u=n("DMoW"),m=n("kRBY"),p=n("TApp"),h=n("a6LY"),f=n("yR8l"),g=n("H82h"),v=n("gO1k");var b=n("2EzP");var k=n("vLL+"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(){return t.props.banUser()},t.timeoutUser=function(){return t.props.timeoutUser()},t.unbanUser=function(){return t.props.unbanUser()},t.deleteMessage=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(this.props.confirmModerationAction&&!this.props.confirmModerationAction())return[3,4];if(e=Object(s.d)("Unable to delete message.","ModerationIcons"),!this.props.channelID)return this.surfaceError(e),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),t={channelID:this.props.channelID,messageID:this.props.messageID},[4,this.props.deleteChatMessageMutation(Object(d.a)(t))];case 2:return(n=i.sent().data)?((a=n.deleteChatMessage)&&a.responseCode!==u.mb.SUCCESS&&(r=a.message&&a.message.sender&&a.message.sender.displayName||this.props.senderLogin,o=function(e,t){switch(e){case u.mb.FORBIDDEN:return Object(s.d)("You don't have permission to delete messages.","DeleteChatMessageErrorCode");case u.mb.TARGET_IS_BROADCASTER:return Object(s.d)("You cannot delete the broadcaster's messages.","DeleteChatMessageErrorCode");case u.mb.TARGET_IS_MODERATOR:return Object(s.d)("You cannot delete messages from moderator {senderDisplayName}",{senderDisplayName:t},"DeleteChatMessageErrorCode");case u.mb.SUCCESS_STAFF:return Object(s.d)("You deleted a message from staff {senderDisplayName}. Please email support@twitch.tv if a staff member is being abusive.",{senderDisplayName:t},"DeleteChatMessageErrorCode");default:throw new Error("Unrecognized operation result")}}(a.responseCode,r),this.surfaceError(o)),[3,4]):(this.surfaceError(e),[2]);case 3:return i.sent(),this.surfaceError(e),[3,4];case 4:return[2]}}))}))},t.surfaceError=function(e){t.props.surfaceError&&t.props.surfaceError(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.sessionUser&&this.props.sessionUser.id===this.props.targetUserID?null:a.createElement(k.a,{isMessageDeleted:this.props.isMessageDeleted,isMessageBanned:this.props.isMessageBanned,canDelete:this.props.canDelete,onBanUser:this.banUser,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,onDelete:this.deleteMessage,senderLogin:this.props.senderLogin,renderNewVersion:this.props.renderNewVersion})},t}(a.Component);var S=Object(o.d)(b.a,Object(c.a)((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{targetID:e.targetUserID,source:h.b.QuickModButtons,surfaceError:function(t){e.messageHandlerAPI&&e.messageHandlerAPI.handleMessage(Object(p.a)(t))}})})),l.a,function(){var e=this;return Object(f.a)(v,{props:function(t){return{deleteChatMessageMutation:function(n){return Object(i.__awaiter)(e,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!t.mutate)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.mutate(n)];case 2:return(e=i.sent()).data&&e.data.deleteChatMessage&&e.data.deleteChatMessage.message&&e.data.deleteChatMessage.message.sender&&Object(g.a)(h.a.DeleteMessage,n.variables.input.channelID,e.data.deleteChatMessage.message.sender.id,h.b.QuickModButtons),[2,{data:e.data}];case 3:throw i.sent(),new Error("Unable to delete message");case 4:return[3,6];case 5:throw new Error("Delete chat message mutation is not ready");case 6:return[2]}}))}))}}}})}(),Object(r.b)((function(e){return{sessionUser:Object(m.e)(e)}})))(y);n.d(t,"a",(function(){return S}))},"76Xh":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("VbXa"),a=n.n(i),r=n("q1tI"),o=n("7d/q"),s=n("uKd/"),c=n("+80q"),l=n("hnjF"),d=n("X2PJ"),u=n("sUnt"),m=n("Ws8v"),p=n("zTPm"),h=(n("qbNO"),function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e,t,n;switch(this.props.size){case p.b.Small:e="tw-modal-header tw-modal-header--sm";break;case p.b.Large:e="tw-modal-header tw-modal-header--lg";break;default:e="tw-modal-header tw-modal-header--md"}switch(this.props.size){case p.b.Small:t="tw-modal-header__title--sm";break;case p.b.Large:t="tw-modal-header__title--lg";break;default:t="tw-modal-header__title--md"}switch(this.props.size){case p.b.Small:n=d.d.Size5;break;case p.b.Large:n=d.d.Size2;break;default:n=d.d.Size3}return r.createElement(d.f,{padding:.5,display:l.d.Flex,alignItems:l.b.Center,position:l.j.Relative},r.createElement("div",{className:e,style:{backgroundImage:this.props.imageSrc?"url("+this.props.imageSrc+")":void 0}},this.props.closeButton&&this.props.size===p.b.Small&&r.createElement(u.a,{margin:{right:1},className:"tw-modal-header__button"}),r.createElement(m.a,{className:t,flexGrow:1,visibility:this.props.imageSrc?l.n.Hidden:l.n.Visible,textAlign:this.props.size===p.b.Small?l.l.Center:void 0},r.createElement(c.a,{type:c.e.H2,fontSize:n},this.props.title)),this.props.closeButton&&r.createElement(u.a,{className:"tw-modal-header__button",margin:{left:1},alignSelf:l.c.Start},r.createElement(s.a,{ariaLabel:this.props.closeButton.ariaLabel,size:o.b.Small,onClick:this.props.closeButton.onClick,overlay:!!this.props.imageSrc}))))},t}(r.Component));h.displayName="ModalHeader"},"7NxT":function(e,t,n){"use strict";n("DLhE")},"7SjK":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("b5vT"),o=n("sUnt"),s=n("hnjF"),c=(n("VrOd"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickEmote=function(e){t.props.onClickEmote&&t.props.onClickEmote(e,t.props.context)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.emotes.map((function(t,n){return a.createElement(o.a,{key:"emote-button-padder-"+t.id+"--"+n,padding:{x:e.props.spaced?.5:0}},a.createElement(r.a,{key:"emote-button-"+t.id+"--"+n,emote:t,isCriticalImage:0===n,locked:e.props.locked||t.isLocked,onClick:e.props.locked?void 0:e.handleClickEmote}))}));return a.createElement(o.a,{display:s.d.Flex,flexWrap:s.f.Wrap},t)},t}(a.PureComponent));n.d(t,"a",(function(){return c}))},"7pYF":function(e,t,n){},"7qXh":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("q1tI"),a=n("/7QA"),r=n("sUnt"),o=n("hnjF"),s=n("7uM4"),c=n("C7sF"),l=n("+80q"),d=n("X2PJ"),u=function(){return i.createElement(r.a,{flexGrow:1,padding:{x:1,y:2}},i.createElement(r.a,{alignItems:o.b.Center,display:o.d.Flex,justifyContent:o.h.Center,textAlign:o.l.Center,flexDirection:o.e.Column},i.createElement(r.a,null,i.createElement(s.a,{asset:c.a.DeadGlitch,width:36,height:36})),i.createElement(r.a,{padding:{x:3,y:0},margin:{x:3,y:0}},i.createElement(l.a,{color:d.c.Alt2,fontSize:d.d.Size5},Object(a.d)("There was an unexpected error while loading. Please try again later.","ViewerCardModLogsFeature")))))}},"8/mp":function(e,t,n){"use strict";var i=n("4VQm"),a=n("HAa/"),r=n("mrSG"),o=n("q1tI"),s=n("/MKj"),c=n("fvjX"),l=n("sUnt"),d=n("hnjF"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.getStyles=function(){if(n.props.disableStickiness)return{position:"relative"};var e=n.state,t=e.anchoredBottom,i=e.anchoredTop,a=e.top,r=e.width,o=t||i,s="absolute";return window.outerWidth<(n.props.disableStickinessBelowWidth||0)?(s="inherit",o=!1):o&&(s="fixed"),{position:s,top:i?"inherit":a,width:o?r:"inherit"}},n.lockBottom=function(e){n.element&&n.setState({anchoredBottom:!0,top:window.innerHeight-e,width:n.element.getBoundingClientRect().width})},n.lockTop=function(){n.element&&n.setState({anchoredTop:!0,width:n.element.getBoundingClientRect().width})},n.resizeStickyColumn=function(){n.unlock(n.state.lastOffset||0),n.checkBounding(!0,0)},n.setRef=function(e){return n.element=e},n.state={anchoredBottom:!1,anchoredTop:!1,lastOffset:void 0,offsetTop:void 0,top:void 0,width:void 0},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.element){var e=this.element.getBoundingClientRect();this.setState({offsetTop:e.top})}this.unregister=this.props.registerReceiver(this)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.sideNavExpanded!==e.sideNavExpanded&&this.resizeStickyColumn()},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return o.createElement(l.a,{position:d.j.Relative,fullWidth:!0},o.createElement("div",{className:"sticky-container",ref:this.setRef,style:this.getStyles()},this.props.children))},t.prototype.checkVisible=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,n,a,o,s;return Object(r.__generator)(this,(function(r){return!t||t.type!==i.a.Resize&&t.type!==i.a.Wheel&&t.type!==i.a.Scroll||(e=this.state.anchoredBottom||this.state.anchoredTop,n=t.offset>=(this.state.lastOffset||0),t.type===i.a.Resize?(this.unlock(t.offset),this.checkBounding(n,t.offset)):t.wheelEvent&&t.type===i.a.Wheel&&e?(a=t.wheelEvent,o=a.deltaY,a.deltaMode!==WheelEvent.DOM_DELTA_PIXEL&&(o=16*a.deltaY),s=o+t.offset,this.props.yScrollTo(s),this.checkBounding(o>0,t.offset)):t.type!==i.a.Scroll||t.offset===this.state.lastOffset||e||this.checkBounding(n,t.offset)),[2]}))}))},t.prototype.checkBounding=function(e,t){e&&this.state.anchoredTop&&this.unlock(t),!e&&this.state.anchoredBottom&&this.unlock(t),this.state.anchoredBottom||this.state.anchoredTop||this.shouldLock(e),this.setState({lastOffset:t})},t.prototype.shouldLock=function(e){if(this.element){var t=this.element.getBoundingClientRect(),n=this.state.offsetTop||0;if(t.height<window.innerHeight-n)this.lockTop();else{var i=t.top<n,a=t.top>=window.innerHeight,r=t.bottom<n,o=t.bottom+(this.props.bottomPixelThreshold||0)>=window.innerHeight,s=!a&&!i,c=!o&&!r;!s&&!c||s&&c||(!e&&s&&this.lockTop(),e&&c&&this.lockBottom(t.height+(this.props.bottomPixelThreshold||0))),i&&r&&this.lockBottom(t.height+(this.props.bottomPixelThreshold||0)),a&&o&&this.lockTop()}}},t.prototype.unlock=function(e){if(this.element){var t,n=this.state,i=n.offsetTop,a=n.width,r=this.element.getBoundingClientRect(),o=window.innerHeight-(i||0),s=a;t="inherit",r.height<=o?s="inherit":this.state.anchoredTop?t=e:this.state.anchoredBottom&&(t=e-r.height+o-(this.props.bottomPixelThreshold||0)),this.setState({top:t,width:s,anchoredBottom:!1,anchoredTop:!1})}},t}(o.Component),m=(Object(c.d)(Object(s.b)((function(e){return{sideNavExpanded:e.ui.sideNavExpanded}})),Object(i.d)((function(e){return{registerReceiver:e.registerReceiver,yScrollTo:e.yScrollTo}})))(u),n("TSYQ")),p=n("bJDk"),h=(n("v+fc"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTriggerVisible=function(e,t){var n=t.top,i=t.top+t.height;return!(e.bottom<n||e.top>i)},t.setWrapRef=function(e){return t.wrapElement=e},t.setRef=function(e){return t.element=e},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=m({"scrollable-trigger__trigger-area":!0}),t={height:this.props.pixelThreshold||100};return o.createElement("div",{className:"scrollable-trigger__wrapper",ref:this.setWrapRef},o.createElement("div",{className:e,ref:this.setRef,style:t}))},t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.componentDidUpdate=function(){return this.props.requestVisibilityCheck(this),null},t.prototype.checkVisible=function(e,t){if(this.wrapElement&&this.element){var n=this.element.getBoundingClientRect();this.isTriggerVisible(n,e)?this.props.visible():this.props.notVisible&&this.props.notVisible()}},t}(o.Component)),f=Object(p.d)((function(e){return{registerReceiver:e.registerReceiver,requestVisibilityCheck:e.requestVisibilityCheck}}))(h);n.d(t,"b",(function(){return i.b})),n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return f}))},"8EUQ":function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"SUB_CHECKOUT__PRODUCT_KEY",(function(){return o})),n.d(i,"SUB_CHECKOUT__RECIPIENT_KEY",(function(){return s})),n.d(i,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",(function(){return c})),n.d(i,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",(function(){return l})),n.d(i,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",(function(){return d})),n.d(i,"clearSubscriptionCheckoutKeys",(function(){return m})),n.d(i,"showLoginModalWithCheckoutDispatch",(function(){return p}));var a=n("/7QA"),r=n("y5D0"),o="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",c="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",l="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",d="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",u=[o,s,c,l,d];function m(){u.forEach((function(e){return a.n.remove(e)}))}function p(e){return function(){return Object(r.e)(e,{onClose:m})}}n.d(t,"a",(function(){return i}))},"8FNT":function(e,t,n){},"8SX2":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("8Ad5"),o=n("fezU"),s=n("+80q"),c=n("X2PJ"),l=(n("rVcM"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==r.a.Space&&e.keyCode!==r.a.Enter||t.props.onUsernameClick(t.props.login,t.props.sourceType,t.props.contentID,e.currentTarget.getBoundingClientRect().bottom)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement("span",{className:"chatter-name",onClick:this.openViewerCard,onKeyDown:this.openViewerCard,role:"button",tabIndex:0},a.createElement(s.a,{bold:!0,color:c.c.Base,type:s.e.Span},this.props.children))},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(a.Component));var d=Object(o.b)((function(e){return{onUsernameClick:e.onShowViewerCard}}))(l);n.d(t,"a",(function(){return d}))},"8XBm":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockRandomSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockRandomSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockRandomSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:173}};n.loc.source={body:"mutation UnlockRandomSubscriberEmote($input: UnlockRandomSubscriberEmoteInput!) {\nunlockRandomSubscriberEmote (input: $input) {\nbalance\nemote {\nid\ntoken\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnlockRandomSubscriberEmote=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnlockRandomSubscriberEmote")},"8in3":function(e,t,n){"use strict";var i=n("fezU"),a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("ZS2+"),c=n("uy8m"),l=n("4rCz"),d=n("SSXq"),u=n("1MDS"),m=n("0Hf3"),p=n("o8Ti"),h=n("3GF+"),f=n("oK83"),g=n("Ws8v"),v=n("X2PJ"),b=n("XQbB"),k=n("7d/q"),y=n("C7sF"),S=n("hnjF"),C=n("sUnt"),E=(n("2D+f"),function(e){function t(t){var i=e.call(this,t)||this;return i.ViewerCard=s.a.wrap((function(){return n.e(68).then(n.bind(null,"q3Qz"))}),"ViewerCard",{placeholder:o.createElement(g.a,{background:v.a.Base,fullHeight:!0,fullWidth:!0,padding:2},o.createElement(b.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.ExtensionMessageCard=s.a.wrap((function(){return n.e(63).then(n.bind(null,"n3tJ"))}),"ExtensionMessageCard",{placeholder:o.createElement(g.a,{background:v.a.Base,fullHeight:!0,fullWidth:!0,padding:2},o.createElement(b.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.EmoteCard=s.a.wrap((function(){return n.e(62).then(n.bind(null,"unmP"))}),"EmoteCard",{placeholder:o.createElement(g.a,{fullHeight:!0,fullWidth:!0,padding:2},o.createElement(b.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.onDragStart=function(e){i.cardContainerRef&&i.layerRef&&e.button===c.a.Left&&(window.addEventListener("mousemove",i.onDrag),window.addEventListener("mouseup",i.onDragEnd),window.addEventListener("selectstart",i.cancelSelection),i.setState({dragging:!0}),i.initCardX=i.cardContainerRef.offsetLeft,i.initCardY=i.cardContainerRef.offsetTop,i.initMouseX=e.clientX,i.initMouseY=e.clientY)},i.onDrag=function(e){i.nextTop=i.initCardY+e.clientY-i.initMouseY,i.nextLeft=i.initCardX+e.clientX-i.initMouseX,i.rafHandle||(i.rafHandle=requestAnimationFrame((function(){i.rafHandle=0,i.cardContainerRef&&(i.cardContainerRef.style.top=i.nextTop+"px",i.cardContainerRef.style.left=i.nextLeft+"px")})))},i.openPopout=function(){if(i.props.viewerCardOptions){var e=i.props.viewerCardOptions.targetID,t=window.open(Object(d.a)("/popout/"+i.props.channelLogin+"/viewercard/"+e+"?popout="),"_blank","right=50,top=50,width=340,height=520,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");Object(m.c)({targetLogin:e,targetUserID:null,channelID:i.props.channelID,channelLogin:i.props.channelLogin,clickText:m.b.PopOut}),t&&(t.focus(),i.props.hideViewerCard())}},i.onDragEnd=function(){i.removeDragListeners(),i.setState({dragging:!1})},i.removeDragListeners=function(){window.removeEventListener("mousemove",i.onDrag),window.removeEventListener("mouseup",i.onDragEnd),window.removeEventListener("selectstart",i.cancelSelection)},i.cancelSelection=function(e){e.preventDefault()},i.hideEmoteCard=function(){i.props.viewerCardOptions&&i.props.viewerCardOptions.viewerCardType===f.c.Emote&&Object(u.c)({emoteLocation:Object(u.b)(i.props.viewerCardOptions.emoteSourceType),emoticonID:i.props.viewerCardOptions.emoteID,chatChannel:i.props.channelLogin,chatChannelID:i.props.channelID?i.props.channelID:"",referrerUserID:i.props.viewerCardOptions.targetID,action:u.a.Close,msgID:i.props.viewerCardOptions.sourceID}),i.props.hideViewerCard()},i.state={dragging:!1,viewerCardComponentLoaded:!1},i}return Object(a.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.props.hideViewerCard(),this.rafHandle&&cancelAnimationFrame(this.rafHandle),this.removeDragListeners()},t.prototype.componentDidUpdate=function(e){this.props.viewerCardOptions&&e.viewerCardOptions&&(this.props.viewerCardOptions.targetID===e.viewerCardOptions.targetID&&this.props.viewerCardOptions.initialTopOffset===e.viewerCardOptions.initialTopOffset||this.cardContainerRef&&(this.cardContainerRef.style.left="0px"))},t.prototype.render=function(){var e=this,t={"viewer-card-layer":!0,"viewer-card-layer--dragging":this.state.dragging},n={"viewer-card-layer__draggable":!0,"viewer-card-layer__draggable--dragging":this.state.dragging},i=null,a={};if(this.props.viewerCardOptions){if(this.layerRef){var s=this.layerRef.getBoundingClientRect(),c=Math.min(this.props.viewerCardOptions.initialTopOffset-s.top,s.height-240);a={top:Math.max(c,0)+"px"}}switch(this.props.viewerCardOptions.viewerCardType){case f.c.Extension:i=o.createElement(this.ExtensionMessageCard,{channelID:this.props.channelID,extensionID:this.props.viewerCardOptions.targetID,extensionVersion:this.props.viewerCardOptions.extensionVersion,hideMessageCard:this.props.hideViewerCard});break;case f.c.Viewer:i=o.createElement(this.ViewerCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,targetLogin:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.sourceType,sourceID:this.props.viewerCardOptions.sourceID,confirmModerationAction:this.props.confirmModerationAction,hideViewerCard:this.props.hideViewerCard});break;case f.c.Emote:i=o.createElement(this.EmoteCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,referrerID:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.emoteSourceType,sourceID:this.props.viewerCardOptions.sourceID,emoteID:this.props.viewerCardOptions.emoteID,emoteCode:this.props.viewerCardOptions.emoteCode,hideViewerCard:this.hideEmoteCard});break;default:i=null}}var d=null;if(i){var u=Object(l.d)("Hide","ViewerCard"),m=o.createElement(k.a,{icon:y.a.Close,onClick:this.props.hideViewerCard,ariaLabel:u,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"close-viewer-card"}),g=Object(p.a)(this.props.channelID)&&(this.props.isModerator||this.props.isOwner),b=Object(l.d)("Popout","ViewerCard"),E=g?o.createElement(k.a,{icon:y.a.Popout,onClick:this.openPopout,ariaLabel:b,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"popout-viewer-card"}):null;d=o.createElement(v.f,{className:r(n),position:S.j.Absolute,borderRadius:v.b.Medium,elevation:0},o.createElement("div",{onMouseDown:this.onDragStart,ref:function(t){e.cardContainerRef=t},style:a,"data-a-target":"viewer-card-positioner","data-test-selector":"viewer-card-positioner"},i,o.createElement(C.a,{position:S.j.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},o.createElement(h.a,null,E,m)))),this.props.viewerCardOptions.viewerCardType===f.c.Emote&&(m=o.createElement(k.a,{icon:y.a.Close,onClick:this.hideEmoteCard,ariaLabel:u,type:k.c.Secondary,"data-test-selector":"close-viewer-card"}),d=o.createElement(v.f,{className:r(n),position:S.j.Absolute,borderRadius:v.b.Large},o.createElement("div",{onMouseDown:this.onDragStart,ref:function(t){e.cardContainerRef=t},style:a,"data-a-target":"viewer-card-positioner"},i,o.createElement(C.a,{position:S.j.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},o.createElement(h.a,null,m)))))}return o.createElement(S.g,{className:r(t),fullHeight:!0,fullWidth:!0,position:S.j.Relative,zIndex:S.o.Above},o.createElement("div",{onMouseUp:this.onDragEnd,ref:function(t){e.layerRef=t}},d))},t}(o.Component));var w=Object(i.b)((function(e){return{viewerCardOptions:e.viewerCardOptions,hideViewerCard:e.hideViewerCard}}))(E);n.d(t,"a",(function(){return w}))},"8jSG":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"blockedUsers"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:56}};n.loc.source={body:"fragment blockedUsers on User {\nid\nblockedUsers {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"8qOS":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("/7QA"),s=n("yR8l"),c=n("geRD"),l=n("2Ygb"),d=n("a6LY"),u=n("4w0E"),m=n("1Rv/"),p=n("HzXE"),h=n("4G6/"),f=n("AREq"),g=n("Av0x"),v=n("H82h"),b=600;function k(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.banUser=function(t,n){var i=t?Object(o.d)("Unable to timeout user.","ViewerCardModActions"):Object(o.d)("Unable to ban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(i),Promise.reject(i);var a=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!a)return e.surfaceError(i),Promise.reject(i);var r=null;"number"==typeof t?r=Object(h.a)(t):"string"==typeof t&&(r=t);var s=e.props.channelID;return e.props.banUserMutation(Object(c.a)({channelID:s,bannedUserLogin:a,expiresIn:r,reason:n})).then((function(n){var i=n&&n.data&&n.data.banUserFromChatRoom&&n.data.banUserFromChatRoom.error,a=t?d.a.TimeoutUser:d.a.BanUser;if(e.updateUserBanStatusQuery(n.data),e.trackChatLoginModerationEvent(a,t&&t.toString()||void 0),i&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login){var r=i.minTimeoutDurationSeconds,o=i.maxTimeoutDurationSeconds;e.surfaceError(Object(f.a)({login:e.props.userBanStatusData.targetUser.login,code:i.code,isTimeout:!!t,minTimeoutDuration:r||void 0,maxTimeoutDuration:o||void 0}))}return n.data})).catch((function(t){throw e.surfaceError(i),t}))},e.unbanUser=function(t){var n=t?Object(o.d)("Unable to untimeout user.","ViewerCardModActions"):Object(o.d)("Unable to unban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(n),Promise.reject(n);var i=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!i)return e.surfaceError(n),Promise.reject(n);var a=e.props.channelID;return e.props.unbanUserMutation(Object(c.a)({channelID:a,bannedUserLogin:i})).then((function(n){var i=n&&n.data&&n.data.unbanUserFromChatRoom&&n.data.unbanUserFromChatRoom.error,a=t?d.a.UntimeoutUser:d.a.UnbanUser;return e.updateUserBanStatusQuery(null),e.trackChatLoginModerationEvent(a),i&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login&&e.surfaceError(Object(g.a)(e.props.userBanStatusData.targetUser.login,i.code)),n.data})).catch((function(t){throw e.surfaceError(n),t}))},e.updateUserBanStatusQuery=function(t){var n=e.props,i=n.channelID,a=n.targetID;Object(c.i)(p,{channelID:i,targetUserID:a},(function(e){var n=e&&e.targetUser||null;return t&&t.banUserFromChatRoom?{targetUser:n,chatRoomBanStatus:t.banUserFromChatRoom.ban}:{targetUser:n,chatRoomBanStatus:null}}))},e.surfaceError=function(t){e.props.surfaceError&&e.props.surfaceError(t)},e.trackChatLoginModerationEvent=function(t,n){var i=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.id,a=e.props,r=a.channelID,o=a.source;i&&r&&Object(v.a)(t,r,i,o,n&&"["+n+"]n")},e}return Object(i.__extends)(n,t),n.prototype.render=function(){var t=this,n={userBanStatus:this.props.userBanStatusData,banUser:function(e,n){return t.banUser(e,n)},timeoutUser:function(e,n){return t.banUser(e||b,n)},unbanUser:function(){return t.unbanUser()},untimeoutUser:function(){return t.unbanUser(!0)}};return a.createElement(e,Object(i.__assign)({},this.props,n))},n}(a.Component)).displayName=Object(l.a)(t.name,e),t}function y(e){return Object(r.d)(Object(s.a)(u,{name:"banUserMutation"}),Object(s.a)(m,{name:"unbanUserMutation"}),Object(s.a)(p,{name:"userBanStatusData",options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.targetID}}}}),k)(e)}},"8uuy":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:117}};n.loc.source={body:"query VideoChatVideoTrackingContext($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChatVideoTrackingContext=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChatVideoTrackingContext")},"8wAl":function(e,t,n){"use strict";function i(e){return{__typename:"CommunityPointsAutomaticReward",backgroundColor:e.background_color,cost:e.cost||null,image:e.image?r(e.image):null,isEnabled:e.is_enabled,type:e.reward_type}}function a(e){return{__typename:"CommunityPointsCustomReward",id:e.id,backgroundColor:e.background_color||null,cost:e.cost,defaultImage:r(e.default_image),image:e.image?r(e.image):null,isEnabled:e.is_enabled,isInStock:e.is_in_stock,isPaused:e.is_paused,isSubOnly:e.is_sub_only,isUserInputRequired:e.is_user_input_required,shouldRedemptionsSkipRequestQueue:e.should_redemptions_skip_request_queue,prompt:e.prompt||null,title:e.title}}function r(e){return{__typename:"CommunityPointsImage",url:e.url_1x,url2x:e.url_2x,url4x:e.url_4x}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}))},"9KaG":function(e,t,n){},"9MrB":function(e,t,n){"use strict";var i=n("R3G4");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},"9P+5":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_UserData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:105}};n.loc.source={body:"query Chat_UserData {\nuser {\nid\ndisplayName\nlogin\nroles {\nisGlobalMod\nisPartner\nisSiteAdmin\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_UserData=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_UserData")},"9Rmp":function(e,t,n){},"9sGC":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("/7QA"),s=n("uIkQ"),c=n("bBAb"),l=n("cys1"),d=n("oK83"),u=n("wFyP"),m=n("esZd"),p=n("8qOS"),h=n("vLL+"),f=n("a6LY"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(){return t.props.banUser()},t.timeoutUser=function(){return t.props.timeoutUser()},t.unbanUser=function(){return t.props.unbanUser()},t.deleteMessage=function(){},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.message.sender&&this.props.message.sender.login?a.createElement(h.a,{canDelete:!1,isMessageDeleted:!!this.props.message.deletedAt,onBanUser:this.banUser,onDelete:this.deleteMessage,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,renderNewVersion:!1,senderLogin:this.props.message.sender.login,isMessageBanned:this.props.userBanStatus&&!!this.props.userBanStatus.chatRoomBanStatus||!1}):null},t}(a.Component),v=Object(r.d)(Object(m.a)((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{source:f.b.QuickModButtons})})),p.a)(g),b=n("fxMP"),k=n("sUnt"),y=n("Jsra");n("QfRJ");n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return E}));var S="message-timestamp",C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={shouldShowDeletedBody:!1},t.showDeleted=function(e){e&&e.preventDefault(),t.setState({shouldShowDeletedBody:!0})},t}return Object(i.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e,t){return e.showModerationIcons!==this.props.showModerationIcons||(e.showTimestamps!==this.props.showTimestamps||(t.shouldShowDeletedBody!==this.state.shouldShowDeletedBody||(e.hasModPermissions!==this.props.hasModPermissions||e.message.deletedAt!==this.props.message.deletedAt)))},t.prototype.render=function(){if(!this.props.message.sender||!this.props.message.id)return a.createElement(k.a,{padding:{x:2,y:.5}},Object(o.d)("unable to properly render message","Message"));var e=this.props.message.sender.displayBadges,t={},n=": ";return this.props.message.content.text.startsWith(b.a)&&(t={color:this.props.message.sender.chatColor||void 0},n=" "),a.createElement(k.a,{padding:this.props.padding||{x:2,y:.5}},a.createElement("div",{id:this.props.message.id,className:"message",style:t},this.renderTimestamp(),this.renderModerationIcons(),a.createElement(s.b,{badgeSets:this.props.badgeSets,badgesToRender:e}),a.createElement(u.a,{highContrastUsernameColor:this.props.highContrastUsernameColor,messageID:this.props.message.id,sender:this.props.message.sender,theme:this.props.theme,onUsernameClick:this.props.onUsernameClick}),a.createElement("span",{key:"separator"},n),this.renderMessageBody()))},t.prototype.renderMessageBody=function(){if(!this.props.message.deletedAt||this.state.shouldShowDeletedBody){var e={forceClipsNetworkRequest:!0,messageAuthorID:this.props.message.sender.id,messageSourceID:this.props.message.id,emoteSourceType:d.a.room};return Object(l.f)(Object(b.e)(this.props.message,this.props.bitsConfig,this.props.currentUserLogin),e)}var t=Object(o.d)("message deleted","Message"),n=this.props.hasModPermissions?a.createElement(y.a,{onClick:this.showDeleted,"data-test-selector":"show-deleted"},"<"+t+">"):"<"+t+">";return a.createElement("span",{key:"deleted",className:"message--deleted","data-test-selector":"deleted-message"},n)},t.prototype.renderTimestamp=function(){return this.props.showTimestamps?a.createElement("span",{key:"timestamp",className:"message__timestamp","data-test-selector":S},Object(l.a)(new Date(this.props.message.sentAt),!0)):null},t.prototype.renderModerationIcons=function(){return this.props.showModerationIcons&&this.props.hasModPermissions&&this.props.channelID&&this.props.message.sender&&this.props.message.sender.id?a.createElement(v,{message:this.props.message,channelID:this.props.channelID,targetID:this.props.message.sender.id,surfaceError:this.props.surfaceError}):null},t}(a.Component);var E=Object(r.d)(Object(c.b)((function(e){return{bitsConfig:e.bitsConfig}})))(C)},"9yes":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};n.loc.source={body:"mutation Chat_AllowRejectedChatMessage($input: AllowRejectedChatMessageInput!) {\nallowRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_AllowRejectedChatMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_AllowRejectedChatMessage")},A4KW:function(e,t,n){"use strict";var i=n("ALJo");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},A4cy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("DMoW"),a=function(e,t){var n={subOnlyReward:!0,nonSubOnlyReward:!0,subsModeRequiredReward:!0};return"CommunityPointsCustomReward"===e.__typename&&e.isSubOnly&&(n.subOnlyReward=t.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.isHiddenForSubs&&(n.nonSubOnlyReward=!t.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.type===i.T.SINGLE_MESSAGE_BYPASS_SUB_MODE&&(n.subsModeRequiredReward=t.isChannelSubsOnlyMode),n}},A5Hy:function(e,t,n){"use strict";var i,a,r,o,s,c;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),function(e){e.False="false",e.True="true",e.Page="page",e.Step="step",e.Location="location",e.Date="date",e.Time="time"}(i||(i={})),function(e){e.False="false",e.True="true",e.Menu="menu",e.ListBox="listbox",e.Tree="tree",e.Grid="grid",e.Dialog="dialog"}(a||(a={})),function(e){e.False="false",e.True="true",e.Spelling="spelling",e.Grammar="grammar"}(r||(r={})),function(e){e.Off="off",e.Assertive="assertive",e.Polite="polite"}(o||(o={})),function(e){e.All="all",e.Additions="additions",e.AdditionsText="additions text",e.Removals="removals",e.Text="text"}(s||(s={})),function(e){e.Alert="alert",e.AlertDialog="alertdialog",e.Application="application",e.Article="article",e.Banner="banner",e.Button="button",e.Cell="cell",e.CheckBox="checkbox",e.ColumnHeader="columnheader",e.ComboBox="combobox",e.Complementary="complementary",e.Contentinfo="contentinfo",e.Definition="definition",e.Dialog="dialog",e.Directory="directory",e.Document="document",e.Feed="feed",e.Figure="figure",e.Form="form",e.Grid="grid",e.GridCell="gridcell",e.Group="group",e.Heading="heading",e.Img="img",e.Link="link",e.List="list",e.ListBox="listbox",e.ListItem="listitem",e.Log="log",e.Main="main",e.Marquee="marquee",e.Math="math",e.Menu="menu",e.Menubar="menubar",e.MenuItem="menuitem",e.MenuItemCheckBox="menuitemcheckbox",e.MenuItemRadio="menuitemradio",e.Navigation="navigation",e.None="none",e.Note="note",e.Option="option",e.Presentation="presentation",e.ProgressBar="progressbar",e.Radio="radio",e.RadioGroup="radiogroup",e.Region="region",e.Row="row",e.RowGroup="rowgroup",e.RowHeader="rowheader",e.ScrollBar="scrollbar",e.Search="search",e.SearchBox="searchbox",e.Separator="separator",e.Slider="slider",e.SpinButton="spinbutton",e.Status="status",e.Switch="switch",e.Tab="tab",e.Table="table",e.TabList="tablist",e.TabPanel="tabpanel",e.Term="term",e.TextBox="textbox",e.Timer="timer",e.ToolBar="toolbar",e.Tooltip="tooltip",e.Tree="tree",e.TreeGrid="treegrid",e.TreeItem="treeitem"}(c||(c={}))},AKV8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("yR8l"),r=n("4HoE");function o(e){var t=this;return Object(a.b)(r,{props:function(n){return{modUserMutation:function(a){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return(t=e(n.ownProps).channelID)?[4,n.mutate({variables:{input:{channelID:t,targetLogin:a}}})]:[3,2];case 1:return[2,i.sent().data];case 2:throw new Error("modUser mutation is not ready")}}))}))}}}})}},ALJo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d}));var i,a=n("q1tI"),r=n("fvjX"),o=n("yR8l"),s=n("YV90"),c=n("SyZi"),l=n("SCHm");!function(e){e.Small="channel-points-icon--small",e.Medium="channel-points-icon--medium",e.Large="channel-points-icon--large"}(i||(i={}));var d=Object(r.d)(Object(s.a)((function(e){return{isLoaded:e.isLoaded,pointIcon:e.pointIcon,pointName:e.pointName}})),Object(o.a)(l,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin||e.isLoaded}}))((function(e){var t=null,n=null,i=e.data;return e.isLoaded?(t=e.pointIcon,n=e.pointName):i&&i.community&&i.community.channel&&i.community.channel.communityPointsSettings&&(t=i.community.channel.communityPointsSettings.image,n=i.community.channel.communityPointsSettings.name),a.createElement(c.a,{iconSize:e.iconSize,image:t,name:n})}))},AREq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("/7QA"),a=n("DMoW"),r=n("4G6/");function o(e){var t=e.login,n=e.code,o=e.enteredDuration,s=e.minTimeoutDuration,c=e.maxTimeoutDuration,l=e.isTimeout;if(void 0===l&&(l=!1),l)switch(n){case a.l.FORBIDDEN:return Object(i.d)("You don't have permissions to timeout {login}.",{login:t},"BanUserErrorCode");case a.l.TARGET_IS_ADMIN:return Object(i.d)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case a.l.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is already banned in this channel.",{login:t},"BanUserErrorCode");case a.l.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot timeout anonymous users.","BanUserErrorCode");case a.l.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot timeout the broadcaster.","BanUserErrorCode");case a.l.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case a.l.TARGET_IS_MOD:return Object(i.d)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case a.l.TARGET_IS_SELF:return Object(i.d)("You cannot timeout yourself.","BanUserErrorCode");case a.l.TARGET_IS_STAFF:return Object(i.d)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case a.l.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case a.l.DURATION_INVALID:var d=Object(i.d)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:o||""},"BanUserErrorCode"),u=Object(i.d)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:s||0,maxTimeoutDuration:c||0},"BanUserErrorCode"),m=Object(i.d)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(o){if(void 0!==s&&void 0!==c){var p=Object(r.b)(o);if(!p||Number.isNaN(p))return d;if(p<s||p>c)return u}return d}return m;default:throw new Error("Unrecognized operation result.")}else switch(n){case a.l.FORBIDDEN:return Object(i.d)("You don't have permissions to ban {login}.",{login:t},"BanUserErrorCode");case a.l.TARGET_IS_ADMIN:return Object(i.d)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case a.l.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is currently banned in this channel.",{login:t},"BanUserErrorCode");case a.l.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot ban anonymous users.","BanUserErrorCode");case a.l.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot ban the broadcaster.","BanUserErrorCode");case a.l.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case a.l.TARGET_IS_MOD:return Object(i.d)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case a.l.TARGET_IS_SELF:return Object(i.d)("You cannot ban yourself.","BanUserErrorCode");case a.l.TARGET_IS_STAFF:return Object(i.d)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case a.l.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},AnlW:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("gcd7"),s=n("yR8l"),c=n("3kHA"),l=n("WytW"),d=n("Q8Sx"),u=30,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setSlowMode=function(e){if(t.props.roomID){var n=Object(l.s)("/slow "+e);return n?{deferred:t.props.updateRoomModes({variables:{input:{roomID:t.props.roomID,enableSlowMode:!0,slowModeDurationSeconds:n.duration||u}}}).then((function(){return{notice:Object(r.d)("This room is now in slow mode. You may send messages every {length} seconds.",{length:n.duration||u},"SlowCommandHandler")}})).catch((function(){return{notice:Object(r.d)("Unable to set slow mode.","SlowCommandHandler")}}))}:{deferred:Promise.resolve({notice:t.slowUsage(),error:c.a.InvalidParameters})}}},t.unsetSlowMode=function(e){if(t.props.roomID)return e&&e.trim().length>0?{deferred:Promise.resolve({notice:t.slowoffUsage(),error:c.a.InvalidParameters})}:{deferred:t.props.updateRoomModes({variables:{input:{roomID:t.props.roomID,enableSlowMode:!1}}}).then((function(){return{notice:Object(r.d)("This room is no longer in slow mode.","SlowCommandHandler")}})).catch((function(){return{notice:Object(r.d)("Unable to unset slow mode.","SlowCommandHandler")}}))}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(o.a,{args:[{name:"duration",isRequired:!1}],channelLogin:this.props.channelLogin,command:"slow",description:Object(r.d)("Limit how frequently users can send messages in Chat","SlowCommandHandler"),handler:this.props.roomID?this.setSlowMode:void 0,helpText:this.slowUsage(),permissionLevel:c.b.Moderator}),a.createElement(o.a,{channelLogin:this.props.channelLogin,command:"slowoff",description:Object(r.d)("Turn off slow mode","SlowCommandHandler"),handler:this.props.roomID?this.unsetSlowMode:void 0,helpText:this.slowoffUsage(),permissionLevel:c.b.Moderator}))},t.prototype.slowUsage=function(){return Object(r.d)('Usage: "/slow [duration]" - Enables slow mode (limit how often users may send messages). Duration (optional, default=30) must be a positive number of seconds. Use "/slowoff" to disable.',"SlowCommandHandler")},t.prototype.slowoffUsage=function(){return Object(r.d)('Usage: "/slowoff" - Disables slow mode.',"SlowCommandHandler")},t}(a.Component),p=Object(s.a)(d,{name:"updateRoomModes"})(m);n.d(t,"a",(function(){return p}))},ApRi:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendHighlightedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendHighlightedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendHighlightedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:150}};n.loc.source={body:"mutation SendHighlightedChatMessage($input: SendHighlightedChatMessageInput!) {\nsendHighlightedChatMessage(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SendHighlightedChatMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SendHighlightedChatMessage")},Ar2k:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("/0dD"),c=n("76Lv"),l=n("ygYM"),d=n("sUnt"),u=(n("f0/i"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e,t=((e={})[Object(c.b)(s.a.Dark)]=this.props.forceDarkTheme,e),n=Object(a.__assign)({direction:l.b.Right,show:!0,tail:!0},this.props.balloonProps);return o.createElement(d.a,{className:r("rich-content-tooltip",t)},this.props.children,o.createElement(l.a,Object(a.__assign)({},n),o.createElement("div",{ref:this.props.refCallback,className:"rich-content-tooltip__pointer-target"},o.createElement(d.a,{padding:.5},this.props.content))))},t}(o.Component)),m=n("/7QA"),p=n("b7S+"),h=(n("lX3L"),function(e){function t(t){var n=e.call(this,t)||this;return n.state={isError:!1,options:null,richOptions:null,hovering:!1},n.logger=m.p.logger.withCategory("tooltip-layer"),n.clearTimeoutAndRun=function(e,t){void 0===t&&(t=0),n.displayTimeout&&(clearTimeout(n.displayTimeout),n.displayTimeout=0),n.displayTimeout=setTimeout((function(){e(),n.displayTimeout=0}),t)},n.setRef=function(e){n.removeEventListeners(),n.addEventListeners(e),n.ref=e},n.addEventListeners=function(e){e&&(e.addEventListener("mouseenter",n.handleMouseEnter),e.addEventListener("mouseleave",n.handleMouseLeave),e.addEventListener("click",n.handleMouseClick))},n.removeEventListeners=function(){n.ref&&(n.ref.removeEventListener("mouseenter",n.handleMouseEnter),n.ref.removeEventListener("mouseleave",n.handleMouseLeave),n.ref.removeEventListener("click",n.handleMouseClick))},n.handleMouseEnter=function(){n.setState({hovering:!0})},n.handleMouseLeave=function(){n.setState({hovering:!1},(function(){n.displayTimeout||n.hideTooltip()}))},n.handleMouseClick=function(){n.setState({hovering:!1},(function(){n.hideTooltip(!0)}))},i=n,n}return Object(a.__extends)(t,e),t.prototype.componentDidCatch=function(e,t){var n=this;this.setState({isError:!0},(function(){m.p.stats.recordComponentError("TooltipLayer"),n.logger.errorAndReport(e,"A unhandled exception occurred in the component hierarchy",{info:t})}))},t.prototype.render=function(){if(this.state.isError)return null;var e=this.state.options&&this.state.options.from||this.state.richOptions&&this.state.richOptions.from;if(!e)return null;var t=this.state.richOptions?2:0,n=e.getBoundingClientRect(),i={transform:"translate("+Math.floor(n.left)+"px, "+Math.floor(n.top)+"px)",width:this.state.options&&this.state.options.elementWidth?this.state.options.elementWidth+t:n.width+t,height:n.height},r=o.createElement("div",{style:{width:i.width,height:i.height}}),s=null;return this.state.options?s=o.createElement(p.a,{direction:this.state.options.direction,align:this.state.options.align,label:this.state.options.label,width:this.state.options.width,show:!0},r):this.state.richOptions&&(s=o.createElement(u,{content:this.state.richOptions.richContent,refCallback:this.state.richOptions.allowHover&&this.setRef||void 0,forceDarkTheme:this.state.richOptions.forceDarkTheme,balloonProps:Object(a.__assign)(Object(a.__assign)({},this.state.richOptions.balloonProps),{show:!0})},r)),o.createElement("div",{className:"tooltip-layer",style:i},s)},t.prototype.showTooltip=function(e){var t=this;this.clearTimeoutAndRun((function(){t.setState({options:e,richOptions:null})})),this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=0)},t.prototype.showRichTooltip=function(e){var t=this;this.clearTimeoutAndRun((function(){t.setState({richOptions:e,options:null})}),e&&e.delayOpenMS&&!this.hoverTimeout?e.delayOpenMS:0),this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=0)},t.prototype.hideTooltip=function(e){var t=this;e||this.state.hovering||this.displayTimeout||(this.hoverTimeout=setTimeout((function(){clearTimeout(t.hoverTimeout),t.hoverTimeout=0}),1e3)),this.clearTimeoutAndRun((function(){t.state.hovering||t.setState({options:null,richOptions:null})}),!e&&this.state.richOptions&&this.state.richOptions.allowHover?400:0)},t}(o.Component));function f(){return function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.logger=m.k.withCategory("TooltipLayer"),e.show=function(t){i?i.showTooltip(t):e.logger.errorAndReport(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e.showRich=function(t){i?i.showRichTooltip(t):e.logger.errorAndReport(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e.hide=function(){i?i.hideTooltip():e.logger.errorAndReport(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e}return Object(a.__extends)(n,t),n.prototype.render=function(){var t={tooltipLayer:{show:this.show,showRich:this.showRich,hide:this.hide}};return o.createElement(e,Object(a.__assign)({},this.props,t))},n.displayName="WithTooltipLayerManipulation("+(e.displayName||e.name||"Component")+")",n}(o.Component)}}n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h}))},Av0x:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA"),a=n("DMoW");function r(e,t,n){if(void 0===n&&(n=!1),n)switch(t){case a.Wc.FORBIDDEN:return Object(i.d)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case a.Wc.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case a.Wc.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(t){case a.Wc.FORBIDDEN:return Object(i.d)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case a.Wc.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case a.Wc.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},"B/KH":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.ChannelPage="channelPage",e.ChannelClipsPage="channelClipsPage",e.ChannelCollectionsPage="channelCollectionsPage",e.ChannelFollowersPage="channelFollowersPage",e.ChannelEventsPage="channelEventsPage",e.ChannelVideosOverviewPage="channelVideosOverviewPage",e.CommandCenter="commandCenter",e.DashboardLivePage="dashboardLivePage",e.Embed="embed",e.Popout="popout",e.SquadMode="squadMode",e.TheatreMode="theatreMode"}(i||(i={}))},B30r:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return f}));var i=n("q1tI"),a=n("DMoW"),r=n("4rCz"),o=n("JN5s"),s=n("zClW"),c=n("+80q"),l=n("Jsra"),d=n("nAiT");function u(){return Object(r.d)("You must provide a message for this reward.","ChannelPointsMessageError")}function m(){return Object(r.d)("Something went wrong. Please try again later.","CommunityPointsError")}function p(e){switch(e){case a.Ac.CHANNEL_SETTINGS:return Object(s.c)().MessageContainsBannedWordsError;case a.Ac.MSG_DUPLICATE:return Object(o.a)();case a.Ac.AUTOMOD_HELD:case a.Ac.BLIZZARD_CONNECT_MODE:case a.Ac.EMOTE_ONLY:case a.Ac.FOLLOWERS_ONLY:case a.Ac.FOLLOWERS_ONLY_ZERO:case a.Ac.INSUFFICIENT_POINTS:case a.Ac.MESSAGE_REJECTED:case a.Ac.R9K_MODE:case a.Ac.REWARD_COST_MISMATCH:case a.Ac.REWARD_DISABLED:case a.Ac.REWARD_FORBIDDEN:case a.Ac.SERVER_ERROR:case a.Ac.SLOW_MODE:case a.Ac.SUBS_ONLY:case a.Ac.TRANSACTION_ALREADY_COMMITTED:case a.Ac.TRANSACTION_IN_PROGRESS:case a.Ac.UNKNOWN:case a.Ac.USER_BANNED:case a.Ac.USER_SUSPENDED:case a.Ac.USER_TIMED_OUT:case a.Ac.VERIFIED_ACCOUNT:default:return m()}}function h(e,t){switch(e){case a.W.EMOTE_ALREADY_ENTITLED:return Object(r.d)("<x:strong>Oops!</x:strong> You can already use this emote!",{"x:strong":function(e){return i.createElement(c.a,{bold:!0,type:c.e.Span},e)}},"ChannelPointsEmoteUnlockError");case a.W.INSUFFICIENT_POINTS:return Object(r.d)("<x:strong>Oops!</x:strong> You don't have enough points for this reward. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(c.a,{bold:!0,type:c.e.Span},e)},"x:link":function(e){return i.createElement(l.a,{onClick:t},e)}},"ChannelPointsEmoteUnlockError");case a.W.NO_EMOTES_AVAILABLE:return Object(r.d)("<x:strong>Oops!</x:strong> This broadcaster has no emotes to unlock. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(c.a,{bold:!0,type:c.e.Span},e)},"x:link":function(e){return i.createElement(l.a,{onClick:t},e)}},"ChannelPointsEmoteUnlockError");case a.W.REWARD_COST_MISMATCH:return Object(d.d)(null,(function(){return null}));case a.W.REWARD_DISABLED:return Object(r.d)("<x:strong>Oops!</x:strong> This reward is disabled. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(c.a,{bold:!0,type:c.e.Span},e)},"x:link":function(e){return i.createElement(l.a,{onClick:t},e)}},"ChannelPointsEmoteUnlockError");case a.W.REWARD_FORBIDDEN:return Object(r.d)("<x:strong>Oops!</x:strong> You cannot redeem this reward on this channel. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(c.a,{bold:!0,type:c.e.Span},e)},"x:link":function(e){return i.createElement(l.a,{onClick:t},e)}},"ChannelPointsEmoteUnlockError");case a.W.TRANSACTION_ALREADY_COMMITTED:case a.W.INVALID_EMOTE:case a.W.UNKNOWN:default:return m()}}function f(e){switch(e){case a.jc.MAX_PER_STREAM:return Object(r.d)("This reward is temporarily out of stock.","ChannelPointsMessageError");case a.jc.USER_BANNED:return Object(r.d)("You've been banned and can't redeem this reward.","ChannelPointsMessageError");case a.jc.NOT_ENOUGH_POINTS:return Object(r.d)("You don't have enough points for this reward.","ChannelPointsMessageError");case a.jc.PROPERTIES_MISMATCH:return Object(d.e)(null,(function(){return null}));case a.jc.DUPLICATE_TRANSACTION:case a.jc.FORBIDDEN:case a.jc.NOT_FOUND:default:return m()}}},"BQs+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return m}));var i,a=n("mrSG"),r=n("/7QA"),o=n("2xye"),s=n("IZXT"),c=n("I6K6"),l=n("bTcf"),d=n("L7EG");function u(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,l,m,p,h,f;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,,6]),i=void 0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.query({query:d,variables:{videoID:e.id}})];case 2:return l=a.sent().data,i=l,[3,4];case 3:return m=a.sent(),Object(s.d)()?r.k.warn("Failed to query tracking video"):r.k.errorAndReport(m,"Failed to query tracking video"),[2];case 4:return p=function(e,t){return{id:e.id,owner:t.owner,broadcastType:t.broadcastType,game:t.game}}(e,i.video),h={channel:p.owner?p.owner.login:null,channel_id:Number(e.owner.id),game:p.game?p.game.name:null,partner:!!p.owner&&p.owner.roles.isPartner,location:t.location,share_context:t.collectionID?o.ShareItemContext.Collection:null,share_platform:t.platform,shared_item_id:t.collectionID?t.collectionID:p.id,shared_item_type:t.collectionID?o.ShareItemType.Collection:Object(c.a)(p.broadcastType),shared_item_url:t.shareURL,source_item_id:p.id,source_item_type:Object(c.a)(p.broadcastType)},r.p.tracking.track(o.SpadeEventType.ShareItem,h),[3,6];case 5:return f=a.sent(),r.k.errorAndReport(f.toString(),u.name),[3,6];case 6:return[2]}}))}))}function m(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,s,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,n.query({query:l,variables:{creatorID:e.owner.id}})];case 1:return i=a.sent().data,s={channel:i.user?i.user.login:null,channel_id:Number(e.owner.id),game:null,partner:!!i.user&&i.user.roles.isPartner,location:t.location,share_context:null,share_platform:t.platform,shared_item_id:e.id,shared_item_type:o.ShareItemType.Collection,shared_item_url:t.shareURL,source_item_id:e.id,source_item_type:o.SourceItemType.Collection},r.p.tracking.track(o.SpadeEventType.ShareItem,s),[3,3];case 2:return c=a.sent(),r.k.errorAndReport(c.toString(),m.name),[3,3];case 3:return[2]}}))}))}!function(e){e.Copy="link",e.Embed="option_embed",e.Facebook="fb",e.Link="option_link",e.Reddit="reddit",e.Twitter="twitter",e.Unknown="",e.VKontakte="vk",e.Download="download"}(i||(i={}))},"BR/5":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetDeletedMessageDisplaySetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetDeletedMessageDisplaySettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setDeletedMessageDisplaySetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:185}};n.loc.source={body:"mutation SyncedSettingsSetDeletedMessageDisplaySetting($input: SetDeletedMessageDisplaySettingInput!) {\nsetDeletedMessageDisplaySetting(input: $input) {\ndeletedMessageDisplaySetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsSetDeletedMessageDisplaySetting=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsSetDeletedMessageDisplaySetting")},BbLt:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"medProfileImageUrl"},name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastBroadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chanlets"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelChanlet"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"hostingChannel"},directives:[]}]}}],loc:{start:0,end:755}};i.loc.source={body:'#import "twilight/features/channel/queries/hosting-channel.gql"\n#import "twilight/features/channel/queries/channel-chanlet.gql"\nfragment channel on User {\nid\nprimaryColorHex\nbroadcastSettings {\nid\nlanguage\ngame {\nid\nname\ndisplayName\nboxArtURL(width: 85 height: 113)\n}\ntitle\n}\ndisplayName\nlogin\nprofileImageURL(width: 50)\nmedProfileImageUrl: profileImageURL(width: 70)\nroles {\nisPartner\n}\nstream {\nid\ngame {\nid\nname\ndisplayName\nboxArtURL(width: 85 height: 113)\n}\ntitle\ntype\nviewersCount\n}\nlastBroadcast {\nid\ngame {\nid\nname\ndisplayName\nboxArtURL(width: 85 height: 113)\n}\ntitle\n}\nself {\nfollower {\ndisableNotifications\nnode {\nid\n}\n}\nsubscriptionBenefit {\nid\n}\n}\nchannel {\nid\nchanlets @include(if: $includeChanlets) {\n...channelChanlet\n}\n}\n...hostingChannel\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("GvwK").definitions)),i.definitions=i.definitions.concat(r(n("ZGqV").definitions)),e.exports=i},BdUW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("SSXq"),a=n("EgE3");function r(e,t,n,r){Object(a.j)(e,t,n);var o="/popout/"+t+"/reward-queue";r&&(o+="?rewardID="+r);var s=window.open(Object(i.a)(o),"_blank","right=50,top=50,width=900,height=800,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");s&&s.focus()}},BhFH:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("yR8l"),a=n("8jSG"),r=n("cMjZ"),o=n("kSkr");function s(){return Object(i.b)(o,{props:function(e){return{blockUserMutation:function(t,n,i,o){return e.mutate({variables:{input:{targetUserID:t,sourceContext:i,reason:n}},optimisticResponse:{blockUser:{__typename:"BlockUserPayload",targetUser:{__typename:"User",id:t}}},update:function(e){var n=e.readFragment({id:Object(r.a)(o),fragment:a});n&&(n.blockedUsers.push({id:t,__typename:"User"}),e.writeFragment({id:Object(r.a)(o),fragment:a,data:n}))}})}}}})}},By5U:function(e,t){},C9w8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=new Set(["alt","src","srcSet","sizes","onError","onLoad","refHandler"]);function a(e){for(var t={},n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];i.has(r)&&(t[r]=e[r])}return t}},CGUg:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("fNzW"),s=n("vCsY"),c=n("X2PJ"),l=n("Ws8v"),d=(n("rljb"),function(e){return r.createElement(l.a,a()({className:Object(o.a)({"tw-typeset":!0}),fontSize:e.baseFontSize||c.d.Size5},Object(s.a)(e)),e.children)});d.displayName="Typeset",d.displayName="Typeset"},CGXs:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA");function o(e,t,n){var o=Object(a.useState)(null),s=o[0],c=o[1],l=Object(a.useState)(null),d=l[0],u=l[1],m=function(){c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isSubscribing:!1})}))},p=function(e){c((function(t){return Object(i.__assign)(Object(i.__assign)({},t),{error:e,isSubscribing:!1})}))};return Object(a.useEffect)((function(){if(!t&&e){c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isSubscribing:!0})}));var a=r.l.subscribe({topic:e,success:m,failure:p,onMessage:function(e){n&&n(e)||u(e)}});return function(){a(),c(null),u(null)}}}),[e,t]),[d,s]}},CJLt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChat_TrackingContext_VideoAndCurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:197}};n.loc.source={body:"query VideoChat_TrackingContext_VideoAndCurrentUser($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\nowner {\nid\nlogin\nroles {\nisPartner\n}\n}\n}\ncurrentUser {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChat_TrackingContext_VideoAndCurrentUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChat_TrackingContext_VideoAndCurrentUser")},CNnA:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var i=function(e){return{isCommerceDisabled:e.isWatchPartyActive}},a=function(e){return{isCommerceDisabled:e.isWatchPartyActive,disableCommerce:e.updateWatchPartyActive,allowChatOnPageDuringWatchParty:e.allowChatOnPageDuringWatchParty}}},CZEr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowButton_UnfollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnfollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unfollowUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"mutation FollowButton_UnfollowUser($input: UnfollowUserInput!) {\nunfollowUser(input: $input) {\n# This mutation returns the unmutated follower edge.\n# We actually do not care about any field returned here.\nfollow {\ndisableNotifications\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.FollowButton_UnfollowUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"FollowButton_UnfollowUser")},CbHG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatFilterContextManager_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};n.loc.source={body:"query ChatFilterContextManager_User {\ncurrentUser {\nid\ncreatedAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatFilterContextManager_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatFilterContextManager_User")},"CpU+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("yR8l"),r=n("JiJH");function o(){var e=this;return Object(a.a)(r,{props:function(t){return{unVIPUserMutation:function(n){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return t.mutate&&t.ownProps.channelID?[4,t.mutate({variables:{input:{channelID:t.ownProps.channelID,revokeeLogin:n}}})]:[2];case 1:return[2,e.sent().data]}}))}))}}}})}},CtjF:function(e,t,n){},CzFK:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"n",(function(){return g}));var i="whispers.THREAD_OPENED",a="whispers.THREAD_CLOSED",r="whispers.THREAD_COLLAPSED",o="whispers.THREAD_EXPANDED",s="whispers.THREAD_FOCUSED",c="whispers.THREAD_UNFOCUSED",l="whispers.CONTENT_RESIZED";function d(e,t){return{type:i,data:e,contentWidth:t}}function u(e,t){return{type:a,threadID:e,contentWidth:t}}function m(e,t){return{type:r,threadID:e,contentWidth:t}}function p(e,t){return{type:o,threadID:e,contentWidth:t}}function h(e){return{type:l,contentWidth:e}}function f(e,t){return{type:s,threadID:e,contentWidth:t}}function g(e,t){return{type:c,threadID:e,contentWidth:t}}},D91L:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("fvjX"),s=n("/7QA"),c=n("gcd7"),l=n("BhFH"),d=n("iS14"),u=n("DMoW"),m=n("TvOw"),p=n("kRBY"),h=n("3kHA"),f=n("NNSq"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getInvalidUserMessage=function(){return Object(s.d)("No user matching that login.","IgnoreCommandHandler")},t.blockUser=function(e){return e?e===t.props.currentUserLogin?{deferred:Promise.resolve({notice:Object(s.d)("You cannot ignore yourself.","IgnoreCommandHandler")})}:{deferred:Object(f.a)(e).then((function(e){if(!e)return{notice:t.getInvalidUserMessage()};try{t.props.blockUserMutation(e,m.a.Other,u.s.CHAT,t.props.user)}catch(e){return{notice:Object(s.d)("Unable to ignore user","IgnoreCommandHandler")}}return{notice:Object(s.d)("User successfully ignored","IgnoreCommandHandler")}}))}:{deferred:Promise.resolve({notice:Object(s.d)("Please specify a user to ignore","IgnoreCommandHandler"),error:h.a.MissingParameters})}},t.unblockUser=function(e){return e?e===t.props.currentUserLogin?{deferred:Promise.resolve({notice:Object(s.d)("You cannot unignore yourself.","IgnoreCommandHandler")})}:{deferred:Object(f.a)(e).then((function(e){if(!e)return{notice:t.getInvalidUserMessage()};try{t.props.unblockUserMutation(e,t.props.user)}catch(e){return{notice:Object(s.d)("Unable to unignore user","IgnoreCommandHandler")}}return{notice:Object(s.d)("User successfully unignored","IgnoreCommandHandler")}}))}:{deferred:Promise.resolve({notice:Object(s.d)("Please specify a user to unignore","IgnoreCommandHandler"),error:h.a.MissingParameters})}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(c.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"ignore",description:this.blockDescription(),handler:this.blockUser,helpText:Object(s.d)('Usage: "/ignore <username>" - Blocks user from interacting with you on Twitch. Use "/unignore <username>" to disable.',"IgnoreCommandHandler"),hidden:!0,permissionLevel:h.b.Viewer}),a.createElement(c.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unignore",description:this.unblockDescription(),handler:this.unblockUser,helpText:Object(s.d)('Usage: "/unignore <username>" - Removes a user from your blocklist.',"IgnoreCommandHandler"),hidden:!0,permissionLevel:h.b.Viewer}),a.createElement(c.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"block",description:this.blockDescription(),handler:this.blockUser,helpText:Object(s.d)('Usage: "/block <username>" - Blocks user from interacting with you on Twitch. Use "/unblock <username>" to disable.',"IgnoreCommandHandler"),permissionLevel:h.b.Viewer}),a.createElement(c.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unblock",description:this.unblockDescription(),handler:this.unblockUser,helpText:Object(s.d)('Usage: "/unblock <username>" - Removes a user from your blocklist.',"IgnoreCommandHandler"),permissionLevel:h.b.Viewer}))},t.prototype.blockDescription=function(){return Object(s.d)("Block a user from interacting with you on Twitch","IgnoreCommandHandler")},t.prototype.unblockDescription=function(){return Object(s.d)("Remove user from your block list","IgnoreCommandHandler")},t}(a.Component);var v=Object(o.d)(Object(r.b)((function(e){return{user:Object(p.e)(e)}})),Object(d.a)(),Object(l.a)())(g);n.d(t,"a",(function(){return v}))},"DB+C":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmotePicker_EmotePicker_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelOwnerID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerUserSubscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:449}};i.loc.source={body:'#import "twilight/features/emote-picker/components/emote-picker-menu/user-subscription-product-fragment.gql"\nquery EmotePicker_EmotePicker_UserSubscriptionProducts($channelOwnerID: ID!) {\nuser(id: $channelOwnerID) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\nsubscriptionProducts {\n...emotePickerUserSubscriptionProduct\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nsubscriptionBenefit {\nid\nplatform\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("ZhU4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.EmotePicker_EmotePicker_UserSubscriptionProducts=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"EmotePicker_EmotePicker_UserSubscriptionProducts")},DLhE:function(e,t,n){"use strict";var i=n("mrSG"),a=n("/7QA"),r=n("f00E"),o=n("+pBb"),s=n("F6GT"),c=n("2xye"),l=n("VJH5");function d(e,t){a.o.track(c.SpadeEventType.ChatFilterSettingsChanged,{chat_filter_is_active:e.viewerChatFilterEnabled,from_menu:t,toggle_aggressive_language:e.viewerChatFilterSettings[l.a.Aggressive],toggle_explicit_language:e.viewerChatFilterSettings[l.a.Sexual],toggle_identity_language:e.viewerChatFilterSettings[l.a.Identity],toggle_profane_language:e.viewerChatFilterSettings[l.a.Profanity]})}function u(e){return e.chat.renderSent}function m(e){return-1===Object.values(e).indexOf(!0)}function p(e){Object(s.c)("viewerChatFilterEnabled",e.viewerChatFilterEnabled),Object(s.c)("viewerChatFilterSettings",e.viewerChatFilterSettings)}n.d(t,"a",(function(){return u})),a.p.store.registerReducer("chat",(function(e,t){var n,a,c,u;switch(void 0===e&&(u=Object(s.b)(),e=Object(i.__assign)(Object(i.__assign)({},u),{emoteSets:[],emotePickerSessionID:null,isChatRulesOpen:!1,isHidden:!1,renderSent:null,unhideIgnoredUsers:[]})),t.type){case o.c:return Object(i.__assign)(Object(i.__assign)({},e),{isHidden:!0});case o.d:return Object(i.__assign)(Object(i.__assign)({},e),{isHidden:!1});case o.e:return Object(i.__assign)(Object(i.__assign)({},e),{isChatRulesOpen:!1});case o.h:return Object(i.__assign)(Object(i.__assign)({},e),{emoteSets:t.emoteSets});case o.f:return Object(i.__assign)(Object(i.__assign)({},e),{emotePickerSessionID:null});case o.g:return Object(i.__assign)(Object(i.__assign)({},e),{emotePickerSessionID:Object(r.c)()});case o.i:return Object(i.__assign)(Object(i.__assign)({},e),{lastUsedFollowerDurations:Object(i.__assign)(Object(i.__assign)({},e.lastUsedFollowerDurations),(n={},n[t.channelLogin]=t.duration,n))});case o.p:return Object(i.__assign)(Object(i.__assign)({},e),{lastUsedSlowModeDurations:Object(i.__assign)(Object(i.__assign)({},e.lastUsedSlowModeDurations),(a={},a[t.channelLogin]=t.duration,a))});case o.o:return Object(i.__assign)(Object(i.__assign)({},e),{isChatRulesOpen:!0});case o.a:return Object(i.__assign)(Object(i.__assign)({},e),{showAutoModActions:!1});case o.b:return Object(i.__assign)(Object(i.__assign)({},e),{showAutoModActions:!0});case o.j:return Object(i.__assign)(Object(i.__assign)({},e),{showModerationActions:!1});case o.k:return Object(i.__assign)(Object(i.__assign)({},e),{showModerationActions:!0});case o.l:return Object(i.__assign)(Object(i.__assign)({},e),{showModIcons:!1});case o.m:return Object(i.__assign)(Object(i.__assign)({},e),{showModIcons:!0});case o.q:return Object(i.__assign)(Object(i.__assign)({},e),{showTimestamps:!1});case o.r:return Object(i.__assign)(Object(i.__assign)({},e),{showTimestamps:!0});case o.t:var h=Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!1});return p(h),d(h,t.source),h;case o.u:return p(h=m(e.viewerChatFilterSettings)?Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!0,viewerChatFilterSettings:(c={},c[l.a.Aggressive]=!0,c[l.a.Identity]=!0,c[l.a.Profanity]=!1,c[l.a.Sexual]=!0,c)}):Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!0})),d(h,t.source),h;case o.v:return p(h=Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!m(t.settings),viewerChatFilterSettings:Object(i.__assign)(Object(i.__assign)({},e.viewerChatFilterSettings),t.settings)})),d(h,t.source),h;case o.n:return Object(i.__assign)(Object(i.__assign)({},e),{renderSent:t.customEvent});case o.s:return Object(i.__assign)(Object(i.__assign)({},e),{unhideIgnoredUsers:Object(i.__spreadArrays)(e.unhideIgnoredUsers,[t.userID])});default:return e}}))},DY5q:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("fNzW"),s=n("vCsY"),c=n("hnjF"),l=n("X2PJ"),d=n("2Ob2"),u=n("2nDl"),m=(n("utFH"),function(e){var t,n={"tw-select":!0,"tw-select--small":e.size===u.c.Small,"tw-select--large":e.size===u.c.Large,"tw-select--disabled":e.disabled,"tw-select--error":e.error,"tw-select--overlay":e.overlay};e.tabIndex&&(t=e.tabIndex);var i=u.c.Default;return e.size&&(i=e.size),r.createElement(l.f,{display:c.d.Block,borderRadius:u.a[e.size?e.size:u.c.Default],fontSize:u.b[i],padding:{left:1,right:3,y:e.size===u.c.Small?void 0:.5},fullWidth:!0},r.createElement("select",a()({"aria-label":e.ariaLabel,className:Object(o.a)(n),defaultValue:e.defaultValue,autoComplete:e.autoComplete,disabled:e.disabled,id:e.id,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,required:e.required,tabIndex:t,value:e.value,ref:e.refDelegate},Object(s.a)(e)),e.children))});m.displayName="SelectComponent",m.displayName="SelectComponent";var p=Object(d.c)(m)},DnOo:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("/7QA"),s=n("SDEh"),c=n("8EUQ"),l=n("GnwI"),d=n("br9A"),u=n("dEDE"),m=n("C7sF"),p=n("vCsY"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.openCheckout(),t.props.handleSubAction({action:t.props.overrideSubEventAction?t.props.overrideSubEventAction:d.a.ClickCheckout,checkoutButtonTier:t.props.tierPrice})},t.openCheckout=function(){t.props.isMobileCheckout||o.n.set(c.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.productName)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.props.isSubbedToTier){var e=Object(o.d)("Subscribed","SubTierButton");return a.createElement(u.a,{ariaLabel:e,"data-test-selector":"subscribe-button__subscribe-tier-button",disabled:!0,icon:m.a.Star},e)}var t;return t=this.props.customSubscribeNowMessage?this.props.customSubscribeNowMessage:Object(o.d)("Subscribe","SubTierButton"),a.createElement(u.a,Object(i.__assign)({ariaLabel:t+" "+this.props.tierPrice,"data-test-selector":"subscribe-button__subscribe-tier-button",icon:this.props.icon,linkTo:this.props.isMobileCheckout?this.props.url:void 0,onClick:this.handleClick,purchase:this.props.tierPrice},Object(p.a)(this.props),{fullWidth:this.props.fullWidth,targetBlank:!!Object(s.b)()||void 0}),t)},t}(a.Component),f=Object(r.d)(Object(l.withLatencyTracking)("SubTierButton",{autoReportInteractive:!0}))(h);n.d(t,"a",(function(){return f}))},DpwM:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d}));var i="video",a="published",r="unpublished",o="pending_review",s="pending_review_spam",c="current",l="",d=function(e){return""!==e.parentId}},Dufr:function(e,t,n){"use strict";var i=n("q1tI"),a=n("/7QA"),r=n("sUnt"),o=n("hnjF"),s=n("Ws8v"),c=n("+80q"),l=n("X2PJ"),d=function(e){var t=new Date(e.dateString);return"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime())?null:i.createElement(r.a,{display:o.d.Flex,alignItems:o.b.Center},i.createElement(s.a,{margin:{right:1,left:1},flexGrow:1,borderBottom:!0}),i.createElement(c.a,{color:l.c.Alt2},Object(a.c)(t)),i.createElement(s.a,{margin:{right:1,left:1},flexGrow:1,borderBottom:!0}))};n.d(t,"a",(function(){return d}))},DwV5:function(e,t,n){"use strict";var i=n("mrSG"),a=n("p46w"),r=n("/7QA"),o=n("mDos"),s=n("geRD"),c=n("ZxDf"),l=n("DMoW"),d=n("3yfl"),u=n("enD+"),m=183;function p(e,t){return Object(i.__awaiter)(this,void 0,Promise,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),(n=a.get(o.g))?[4,f(v(n),t,o.a)]:(t.warn("User is not logged into Amazon."),[2]);case 1:return(r=i.sent())?(e(r.accessToken),[2]):(t.warn("User's Amazon login is no longer valid."),[2]);case 2:return i.sent(),t.warn("AuthorizeToken failed."),[2];case 3:return[2]}}))}))}function h(){a.remove(o.e,{domain:Object(d.a)()}),a.remove(o.g,{domain:Object(d.a)()})}function f(e,t,n){return Object(i.__awaiter)(this,void 0,Promise,(function(){var r;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,7]),[4,b(e)];case 1:return(r=s.sent().data)&&r.updateLWAToken?r.updateLWAToken.error&&r.updateLWAToken.error.code===l.pd.FORBIDDEN?(h(),t.warn("Tokens revoked."),[2,null]):r.updateLWAToken.token?(d=r.updateLWAToken.token,u=Date.now()+1e3*d.expiresIn,p=new Date(u),a.set(o.e,d.accessToken,Object(i.__assign)(Object(i.__assign)({},c.a),{expires:p,sameSite:"strict",secure:!0})),a.set(o.g,d.refreshToken,Object(i.__assign)(Object(i.__assign)({},c.a),{expires:m,sameSite:"strict",secure:!0})),[2,{accessToken:r.updateLWAToken.token.accessToken,refreshToken:r.updateLWAToken.token.refreshToken}]):[2,null]:[2,null];case 2:if(s.sent(),!(n&&n>0))return[3,6];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,g()];case 4:return s.sent(),[2,f(e,t,n-1)];case 5:return s.sent(),[2,null];case 6:return[2,null];case 7:return[2]}var d,u,p}))}))}function g(e){return void 0===e&&(e=o.c),new Promise((function(t){setTimeout((function(){t()}),e)}))}function v(e){return{grant:e,grantType:l.Bb.REFRESH_TOKEN}}function b(e){var t=Object(i.__assign)(Object(i.__assign)({mutation:u},Object(s.a)(e)),{fetchPolicy:"no-cache"});return r.p.apollo.client.mutate(t)}var k=null;function y(){return!!a.get(o.g)}function S(e){return r.p.logger.withCategory(e).withCategory("amazon-auth")}function C(e,t){return Object(i.__awaiter)(this,void 0,Promise,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,(r=t,s={scope:["aiv:playback"],scope_data:{"aiv:playback":{essential:!0}},response_type:"code"},new Promise((function(e){r.Login.authorize(s,(function(t){e(t)}))})))];case 1:return(n=i.sent()).code?[4,f((a=n.code,{grant:a,grantType:l.Bb.AUTHORIZATION_CODE}),e,o.a)]:[3,3];case 2:return[2,!!i.sent()];case 3:n.error&&e.warn("Failed to login with Amazon.",{loginResponse:n}),i.label=4;case 4:return[2,!1];case 5:return i.sent(),e.warn("Failed to login with Amazon."),[2,!1];case 6:return[2]}var a,r,s}))}))}function E(){return new Promise((function(e,t){if(window.amazon)e(window.amazon);else if(window.onAmazonLoginReady=function(){var n=window.amazon;n?(n.Login.setClientId(o.f),e(n)):t(new Error("could not init lwa sdk library"))},!document.getElementById(o.h)){var n=document.createElement("script");n.async=!0,n.id=o.h,n.src=o.d,document.body.prepend(n)}}))}function w(e,t){null===k&&(p(e,t),k=setInterval((function(){return p(e,t)}),o.b))}function _(){null!==k&&(clearInterval(k),k=null)}function N(e,t){return Object(i.__awaiter)(this,void 0,Promise,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(n={accessToken:a.get(o.e),refreshToken:a.get(o.g)}).refreshToken)return h(),[2,null];if(!t||n.accessToken)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,f(v(n.refreshToken),e,o.a)];case 2:return(r=i.sent())?[2,r.accessToken]:[2,null];case 3:return i.sent(),[2,null];case 4:return n.accessToken?[2,n.accessToken]:[2,null]}}))}))}n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return _})),n.d(t,"b",(function(){return N}))},"E/0f":function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("/7QA"),s=n("DMoW"),c=n("3tQW"),l=n("y4j+"),d=n("0Hf3"),u=n("sUnt"),m=n("hnjF"),p=n("Ws8v"),h=n("XQbB"),f=n("X2PJ"),g=n("5zf8"),v=n("+80q"),b=n("wp5a"),k=n("b7S+"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLabel=function(){if(!t.props.banStatus)return"";if(t.props.banStatus.isPermanent)return Object(o.d)("Banned","ViewerCardModLogsFeature");if(t.props.banStatus.expiresAt){var e=new Date(t.props.banStatus.createdAt).valueOf(),n=new Date(t.props.banStatus.expiresAt).valueOf(),i=Object(g.b)((n-e)/1e3,g.a.Humanized);return Object(o.d)("Timeout {duration}",{duration:i},"ViewerCardModLogsFeature")}return Object(o.d)("Unknown","ViewerCardModLogsFeature")},t}return Object(a.__extends)(t,e),t.prototype.render=function(){if(!this.props.banStatus)return null;var e=r.createElement(v.a,{bold:!0,type:v.e.Span},this.props.channelName);return r.createElement(p.a,{fullWidth:!0,background:f.a.Alt,borderTop:!0,padding:{y:.5,x:1},verticalAlign:m.m.TextBottom},r.createElement(u.a,{display:m.d.InlineBlock,padding:{right:.5}},r.createElement(v.a,{fontSize:f.d.Size5,type:v.e.Span},r.createElement(b.a,{type:b.b.Alert,label:this.getLabel()}))),r.createElement(v.a,{type:v.e.Span},Object(o.d)(" in {channelName}",{channelName:e},"ViewerCardModLogsFeature")),r.createElement(v.a,{color:f.c.Alt2,type:v.e.Span},this.modActionLabel))},Object.defineProperty(t.prototype,"modActionLabel",{get:function(){if(!this.props.banStatus||!this.props.banStatus.moderator)return"";var e=r.createElement(v.a,{bold:!0,type:v.e.Span},this.props.banStatus.moderator.displayName),t=new Date(this.props.banStatus.createdAt),n=t&&(Date.now()-t.getTime())/36e5,i=Object(o.d)(" {timestamp, date, short} at {timestamp, time, short} ",{timestamp:t},"ViewerCardModLogsFeature"),a=i;if(n&&n<12){var s=Object(o.h)(t,{style:"best fit"});a=r.createElement(k.a,{label:i},s)}return Object(o.d)(" {spacer} by {modDisplay} {spacer} {timeElement}",{spacer:"•",modDisplay:e,timeElement:a},"ViewerCardModLogsFeature")},enumerable:!0,configurable:!0}),t}(r.Component),S=n("7qXh"),C=n("TSYQ"),E=n("fvjX"),w=n("GnwI"),_=n("i4Ys"),N=n("PL8s"),O=(n("fGoN"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){e.preventDefault(),t.props.onClick(t.props.value)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=C("viewer-card-mod-drawer-tab",{"viewer-card-mod-drawer-tab--active":this.props.isActive});return r.createElement(u.a,{"data-test-selector":"viewer-card-mod-drawer-tab",className:e,display:m.d.Flex,flexGrow:2,flexShrink:1},r.createElement(m.g,{flexGrow:1,flexDirection:m.e.Column,textAlign:m.l.Left},r.createElement(_.a,{blurAfterClick:!0,replace:!0,type:_.b.Alpha,"data-action":this.props.value,onClick:this.onClick,linkTo:"not-a-location"},r.createElement(u.a,{className:"viewer-card-mod-drawer-tab__title",padding:.5},this.props.loading?r.createElement(N.a,null):r.createElement(v.a,{bold:!0,color:f.c.Link,fontSize:f.d.Size5},this.props.count),r.createElement(v.a,{fontSize:this.props.fontSize},this.props.label)))))},t}(r.Component)),D=Object(E.d)(Object(w.withLatencyTracking)("ViewerCardModDrawerTab"))(O),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=f.d.Size6,t=Object(o.d)("Messages","ViewerCardModLogsFeature"),n=Object(o.d)("Timeouts","ViewerCardModLogsFeature"),i=Object(o.d)("Bans","ViewerCardModLogsFeature"),a=Object(o.d)("Mod Comments","ViewerCardModLogsFeature");[t,n,i,a].every((function(t){return!("string"==typeof t&&t.length>=24)||(e=f.d.Size7,!1)}));var s=this.props.data&&this.props.data.loading;return r.createElement(p.a,{fullWidth:!0,display:m.d.Flex,padding:{top:.5},className:"viewer-card-mod-drawer-tabs"},r.createElement(D,{count:this.getMessageCountString(),label:t,fontSize:e,isActive:this.props.currentPage===he.Messages,onClick:this.props.changeTab,value:he.Messages,loading:s}),r.createElement(D,{count:this.getTimeoutCount(),label:n,fontSize:e,isActive:this.props.currentPage===he.Timeouts,onClick:this.props.changeTab,value:he.Timeouts,loading:s}),r.createElement(D,{count:this.getChannelBanCount(),label:i,fontSize:e,isActive:this.props.currentPage===he.Bans,onClick:this.props.changeTab,value:he.Bans,loading:s}),r.createElement(D,{count:this.getCommentsCountString(),label:a,fontSize:e,isActive:this.props.currentPage===he.ModComments,onClick:this.props.changeTab,value:he.ModComments,loading:s}))},t.prototype.getTimeoutCount=function(){var e=this.props.data&&this.props.data.channelUser&&this.props.data.channelUser.modLogs,t=e&&e.timeouts&&e.timeouts.actionCount||0,n=e&&e.timeouts&&e.timeouts.pageInfo&&e.timeouts.pageInfo.hasNextPage;return t>=99&&n?"99+":""+t},t.prototype.getChannelBanCount=function(){var e=this.props.data&&this.props.data.channelUser&&this.props.data.channelUser.modLogs,t=e&&e.bans&&e.bans.actionCount||0,n=e&&e.bans&&e.bans.pageInfo&&e.bans.pageInfo.hasNextPage;return t>=99&&n?"99+":""+t},t.prototype.getCommentsCountString=function(){var e=this.props.data&&this.props.data.channelUser&&this.props.data.channelUser.modLogs,t=e&&e.comments&&e.comments.edges||[],n=e&&e.comments&&e.comments.pageInfo&&e.comments.pageInfo.hasNextPage;return t.length>=99&&n?"99+":""+t.length},t.prototype.getMessageCountString=function(){var e=this.props.data&&this.props.data.channelUser&&this.props.data.channelUser.modLogs,t=e&&e.messages&&e.messages.messageCount||0;return t>=999?"999+":""+t},t}(r.Component),M=n("1jQf"),T=n("/MKj"),P=n("XDQu"),j=n("kY/a"),F=n("8/mp"),R=n("HAa/"),L=n("a1OF"),A=n("uG/k"),U=n("7uM4"),x=n("C7sF"),B=n("3aAs"),V=n("dEDE"),H=2,q=500,G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:!1,commentText:"",sendingComment:!1},t.onInputChange=function(e){t.setState({commentText:e.currentTarget.value})},t.handleKeyPress=function(e){if("Enter"===e.key)return t.onSend()},t.onSend=function(){var e=t.state.commentText;if(!(t.state.sendingComment||t.state.commentText.length<H||t.state.commentText.length>q))return t.setState({sendingComment:!0}),t.props.onCreateComment(e).then((function(){t.setState({commentText:"",error:!1,sendingComment:!1})})).catch((function(){t.setState({error:!0,sendingComment:!1})}))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=q-this.state.commentText.length,t=!!this.state.commentText&&e<=20;return r.createElement(p.a,{padding:{x:1,bottom:1,top:.5},className:"viewer-card-mod-logs-comment-input"},this.state.error&&r.createElement(v.a,{color:f.c.Error},Object(o.d)("Sorry, something went wrong. Please try again later.","ViewerCardModLogsFeature")),t&&r.createElement(p.a,{display:m.d.Flex,borderTop:!0},e<0?r.createElement(U.a,{asset:x.a.NotificationError,width:20,type:U.b.Alert}):r.createElement(U.a,{asset:x.a.Warning,width:20,type:U.b.Warn}),r.createElement(u.a,{padding:.5},r.createElement(v.a,{"data-test-selector":"viewer-card-mod-logs-comment-input-chars-remaining",color:e>=0?f.c.Alt2:f.c.Error},Object(o.d)("{charsRemaining} characters remaining",{charsRemaining:e},"ViewerCardModLogsFeature")))),r.createElement(u.a,{display:m.d.Flex,alignItems:m.b.Start},r.createElement(u.a,{flexGrow:1,padding:{right:.5},position:m.j.Relative},r.createElement(B.a,{"data-test-selector":"viewer-card-mod-logs-comment-text-input",error:this.state.error,icon:x.a.Whisper,type:B.c.Text,value:this.state.commentText,placeholder:Object(o.d)("Add a comment","ViewerCardModLogsFeature"),onChange:this.onInputChange,onKeyDown:this.handleKeyPress})),r.createElement(V.a,{"data-test-selector":"viewer-card-mod-logs-comment-input-button",onClick:this.onSend,disabled:e<0||this.state.sendingComment},Object(o.d)("Add","ViewerCardModLogsFeature"))))},t}(r.Component),W=Object(E.d)(Object(w.withLatencyTracking)("ViewerCardModLogsCommentInput"))(G),z=n("oe5X"),Q=n("cys1"),Y=n("EE1E"),K=n("Jsra"),X=n("7d/q"),$=(n("6ZXE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onDeleteComment=function(){if(t.props.comment)return t.props.onDeleteComment(t.props.comment.id)},t.onMouseEnter=function(){t.props.showDelete&&t.setState({hover:!0})},t.onMouseOut=function(){t.props.showDelete&&t.setState({hover:!1})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){if(!this.props.comment||!this.props.comment.details||!this.props.comment.details.text)return null;var e,t=new Date(this.props.comment.timestamp),n=(Date.now()-t.getTime())/36e5,i=Object(o.j)(t,{year:"numeric",month:"numeric",day:"numeric"}),a=Object(o.h)(t,{style:"best fit"});e=n&&n<24?r.createElement(k.a,{label:i,"data-test-selector":"viewer-card-mod-comment-timestamp-tooltip"},a):r.createElement(r.Fragment,null,i);var s=this.renderCommentParts(this.props.comment.details.text),c=this.props.comment&&this.props.comment.author&&this.props.comment.author.chatColor;c&&this.props.useHighContrastColors&&(c="#"+Object(Y.a)(c,this.props.theme));var l=C("viewer-card-mod-logs-comment-line",{"viewer-card-mod-logs-comment-line-deleteable":this.props.showDelete});return r.createElement(m.g,{"data-test-selector":"viewer-card-mod-comment",position:m.j.Relative,display:m.d.Flex,alignItems:m.b.Start,padding:{x:1,y:.5},className:l},r.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseOut},r.createElement(U.a,{asset:x.a.NavMessages,type:U.b.Alt2}),r.createElement(p.a,{padding:{left:1}},r.createElement(v.a,{color:f.c.Base,wordBreak:v.g.BreakWord,"data-test-selector":"viewer-card-mod-comment-text"},s),r.createElement(p.a,{color:f.c.Alt2,display:m.d.Flex,alignItems:m.b.Center},r.createElement(K.a,{blurAfterClick:!0,hoverUnderlineNone:!0,targetBlank:!0,type:K.b.Inherit,"data-test-selector":"viewer-card-mod-comment-author",to:"/"+(this.props.comment&&this.props.comment.author&&this.props.comment.author.login)},r.createElement(v.a,{fontSize:f.d.Size7},r.createElement("span",{style:c?{color:c}:void 0},this.props.comment&&this.props.comment.author&&this.props.comment.author.displayName))),r.createElement(u.a,{padding:{x:.5}},"•"),r.createElement(p.a,{"data-test-selector":"viewer-card-mod-comment-timestamp",fontSize:f.d.Size7},e))),this.state.hover&&r.createElement(p.a,{position:m.j.Absolute,padding:{x:1,bottom:.5},className:"viewer-card-mod-logs-comment-line-delete"},r.createElement(X.a,{blurAfterClick:!0,"data-test-selector":"viewer-card-mod-comment-delete",icon:x.a.Trash,size:X.b.Small,type:X.c.Alert,onClick:this.onDeleteComment}))))},t.prototype.renderCommentParts=function(e){return Object(Q.f)(Object(z.a)(e))},t}(r.Component));!function(e){e.NoComments="no-comments",e.Loading="loading",e.Error="error",e.CommentList="comment-list"}(i||(i={}));var J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={comments:[],cursor:null,hasMoreLeft:!0,loading:!1},t.initialLoad=null,t.saveScrollRef=function(e){return t.scroll=e},t.loadMore=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var e=this;return Object(a.__generator)(this,(function(t){return!this.state.loading&&this.state.hasMoreLeft?[2,new Promise((function(t){e.setState({loading:!0},t)})).then((function(){return e.props.loadMore({channelID:e.props.channelID,targetID:e.props.targetID,cursor:e.state.cursor})})).then((function(t){return new Promise((function(n){e.setState({cursor:t.cursor,comments:Object(a.__spreadArrays)(e.state.comments,t.comments),loading:!1,hasMoreLeft:!(!t.cursor||t.cursor===e.state.cursor)},n)}))})).catch((function(){return new Promise((function(t){e.setState({error:!0},t)}))})).then((function(){return Promise.resolve()}))]:[2,Promise.resolve()]}))}))},t.onCreateComment=function(e){return t.props.onCreateComment(e).then((function(e){e&&t.setState(Object(a.__assign)(Object(a.__assign)({},t.state),{comments:Object(a.__spreadArrays)([e],t.state.comments)}))}))},t.onDeleteComment=function(e){return t.props.onDeleteComment(e).then((function(){t.setState(Object(a.__assign)(Object(a.__assign)({},t.state),{comments:t.state.comments.filter((function(t){return t.id!==e}))}))}))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.initialLoad?(this.props.latencyTracking.reportInteractive(),this.scrollToBottom()):this.initialLoad=this.loadMore()},t.prototype.getSnapshotBeforeUpdate=function(){return this.scroll&&this.scroll.scrollContent&&this.scroll.scrollContent.scrollHeight&&(this.prevScrollHeight=this.scroll.scrollContent.scrollHeight),null},t.prototype.componentDidUpdate=function(e,t){if(this.initialLoad){if(this.state.comments&&t.comments&&this.state.comments.length>t.comments.length){var n=this.state.comments[0]&&this.state.comments[0],i=t.comments[0]&&t.comments[0];if(n&&i&&n.id===i.id){if(this.scroll&&this.scroll.scrollContent&&this.prevScrollHeight&&this.prevScrollHeight!==this.scroll.scrollContent.scrollHeight){var a=this.scroll.scrollContent.scrollHeight-this.prevScrollHeight;this.scroll.scrollContent.scrollTop=a}}else this.scrollToBottom()}}else this.initialLoad=this.loadMore()},t.prototype.render=function(){var e=this;if(this.state.error)return r.createElement(u.a,{fullHeight:!0,fullWidth:!0,"data-test-selector":i.Error},r.createElement(S.a,null));if(!this.initialLoad||this.state.loading&&0===this.state.comments.length)return r.createElement(u.a,{padding:{x:1,y:2}},r.createElement(h.a,{delay:0,fillContent:!0,size:h.b.Large,"data-test-selector":i.Loading}));var t=this.props.currentUser&&this.props.currentUser.id,n=this.state.comments.map((function(n){var i=n.channel&&n.channel.id;return r.createElement($,{key:n.id,comment:n,theme:e.props.theme,showDelete:!!t&&!!i&&i===t,useHighContrastColors:e.props.useHighContrastColors,onDeleteComment:e.onDeleteComment})})).reverse(),a=!!this.state.hasMoreLeft&&!this.state.loading;return r.createElement(u.a,{display:m.d.Flex,flexDirection:m.e.Column,flexGrow:1,flexShrink:1,className:"mod-logs-entry-list"},r.createElement(m.g,{flexGrow:1,flexShrink:1},n.length?r.createElement(F.b,{suppressScrollX:!0,scrollRef:this.saveScrollRef},r.createElement(u.a,null,r.createElement(F.a,{loadMore:this.loadMore,enabled:a,orientation:R.b.Down,contentLength:n.length,pixelThreshold:200}),r.createElement(u.a,{key:"comments-list-start",padding:.5}),n,r.createElement(u.a,{key:"comments-list-end",padding:.5}))):this.renderEmptyState()),r.createElement(W,{onCreateComment:this.onCreateComment}))},t.prototype.renderEmptyState=function(){return r.createElement(u.a,{flexGrow:1,"data-test-selector":i.NoComments,padding:{x:1,y:2}},r.createElement(u.a,{alignItems:m.b.Center,display:m.d.Flex,justifyContent:m.h.Center,textAlign:m.l.Center,flexDirection:m.e.Column},r.createElement(u.a,null,r.createElement(A.a,{src:Object(L.d)(fe.id,2),alt:fe.alt})),r.createElement(u.a,{padding:{x:4,y:0},margin:{x:4,y:0}},r.createElement(v.a,{color:f.c.Alt2,fontSize:f.d.Size5},Object(o.d)("There are no mod comments for this user.","ViewerCardModLogsFeature")))))},t.prototype.scrollToBottom=function(){this.scroll&&this.scroll.scrollToBottom()},t}(r.Component),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadMore=function(e){return Object(M.d)(Object(M.b)(o.p.apollo.client.link,{query:j,variables:e})).then((function(e){var t=e.data&&e.data.channelUser&&e.data.channelUser.modLogs&&e.data.channelUser.modLogs.comments,n=null,i=t&&t.edges&&t.edges.map((function(e){return n=e.cursor,e.node}))||[];return{cursor:n,comments:i}}))},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(J,Object(a.__assign)({},this.props,{loadMore:this.loadMore}))},t}(r.Component);var ee,te=Object(E.d)(Object(T.b)((function(e){return{theme:Object(P.a)(e)}})),Object(c.b)((function(e){return{useHighContrastColors:e.value}})),Object(w.withLatencyTracking)("ViewerCardModLogsCommentsList"))(Z),ne=n("yR8l"),ie=n("uIkQ"),ae=n("w4P5"),re=n("mjSZ"),oe=n("34IA"),se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadMore=function(e){return Object(M.d)(Object(M.b)(o.p.apollo.client.link,{query:oe,variables:e})).then((function(e){var t=e.data&&e.data.channel&&e.data.channel.modLogs&&e.data.channel.modLogs.messagesBySender,n=null,i=[];return t&&t.edges&&t.edges.forEach((function(e){if(!e||!e.node)return null;"ModLogsMessage"===e.node.__typename?i.unshift(Object(a.__assign)(Object(a.__assign)({},e.node),{__typename:"Message"})):i.unshift(e.node),n=e.cursor||n})),{cursor:n,messages:i}}))},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(re.a,Object(a.__assign)({},this.props,{loadMore:this.loadMore}))},t}(r.Component),ce=Object(E.d)(Object(ne.a)(ae,{options:function(e){return{variables:Object(a.__assign)({},e)}},props:function(e){var t=new ie.c([]);if(e.data){var n=e.data,i=n.badges,a=n.channel;i&&a&&a.broadcastBadges&&a.login&&(t=new ie.c(i,a.broadcastBadges,a.login))}return{badgeSets:t}}}))(se),le=n("Dufr"),de=n("na98");!function(e){e.DateSeparator="viewer-card-mod-logs-date-separator",e.EmptyState="viewer-card-mod-logs-mod-actions-empty-state",e.OutOfSyncState="viewer-card-mod-logs-mod-actions-out-of-sync-state",e.RefetchButtonIcon="viewer-card-mod-logs-mod-actions-out-of-sync-state"}(ee||(ee={}));var ue="64138",me="SeemsGood",pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1},t.sprinkleDateSeparators=function(e){return e&&e.edges&&e.edges.reduce((function(e,t,n,i){if(!t.node)return e;var a=new Date(t.node.timestamp).toLocaleDateString(),o=i[n+1],s="";return o&&o.node&&(s=new Date(o.node.timestamp).toLocaleDateString()),e.push(r.createElement(de.a,{key:t.node.action+"."+t.node.timestamp,entry:t.node})),s&&a!==s&&e.push(r.createElement(le.a,{key:""+a,"data-test-selector":ee.DateSeparator,dateString:a})),n===i.length-1&&e.push(r.createElement(le.a,{key:""+a,"data-test-selector":ee.DateSeparator,dateString:a})),e}),[])},t.iconClick=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var e=this;return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return this.setState({loading:!0}),[4,this.props.refetch().then((function(){e.setState({loading:!1})}),(function(){e.setState({loading:!1})}))];case 1:return t.sent(),[2]}}))}))},t.saveScrollRef=function(e){return t.scroll=e},t.scrollToBottom=function(){t.scroll&&t.scroll.scrollToBottom()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.scrollToBottom()},t.prototype.componentDidUpdate=function(){this.scrollToBottom()},t.prototype.render=function(){if(this.state.loading)return r.createElement(h.a,{delay:0,fillContent:!0,size:h.b.Large});var e=this.props.modActions,t=this.sprinkleDateSeparators(e);return r.createElement(u.a,{className:"mod-logs-entry-list",flexGrow:1,flexShrink:1,display:m.d.Flex,flexDirection:m.e.Column},t&&t.length>0?r.createElement(F.b,{suppressScrollX:!0,scrollRef:this.saveScrollRef},r.createElement(u.a,null,r.createElement(u.a,{key:"targeted-mod-actions-list-start",padding:.5}),t.reverse(),r.createElement(u.a,{key:"targeted-mod-actions-list-end",padding:.5}))):this.renderEmptyState())},t.prototype.renderEmptyState=function(){var e,t,n;switch(this.props.page){case he.Bans:e=Object(o.d)("This user has not been banned in the channel.","ViewerCardModLogsFeature"),t=Object(o.d)("Bans are currently out of sync. See the current status below or refresh.","ViewerCardModLogsBans"),n=Boolean(this.props.banStatus&&this.props.banStatus.isPermanent);break;case he.Timeouts:e=Object(o.d)("This user has not been timed out in the channel.","ViewerCardModLogsFeature"),t=Object(o.d)("Timeouts are currently out of sync. See the current status below or refresh.","ViewerCardModLogsTimeouts"),n=Boolean(this.props.banStatus&&this.props.banStatus.expiresAt);break;default:e="",t="",n=!1}var i=n?t:e,a=r.createElement(u.a,{padding:{x:1,y:0},margin:{x:1,y:0}},r.createElement(v.a,{color:f.c.Alt2,fontSize:f.d.Size5},i)),s=r.createElement(u.a,{padding:{top:1}},r.createElement(V.a,{type:V.d.Secondary,blurAfterClick:!0,icon:x.a.Refresh,onClick:this.iconClick,ariaLabel:Object(o.d)("Refresh Chat Logs","ViewerCardModLogs"),"data-test-selector":ee.RefetchButtonIcon})),c=r.createElement(u.a,null,r.createElement(A.a,{src:Object(L.d)(ue,2),alt:me})),l=a;return n&&(c=a,l=s),r.createElement(u.a,{padding:{x:n?1:3,y:3},"data-test-selector":n?ee.OutOfSyncState:ee.EmptyState},r.createElement(u.a,{alignItems:m.b.Center,display:m.d.Flex,justifyContent:m.h.Center,textAlign:m.l.Center,flexDirection:m.e.Column},c,l))},t}(r.Component);n("NWfm"),n("OxSk");n.d(t,"a",(function(){return fe})),n.d(t,"c",(function(){return he})),n.d(t,"b",(function(){return ge}));var he,fe={id:"114836",alt:"Jebaited"};!function(e){e[e.Messages=0]="Messages",e[e.Timeouts=1]="Timeouts",e[e.Bans=2]="Bans",e[e.ModComments=3]="ModComments"}(he||(he={}));var ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentPage:null},t.refetchTargetedModActions=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return this.props&&this.props.data?[4,this.props.data.refetch()]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}}))}))},t.onTabClick=function(e){var n=d.a.Expand,i=e;e===he.Messages&&o.m.set(l.b,!0),e===t.state.currentPage&&(i=t.props.isPopoutCard?i:null,n=t.props.isPopoutCard?null:d.a.Collapse),t.props.data&&t.props.data.targetUser&&t.props.permissionsData.channel&&Object(d.c)({targetUserID:t.props.data.targetUser.id,targetLogin:t.props.data.targetUser.login,channelID:t.props.permissionsData.channel.id,channelLogin:t.props.permissionsData.channel.login,clickText:e,action:n}),t.onTabChange(i)},t.onTabChange=function(e){t.setState({currentPage:e})},t.onCreateComment=function(e){return t.props.createModComment({variables:{input:{channelID:t.props.channelID,targetID:t.props.targetID,text:e}}}).then((function(e){var n=e&&e.data.createModeratorComment&&e.data.createModeratorComment.comment;return n&&Object(d.e)(t.props,n),Promise.resolve(n)})).catch((function(){return Promise.reject()}))},t.onDeleteComment=function(e){return t.props.deleteModComment({variables:{input:{ID:e}}}).then((function(e){var n=e.data.deleteModeratorComment&&e.data.deleteModeratorComment.comment;return n?(Object(d.f)(t.props,n),Promise.resolve()):Promise.reject()})).catch((function(){return Promise.reject()}))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive(),this.props.isPopoutCard&&this.onTabChange(he.Messages),this.props.permissionsData.channel&&null===this.props.permissionsData.channel.modLogsRoleAccess&&this.props.permissionsData.refetch()},t.prototype.render=function(){var e=this.props.permissionsData.channel&&this.props.permissionsData.channel.modLogsRoleAccess&&this.props.permissionsData.channel.modLogsRoleAccess.accessLevel===s.Nb.WRITE,t=this.props.permissionsData.channel&&this.props.permissionsData.currentUser&&this.props.permissionsData.channel.id===this.props.permissionsData.currentUser.id;return e||t?r.createElement(u.a,{fullWidth:!0,className:"viewer-card-mod-logs","data-test-selector":"viewer-card-mod-drawer",display:m.d.Flex,flexDirection:m.e.Column,flexGrow:1,flexShrink:1},r.createElement(c.a,null,r.createElement(p.a,{borderTop:!0,margin:{x:1},flexGrow:0},r.createElement(I,{data:this.props.data,currentPage:this.state.currentPage,changeTab:this.onTabClick,"data-test-selector":"viewer-card-mod-drawer-tab-bar"})),this.renderPage(),r.createElement(p.a,{flexGrow:0},r.createElement(y,{banStatus:this.props.banStatusData.chatRoomBanStatus,channelName:this.props.channelLogin})))):null},t.prototype.renderPage=function(){var e=this.props.data&&this.props.data.targetUser&&this.props.data.targetUser.id;if(!e)return null;if(this.props.data.error)return r.createElement(u.a,{fullHeight:!0,fullWidth:!0},r.createElement(S.a,null));if(this.props.data.loading)return r.createElement(h.a,{delay:0,fillContent:!0,size:h.b.Large});var t=this.props.data.channelUser&&this.props.data.channelUser.modLogs;if(!t)return null;var n=null;switch(this.state.currentPage){case he.Messages:n=r.createElement(ce,{key:e,channelLogin:this.props.channelLogin,senderID:e});break;case he.ModComments:n=r.createElement(te,{channelID:this.props.channelID,targetID:e,currentUser:this.props.permissionsData.currentUser,onCreateComment:this.onCreateComment,onDeleteComment:this.onDeleteComment});break;case he.Bans:n=r.createElement(pe,{modActions:t.bans,page:he.Bans,banStatus:this.props.banStatusData.chatRoomBanStatus,refetch:this.refetchTargetedModActions});break;case he.Timeouts:n=r.createElement(pe,{modActions:t.timeouts,page:he.Timeouts,banStatus:this.props.banStatusData.chatRoomBanStatus,refetch:this.refetchTargetedModActions});break;default:return null}return r.createElement(p.a,{className:this.props.isPopoutCard?"viewer-card-mod-logs-page viewer-card-mod-logs-page--popout":"viewer-card-mod-logs-page","data-test-selector":"viewer-card-mod-drawer-page",background:f.a.Base,display:m.d.Flex,flexDirection:m.e.Column,flexGrow:1,flexShrink:1},n)},t}(r.Component)},E78O:function(e,t,n){},E88G:function(e,t,n){},EE1E:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("EN5X"),a=n("G7cy"),r=n("m7BI"),o=n("E8D/"),s=n("DtRd"),c=n("R4sh"),l=n("/0dD"),d=n("76Lv"),u=4.5,m=[250,249,250],p=[15,14,17],h=.1,f=50,g="7A7A7A",v=36,b={};function k(e,t){var n=s(e),k=y(a(n));if(void 0===t&&(t=Object(d.d)()),k in b[t])return b[t][k];if(t===l.a.Dark&&n.every((function(e){return e<v})))return g;var S=t===l.a.Light?m:p,C=Object(c.a)(n,S);if(C>u)return k;for(var E=[n[0],n[1],n[2]],w=f;w>=0&&C<u;w--){var _=r(E);t===l.a.Light?_[0]-=_[0]*h:_[0]+=_[0]*h,E=o(i(_)),C=Object(c.a)(E,S)}var N=y(a(E));return b[t][k]=N,N}function y(e){return"#"===e[0]?e.substr(1):e}b[l.a.Dark]={},b[l.a.Light]={}},EOIh:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatInput"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}}}]}]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hashtags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:390}};n.loc.source={body:"query ChatInput($channelLogin: String! $isEmbedded: Boolean!) {\ncurrentUser {\nid\nbitsBalance\nisPartner @include(if: $isEmbedded)\n}\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresAt\n}\n}\ndisplayName\nprofileImageURL(width:50)\ncheer {\nid\nhashtags {\nedges {\ncursor\nnode {\nid\ndescription\nimageURL\n}\n}\n}\nsettings {\nid\nemoteMinimumBits\ncheerMinimumBits\nevent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatInput=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatInput")},EgE3:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"k",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return v}));var i,a,r,o,s,c,l=n("/7QA"),d=n("2xye"),u=n("W1jp");function m(e,t,n){var i={channel_login:e,channel_id:t,view_uuid:n};l.o.track(d.SpadeEventType.ChannelPointsViewRewards,i)}function p(e){var t="CommunityPointsCustomReward"===e.reward.__typename&&(!e.reward.isInStock||e.reward.isPaused),n=e.userBalance===1/0?null:e.userBalance,i={channel_id:e.channelID,channel_login:e.channelLogin,is_available:!t,is_eligible:e.isUserEligible,reward_cost:Object(u.b)(e.reward),reward_id:e.reward.id,transaction_uuid:e.transactionID,user_points_balance:n,view_uuid:e.viewTrackingID};l.o.track(d.SpadeEventType.ChannelPointsSelectReward,i)}function h(e,t,n){var i={ui_context:e,channel_login:t,channel_id:n};l.o.track(d.SpadeEventType.ChannelPointsViewRequestQueue,i)}function f(e,t,n,i){var a={ui_context:e,viewer_type:t,channel_id:n,channel_login:i};l.o.track(d.SpadeEventType.ChannelPointsViewEarnScorecard,a)}function g(e){var t={channel_id:e.channelID,channel_login:e.channelLogin,points_spent:Object(u.b)(e.reward),reward_id:e.reward.id,reward_type:"CommunityPointsAutomaticReward"===e.reward.__typename?i.Automatic:i.Custom,transaction_uuid:e.transactionID,view_uuid:e.viewTrackingID};l.o.track(d.SpadeEventType.ChannelPointsSpend,t)}function v(e,t,n,i){var a={channel_id:e,channel_login:t,onboarding_collateral:n,ui_context:i};l.o.track(d.SpadeEventType.ChannelPointsOnboardingInteraction,a)}!function(e){e.Automatic="automatic",e.Custom="custom"}(i||(i={})),function(e){e.ActivityFeed="activity_feed",e.ChatCommand="chat_command",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.DeleteModal="delete_modal",e.ModTools="chat_settings",e.QuickAction="quick_action",e.RewardSelectionPane="reward_selection_pane"}(a||(a={})),function(e){e.RewardSelectionPane="reward_selection_pane",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.AutomaticRewardModal="automatic_reward_modal"}(r||(r={})),function(e){e.CustomRewardCreationModal="custom_reward_creation_modal",e.RewardsPageOnboarding="rewards_page_onboarding",e.ChannelPointsSettings="channel_points_settings"}(o||(o={})),function(e){e.IconSetDownload="icon_set_download",e.GetStartedGuide="get_started_guide"}(s||(s={})),function(e){e.Viewer="viewer",e.Moderator="moderator",e.Broadcaster="broadcaster"}(c||(c={}))},Epr8:function(e,t,n){},F6GT:function(e,t,n){"use strict";var i=n("mrSG"),a=n("/7QA"),r="control",o=n("VJH5");n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var s="chatSettings";function c(){var e,t=a.m.get(s,{});return Object(i.__assign)({lastUsedFollowerDurations:{},lastUsedSlowModeDurations:{},showAutoModActions:!0,showMessageFlags:!0,showModerationActions:!0,showModIcons:!1,showTimestamps:!1,viewerChatFilterSettings:(e={},e[o.a.Aggressive]=!0,e[o.a.Identity]=!0,e[o.a.Profanity]=!1,e[o.a.Sexual]=!0,e),zachModeStatus:r},t)}function l(e,t){var n=c();n[e]=t,a.m.set(s,n)}function d(e){var t=c();delete t[e],a.m.set(s,t)}},F9eG:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"cheer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeUpperTiers"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"includeSponsored"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thresholds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"matchedPercent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"minimumBitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsTotal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsPercentageRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canBeSponsored"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"tiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canCheer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canShowInBitsCard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnimated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dpiScale"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:401}};n.loc.source={body:"fragment cheer on User {\ncheer {\nid\nemotes (includeUpperTiers: true includeSponsored: true) {\nid\nprefix\ntype\ncampaign {\nid\nbrandImageURL\nbrandName\nthresholds {\nid\nminimumBits\nmatchedPercent\n}\nminimumBitsAmount\nbitsTotal\nbitsUsed\nbitsPercentageRemaining\nuserLimit\nself {\nid\nbitsUsed\ncanBeSponsored\n}\n}\ntiers {\nid\nbits\ncolor\ncanCheer\ncanShowInBitsCard\nimages {\nid\nurl\ntheme\nisAnimated\ndpiScale\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},F9p4:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"earningSettingsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsChannelEarningSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"averagePointsPerHour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passiveWatchPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchStreakPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:220}};n.loc.source={body:"fragment earningSettingsFragment on CommunityPointsChannelEarningSettings {\nid\naveragePointsPerHour\ncheerPoints\nclaimPoints\nfollowPoints\npassiveWatchPoints\nraidPoints\nsubscriptionGiftPoints\nwatchStreakPoints {\npoints\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},FAYk:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmodUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmodUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmodUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:131}};n.loc.source={body:"mutation UnmodUser($input: UnmodUserInput!){\nunmodUser(input: $input) {\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnmodUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnmodUser")},FQLb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsDeletedMessageDisplaySetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query SyncedSettingsDeletedMessageDisplaySetting {\ncurrentUser {\nid\nchatUISettings {\ndeletedMessageDisplaySetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsDeletedMessageDisplaySetting=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsDeletedMessageDisplaySetting")},FS60:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatInput_SendCheer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validationError"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:377}};n.loc.source={body:"mutation ChatInput_SendCheer($input: SendCheerInput!) {\nsendCheer(input: $input) {\nid\ncurrentUser {\nid\nbitsBalance\n}\nvalidationError {\ncode\nmessage\nmessageContent {\ntext\nfragments {\ntext\ncontent {\n... on AutoMod {\ntopics {\ntype\nweight\n}\n}\n... on CheermoteToken {\nbitsAmount\nprefix\ntier\n}\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\nlogin\ndisplayName\n}\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatInput_SendCheer=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatInput_SendCheer")},Ff8q:function(e,t,n){"use strict";function i(e){return e.startsWith("@")?e.slice(1):e}n.d(t,"a",(function(){return i}))},G9mL:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n("Ws8v"),r=n("2Ob2"),o=(n("aEfP"),function(e){return i.createElement(a.a,{className:e.overlay?"tw-drop-down-menu-seperator--overlay":"",margin:{top:1,x:.5},padding:{bottom:1},borderTop:!e.overlay})});o.displayName="DropDownMenuSeparatorComponent",o.displayName="DropDownMenuSeparatorComponent";var s=Object(r.c)(o)},GHzV:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("3sMn"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.hideOnboardingPrompts?null:this.props.children},t}(a.Component);var s=Object(r.b)((function(e){return{hideOnboardingPrompts:e.hideOnboardingPrompts}}))(o);n.d(t,"a",(function(){return s}))},GLn2:function(e,t,n){},GOKC:function(e,t,n){},GSWs:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetReadableChatColors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetReadableChatColorsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setReadableChatColorsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"mutation SyncedSettingsSetReadableChatColors($input: SetReadableChatColorsEnabledInput!) {\nsetReadableChatColorsEnabled(input:$input) {\nisReadableChatColorsEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsSetReadableChatColors=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsSetReadableChatColors")},GuJR:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsGemNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsGemNotifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isChecked"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:169}};n.loc.source={body:"query BitsGemNotifications($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nbitsGemNotifications {\nid\ntitle\ndescription\ncreatedAt\nisChecked\n}\n}\n}\ncurrentUser {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BitsGemNotifications=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"BitsGemNotifications")},GvwK:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hostingChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:160}};n.loc.source={body:"fragment hostingChannel on User {\nhosting {\nid\nlogin\ndisplayName\nprofileImageURL(width: 70)\nbroadcastSettings {\nid\nlanguage\n}\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},GzyO:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p}));var i=n("mrSG"),a=n("/7QA"),r=n("OpME"),o="twilight.emote_picker_history",s=24,c=[{id:"64138",token:"SeemsGood"},{id:"41",token:"Kreygasm"},{id:"245",token:"ResidentSleeper"},{id:"28087",token:"WutFace"},{id:"86",token:"BibleThump"},{id:"9",token:"<3"},{id:"58765",token:"NotLikeThis"},{id:"81274",token:"VoHiYo"},{id:"88",token:"PogChamp"},{id:"425618",token:"LUL"},{id:"25",token:"Kappa"},{id:"30259",token:"HeyGuys"}];function l(e){var t=h(),n=t[e.id];n?(n.uses++,n.lastUpdatedAt=Date.now()):t[e.id]={emote:e,lastUpdatedAt:Date.now(),uses:1},a.m.set(o,t)}function d(){var e=h();if(!(Object.keys(e).length>=s)){for(var t={},n=0;n<c.length;n++){var r=c[n];e[r.id]||(t[r.id]={emote:r,lastUpdatedAt:n,uses:0})}var l=Object(i.__assign)(Object(i.__assign)({},t),e);a.m.set(o,l)}}function u(){return Object(r.b)(c)}function m(e){var t=h(),n=[],i=!1;return Object.keys(t).forEach((function(a){var r=t[a];if(void 0!==r&&void 0!==e[r.emote.token]){var o=e[r.emote.token].id;o!==a&&(r.emote.id=o,t[o]=r,delete t[o],i=!0),n.push(r)}})),i&&a.m.set(o,t),n.sort((function(e,t){return e.uses>t.uses?-1:t.uses>e.uses?1:e.lastUpdatedAt>t.lastUpdatedAt?-1:t.lastUpdatedAt>e.lastUpdatedAt?1:0})),Object(r.b)(n.slice(0,24).map((function(e){return e.emote})))}function p(){var e=h(),t={};return Object.keys(e).forEach((function(n){void 0!==e[n]&&(t[e[n].emote.token]={count:e[n].uses})})),t}function h(){var e=a.m.get(o,{})||{};return e.undefined&&(delete e.undefined,a.m.set(o,e)),e}},"H/lO":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Games="game",e.Videos="vod",e.Users="user",e.Channels="live_channel",e.StreamTags="stream_tag",e.Tags="tag"}(i||(i={}))},H31v:function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.Bits="bits",e.Leaderboard="bits-leader"}(i||(i={})),function(e){e.Badge="badge_update",e.Balance="balance_update",e.FirstPurchase="first_bits_purchase",e.BitsGemNotification="gem_notification_update",e.BadgeNotification="badge_update_notification"}(a||(a={}))},H82h:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("IZXT"),s=n("a6LY"),c=n("xf5M"),l=function(e,t,n,l,d){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var u,m,p,h,f,g,v;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:u=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:{channelID:t,targetUserID:n}})];case 2:return u=i.sent(),[3,4];case 3:return m=i.sent(),Object(o.d)()?a.k.warn("Moderation action tracking failed query failed."):a.k.errorAndReport(m,"Moderation action tracking failed query failed."),[3,4];case 4:return u&&u.data?(p=u.data,h=p.currentUser,f=p.channel,g=p.target,t===n?v=s.c.Broadcaster:h&&h.roles&&h.roles.isStaff&&(v=s.c.Staff),f&&f.self&&(f.self.isEditor?v=s.c.Editor:f.self.isModerator&&(v=s.c.Mod)),a.o.track(r.SpadeEventType.ChatLoginModeration,{action:e,channel:f&&f.login,channel_id:f&&f.id,target_login:g&&g.login,target_user_id:g&&g.id,mod_status:v,args:d,source:l}),[2]):[2]}}))}))}},"HAa/":function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("4VQm");n("miXC");!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(i||(i={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasPendingLoadMoreRequest:!1,loadedMore:!0},t.isTriggerVisible=function(e,t){var n=t.top,i=t.top+t.height;return!(e.bottom<n||e.top>i)},t.getOrientation=function(){return void 0===t.props.orientation?i.Up:t.props.orientation},t.setWrapRef=function(e){return t.wrapElement=e},t.setRef=function(e){return t.element=e},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.getOrientation(),t=r({"scrollable-trigger__trigger-area":!0,"scrollable-trigger__trigger-area--up":e===i.Up,"scrollable-trigger__trigger-area--down":e===i.Down}),n={height:this.props.pixelThreshold||100};return o.createElement("div",{className:"scrollable-trigger__wrapper",ref:this.setWrapRef},o.createElement("div",{className:t,ref:this.setRef,style:n}))},t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.componentDidUpdate=function(e){return!e.enabled&&this.props.enabled&&this.props.requestVisibilityCheck(this),null},t.prototype.checkVisible=function(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,i,r,o,s=this;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(void 0===n&&(n=this.props.requestCap||5),!(this.wrapElement&&this.element&&(this.state.loadedMore||this.props.forceLoadMoreContent)&&!this.state.hasPendingLoadMoreRequest&&this.props.enabled&&n>0))return[3,4];if(t=this.element.getBoundingClientRect(),i=this.props.contentLength,r=this.wrapElement.offsetTop,!this.isTriggerVisible(t,e))return[3,4];this.setState({hasPendingLoadMoreRequest:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.loadMore()];case 2:return a.sent(),this.setState({hasPendingLoadMoreRequest:!1}),requestAnimationFrame((function(){var t;s.element&&(t=void 0!==s.props.contentLength&&void 0!==i?s.props.contentLength>i:s.wrapElement.offsetTop>r,s.setState({loadedMore:t}),n&&(t||s.props.forceLoadMoreContent)&&s.checkVisible(e,void 0,n-1))})),[3,4];case 3:throw o=a.sent(),this.element&&this.setState({hasPendingLoadMoreRequest:!1}),o;case 4:return[2]}}))}))},t}(o.Component),l=Object(s.d)((function(e){return{registerReceiver:e.registerReceiver,requestVisibilityCheck:e.requestVisibilityCheck}}))(c);n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}))},HECQ:function(e,t,n){},HGFl:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d}));var i=n("NAv5"),a={RFC3399:"YYYY-MM-DDTHH:mm:ssZ",timeString:"h:mma",Comscore:"YYYY-MM-DD"};function r(e,t){return Object(i.format)(e,t)}function o(e,t){var n=new Date;return n.setHours(e.hours),n.setMinutes(e.minutes),n.setSeconds(0),r(n,t)}function s(e){return Object(i.parse)(e)}function c(e,t){var n=l(e),i=t||new Date;return i.setHours(n.hours,n.minutes),i}function l(e){var t=e.split(":");if(2!==t.length)throw new Error("invalid time string: "+e);var n=parseInt(t[0],10),i=parseInt(t[1].substring(0,2),10),a=t[1].substring(t[1].length-2);if(12===n&&"am"===a&&(n=0),"pm"===a&&n<12&&(n+=12),isNaN(n)||n<0||n>23||isNaN(i)||i<0||i>59)throw new Error("invalid time string: "+e);return{hours:n,minutes:i}}function d(e){return e.hours>-1&&e.hours<24&&e.minutes>-1&&e.minutes<60&&(!e.seconds||e.seconds>-1&&e.seconds<60)}},HSpZ:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return h}));var i,a,r,o,s,c=n("pVnL"),l=n.n(c),d=n("q1tI"),u=n("fNzW"),m=n("vCsY"),p=n("hnjF");n("YphD");!function(e){e.Short="tw-animation--delay-short",e.Medium="tw-animation--delay-medium",e.Long="tw-animation--delay-long",e.ExtraLong="tw-animation--delay-extra-long"}(i||(i={})),function(e){e.Short="tw-animation--duration-short",e.Medium="tw-animation--duration-medium",e.Long="tw-animation--duration-long",e.ExtraLong="tw-animation--duration-extra-long"}(a||(a={})),function(e){e.Both="tw-animation--fill-mode-both",e.None="tw-animation--fill-mode-none",e.Forwards="tw-animation--fill-mode-forwards",e.Backwards="tw-animation--fill-mode-backwards"}(r||(r={})),function(e){e.Ease="tw-animation--timing-ease",e.Linear="tw-animation--timing-linear",e.EaseIn="tw-animation--timing-ease-in",e.EaseOut="tw-animation--timing-ease-out",e.EaseInOut="tw-animation--timing-ease-in-out"}(o||(o={})),function(e){e.Bounce="tw-animation--bounce",e.BounceIn="tw-animation--bounce-in",e.BounceOut="tw-animation--bounce-out",e.FadeIn="tw-animation--fade-in",e.FadeOut="tw-animation--fade-out",e.SlideInTop="tw-animation--slide-in-top",e.SlideInRight="tw-animation--slide-in-right",e.SlideInBottom="tw-animation--slide-in-bottom",e.SlideInLeft="tw-animation--slide-in-left",e.SlideOutTop="tw-animation--slide-out-top",e.SlideOutRight="tw-animation--slide-out-right",e.SlideOutBottom="tw-animation--slide-out-bottom",e.SlideOutLeft="tw-animation--slide-out-left"}(s||(s={}));var h=function(e){var t={"tw-animation":!0,"tw-animation--animate":e.enabled,"tw-animation--loop":e.loop};return e.delay&&(t[e.delay]=!0),e.duration?t[e.duration]=!0:t[a.Short]=!0,e.fillMode?t[e.fillMode]=!0:t[r.Both]=!0,e.timing?t[e.timing]=!0:t[o.Ease]=!0,e.type&&(t[e.type]=!0),d.createElement(p.g,l()({className:Object(u.a)(t)},Object(m.a)(e)),d.createElement("div",{onAnimationStart:e.onAnimationStart,onAnimationEnd:e.onAnimationEnd,"data-a-target":"tw-animation-target"},e.children))};h.displayName="Animation",h.displayName="Animation"},HWU2:function(e,t,n){},HfAM:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPromotion"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPromotion"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:648}};i.loc.source={body:'#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-promotion.gql"\nfragment subProduct on SubscriptionProduct {\nid\nurl\nprice\npriceInfo {\n...subscriptionProductPriceInfo\n}\nname\ntier\ninterval {\nunit\n}\nstate\nemotes {\nid\nsetID\ntoken\n}\npromotion {\n...subscriptionProductPromotion\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nbenefit {\nid\ntier\n}\npromotion {\n...subscriptionProductPromotion\n}\n}\nowner {\nid\ndisplayName\nlogin\nsubscriptionProducts {\nid\ntier\nurl\nprice\nemotes {\nid\ntoken\n}\n}\nstream {\nid\ntype\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("35qb").definitions)),i.definitions=i.definitions.concat(r(n("WJ1t").definitions)),e.exports=i},HjUq:function(e,t,n){},Hz5m:function(e,t,n){"use strict";var i,a;n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c})),function(e){e.Videos="videos",e.Collections="collections"}(i||(i={})),function(e){e.Video="video",e.Clip="clip",e.Collection="collection"}(a||(a={}));var r,o=new Set([a.Video,a.Clip,a.Collection]),s=Array.from(o).join("|");!function(e){e.About="about",e.Clips="clips",e.Videos="videos",e.Collections="collections",e.Followers="followers",e.Following="following"}(r||(r={}));var c=new Set([r.About,r.Clips,r.Videos,r.Collections,r.Followers,r.Following])},HzXE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:299}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\ntargetUser: user (id: $targetUserID lookupType: ALL) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatRoomBanStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatRoomBanStatus")},IArS:function(e,t,n){"use strict";n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return L})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return B}));var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("fvjX"),s=n("/7QA"),c=n("yR8l"),l=n("8Ad5"),d=n("geRD"),u=n("b5C3"),m=n("XmgI"),p=n("0Lz3"),h=n("X31c"),f=n("ZVTe"),g=n("cys1"),v=n("fezU"),b=n("p52R"),k=n("TApp"),y=n("ZtEv"),S=n("oK83"),C=n("2EzP"),E=n("a1OF"),w=n("1VX3"),_=n("sUnt"),N=n("PL8s"),O=n("dEDE"),D=n("+80q"),I=n("9yes"),M=n("R2Ti"),T=n("g17B"),P=n("frkH"),j=n("4zGI"),F=n("tX9j"),R="#9147FF",L={twitchbot:"1"},A={badges:L,badgeDynamicData:{},bits:0,color:R,displayName:"AutoMod",id:"automod",userID:"automod",username:"automod",userType:b.a.GlobalMod,emotes:{}};function U(e){var t;switch(e){case"aggressive":t=Object(s.d)("aggressive","AutoModLine");break;case"sexual":t=Object(s.d)("sexual","AutoModLine");break;case"profanity":t=Object(s.d)("profanity","AutoModLine");break;case"identity":t=Object(s.d)("identity","AutoModLine");break;default:return Object(s.d)("Message is being held for review. Allow will post it to chat.","AutoModLine")}return Object(s.d)("Held a message for reason: {category}. Allow will post it to chat.",{category:t},"AutoModLine")}var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isResolved:!1},t.getAllowMessageCallback=function(e){return e!==y.a.CheerMessageRejectedPrompt?t.allowAutoModRejectedMessage:t.allowAutoModRejectedCheerMessage},t.getDenyMessageCallback=function(e){return e!==y.a.CheerMessageRejectedPrompt?t.denyAutoModRejectedMessage:t.denyAutoModRejectedCheerMessage},t.allowAutoModRejectedMessage=function(){t.setState({isResolved:!0});var e=t.props.message;e.autoModType===y.a.MessageRejectedPrompt&&t.props.allowRejectedChatMessage&&t.props.allowRejectedChatMessage(Object(d.a)({id:e.rejectedMessage.id}))},t.denyAutoModRejectedMessage=function(){t.setState({isResolved:!0});var e=t.props.message;e.autoModType===y.a.MessageRejectedPrompt&&t.props.denyRejectedChatMessage&&t.props.denyRejectedChatMessage(Object(d.a)({id:e.rejectedMessage.id}))},t.allowAutoModRejectedCheerMessage=function(){t.setState({isResolved:!0});var e=t.props,n=e.message,i=e.allowRejectedCheer;if(n.autoModType===y.a.CheerMessageRejectedPrompt&&i){var a={id:n.rejectedMessage.id,targetUserID:n.targetUserID};i(Object(d.a)(a))}},t.denyAutoModRejectedCheerMessage=function(){t.setState({isResolved:!0});var e=t.props,n=e.message,i=e.denyRejectedCheer;if(n.autoModType===y.a.CheerMessageRejectedPrompt&&i){var a={id:n.rejectedMessage.id,targetUserID:n.targetUserID};i(Object(d.a)(a))}},t.surfaceError=function(e){t.props.messageHandlerAPI&&t.props.messageHandlerAPI.handleMessage(Object(k.a)(e))},t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==l.a.Space&&e.keyCode!==l.a.Enter||t.props.message.autoModType===y.a.MessageRejectedPrompt&&t.props.onUsernameClick(t.props.message.rejectedMessage.user.userLogin,S.b.chat_message,t.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=this.props.message,n=Object(i.__assign)({},A);switch(t.autoModType){case y.a.MessageRejectedPrompt:e=U(t.category);break;case y.a.CheerMessageRejectedPrompt:e=U(t.category);var o=this.props.data&&this.props.data.user&&this.props.data.user.cheer?this.props.data.user.cheer:{__typename:"CheerInfo",id:null,emotes:[]},c=Object(m.g)(t.originalMessage,Object(p.a)(o.emotes||[]));t.rejectedMessage=Object(i.__assign)(Object(i.__assign)({},t.rejectedMessage),{messageParts:c});break;case y.a.MessageRejected:e=Object(s.d)("Hey! Your message is being checked by mods and has not been sent.","AutoModLine");break;case y.a.MessageAllowed:e=Object(s.d)("Mods have allowed your message. Happy chatting!","AutoModLine");var l=(e+=" VoHiYo").match("VoHiYo");l&&void 0!==l.index&&(n.emotes[""+l.index]={startIndex:l.index,id:"81274"});break;case y.a.MessageDenied:e=Object(s.d)("Mods have removed your message.","AutoModLine");break;case y.a.CheerMessageDenied:e=Object(s.d)("Mods have removed your text message. Your Cheermote was sent.","AutoModLine");break;case y.a.CheerMessageTimeout:e=Object(s.d)("Mods did not approve your message in time.  Your Cheermote was sent without the text.","AutoModLine");break;case y.a.MessageModApproved:case y.a.MessageModDenied:return null;default:throw new Error("Invalid message type")}var d=Object(E.a)(e,n,m.a);switch(t.autoModType){case y.a.MessageRejectedPrompt:case y.a.CheerMessageRejectedPrompt:if(!(t.autoModType!==y.a.CheerMessageRejectedPrompt||this.props.data&&this.props.data.user&&this.props.data.user.cheer))return null;if(t.rejectedMessage.deleted)return null;if(this.state.isResolved)return r.createElement(_.a,{className:"chat-line__status"},Object(s.d)("Thank you for your feedback!","ChatLine"));var v=["chat-line__message--alert","chat-line__message--special","chat-line__message--clearfix"],b=void 0;return b=this.props.extractedMessage&&this.props.extractedMessage.message&&!this.props.extractedMessage.error?r.createElement(_.a,{className:a(v)},r.createElement(w.a,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,message:this.props.extractedMessage.message,hasModPermissions:!0,showModerationIcons:this.props.showModerationIcons,showTimestamps:!1,currentUserLogin:this.props.channelLogin,onUsernameClick:this.openViewerCard,surfaceError:this.surfaceError})):this.props.extractedMessage&&this.props.extractedMessage.loading?r.createElement(N.a,{lineCount:2}):r.createElement(h.a,Object(i.__assign)({},this.props,{canDelete:!1,isCurrentUserStaff:!1,isDeleted:!1,isHidden:!1,showTimestamps:!1,className:a(v),message:t.rejectedMessage})),r.createElement(_.a,{className:"chat-line__message"},r.createElement(u.a,{badgeSets:this.props.badgeSets,badgesToRender:d.badges}),r.createElement(f.a,{userData:d.user}),r.createElement("span",{key:"separator"},": "),Object(g.f)(d.messageParts),r.createElement(_.a,{key:"automod-prompt",className:"chat-line__nested-component--float-right"},r.createElement(O.a,{size:O.b.Small,onClick:this.getAllowMessageCallback(t.autoModType),type:O.d.Text},Object(s.d)("Allow","AutoModLine")),r.createElement(D.a,{type:D.e.Span},"•"),r.createElement(O.a,{size:O.b.Small,onClick:this.getDenyMessageCallback(t.autoModType),type:O.d.Text},Object(s.d)("Deny","AutoModLine"))),b);case y.a.MessageRejected:case y.a.MessageAllowed:case y.a.MessageDenied:case y.a.CheerMessageDenied:case y.a.CheerMessageTimeout:return r.createElement(_.a,{className:a(["chat-line__message","chat-line__message--special","chat-line__message--alert"])},r.createElement(u.a,{badgeSets:this.props.badgeSets,badgesToRender:d.badges}),r.createElement(f.a,{userData:d.user}),r.createElement("span",{key:"separator"},": "),Object(g.f)(d.messageParts));default:throw new Error("Invalid message type")}},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(r.Component);var B=Object(o.d)(C.a,Object(v.b)((function(e){return{onUsernameClick:e.onShowViewerCard}})),Object(c.a)(I,{name:"allowRejectedChatMessage"}),Object(c.a)(P,{name:"denyRejectedChatMessage"}),Object(c.a)(M,{name:"allowRejectedCheer"}),Object(c.a)(j,{name:"denyRejectedCheer"}),Object(c.a)(T,{name:"data",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(c.a)(F,{options:function(e){return{variables:{msgID:e.message.rejectedMessage.id,channelID:e.channelID}}},props:function(e){return{extractedMessage:{message:e.data&&e.data.rejectedChatMessage&&e.data.rejectedChatMessage.message||null,loading:!(!e.data||!e.data.loading),error:!(!e.data||!e.data.error)}}},skip:function(e){return!e.channelID||e.message.autoModType!==y.a.MessageRejectedPrompt}}))(x)},IKE4:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"badge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Badge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image1x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"NORMAL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image2x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image4x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:170}};n.loc.source={body:"fragment badge on Badge {\nid\nsetID\nversion\ntitle\nimage1x: imageURL(size: NORMAL)\nimage2x: imageURL(size: DOUBLE)\nimage4x: imageURL(size: QUADRUPLE)\nclickAction\nclickURL\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},INxu:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoter"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoterChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:396}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoter on PollVoter {\nid\nchoices {\n...pollVoterChoice\n}\npoll {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\nuser {\nid\nlogin\ndisplayName\n}\nvotes {\n...pollVoteBreakdown\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("WWj3").definitions)),i.definitions=i.definitions.concat(r(n("/x02").definitions)),i.definitions=i.definitions.concat(r(n("wMQt").definitions)),e.exports=i},IQZc:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("YV90"),s=n("OUdD");function c(e,t){return e.cost!==t.cost||!t.isEnabled||"CommunityPointsCustomReward"===e.__typename&&"CommunityPointsCustomReward"===t.__typename&&(e.title!==t.title||e.prompt!==t.prompt||e.isUserInputRequired!==t.isUserInputRequired)}var l=function(e){function t(t){var n=e.call(this,t)||this,i="CommunityPointsCustomReward"===t.reward.__typename&&(!t.reward.isInStock||t.reward.isPaused);return n.state={changed:!1,stockChanged:!1,outOfStock:i},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.reward,i=e.rewardMap[e.reward.id];if(!i)return{changed:!1,outOfStock:!1};var a="CommunityPointsCustomReward"===i.__typename&&(!i.isInStock||i.isPaused);return{changed:c(n,i),stockChanged:t.stockChanged||t.outOfStock!==a,outOfStock:a}},t.prototype.render=function(){if(this.state.changed&&this.props.renderOnRequirementsChange)return this.props.renderOnRequirementsChange;if(this.state.outOfStock){if(!this.state.stockChanged&&this.props.renderOnInitiallyOutOfStock)return this.props.renderOnInitiallyOutOfStock;if(this.props.renderOnStockChange)return this.props.renderOnStockChange}return this.props.children||null},t.prototype.componentDidMount=function(){this.props.onRequirementsChange&&this.state.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock&&this.props.onStockChange(this.state.outOfStock)},t.prototype.componentDidUpdate=function(e,t){this.props.onRequirementsChange&&this.state.changed!==t.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock!==t.outOfStock&&this.props.onStockChange(this.state.outOfStock)},t}(a.Component);var d=Object(r.d)(Object(o.a)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,rewardMap:e.rewardMap}})),Object(s.b)((function(e){return{openReward:e.openReward}})))(l);n.d(t,"a",(function(){return d}))},IRJ5:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("fvjX"),s=n("/7QA"),c=n("gcd7"),l=n("yR8l"),d=n("5zf8"),u=n("DMoW"),m=n("2xye"),p=n("3kHA"),h=n("5Siz"),f=n("Y5lD"),g=n("eAdp"),v=n("gMwc");function b(){return Object(s.d)("An unexpected error occurred. Try again.","BookmarkCommandHandler")}function k(){return Object(s.d)("You can only add stream markers during live streams. Try again when the channel is live streaming.","BookmarkCommandHandler")}var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bookmark=function(e){if(void 0===e&&(e=""),t.props.markersData)return{deferred:t.props.markersData.refetch().then((function(){var n=t.props.markersData,i=n.user&&n.user.stream&&n.user.stream.id,a=n.user&&n.user.stream&&n.user.stream.createdAt;return i?t.createBookmarkHelper(i,e,a):Promise.resolve({notice:k()})}))}},t.createBookmarkHelper=function(e,n,i){var a=n.substring(0,h.a).trim();return t.props.createVideoBookmark({variables:{input:{broadcastID:e,description:a,medium:t.props.isPopout?"popout_chat":"chat",platform:m.SpadePlatform.Web}}}).then((function(e){var t=e.data&&e.data.createVideoBookmark;if(t&&t.error&&t.error.code)switch(t.error.code){case u.jb.ARCHIVES_DISABLED:return{notice:Object(s.d)("Past Broadcast storage must be enabled in order to add stream markers. Enable via Channel Settings and try again.","BookmarkCommandHandler")};case u.jb.BROADCAST_FORMAT_INVALID_PREMIERE:case u.jb.BROADCAST_FORMAT_INVALID_RERUN:return{notice:Object(s.d)("You can only add stream markers during live streams. Try again when the channel is live streaming and not running a Premiere or Rerun.","BookmarkCommandHandler")};case u.jb.BROADCASTER_NOT_LIVE:return{notice:k()};case u.jb.USER_UNAUTHORIZED:return{notice:Object(s.d)("You don't have permission to create stream markers for this channel.","BookmarkCommandHandler")};case u.jb.INTERNAL_SERVER_ERROR:case u.jb.VOD_NOT_READY:default:return{notice:b()}}var n=null===i?null:Object(d.b)(Object(f.a)(i),d.a.ClockHMS),r=""!==a;return{notice:n&&r?Object(s.d)('Successfully added a stream marker at {time}: "{description}"',{description:a,time:n},"BookmarkCommandHandler"):n?Object(s.d)("Successfully added a stream marker at {time}",{time:n},"BookmarkCommandHandler"):r?Object(s.d)('Successfully added a stream marker: "{description}"',{description:a},"BookmarkCommandHandler"):Object(s.d)("Successfully added a stream marker","BookmarkCommandHandler")}})).catch((function(){return{notice:b()}}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.markersData?a.createElement(c.a,{args:[{name:"description",isRequired:!1}],channelLogin:this.props.channelLogin,command:"marker",description:Object(s.d)("Add a stream marker at the current timestamp","BookmarkCommandHandler"),handler:this.bookmark,helpText:Object(s.d)('Usage: "/marker" - Adds a stream marker (with an optional comment, max 140 characters) at the current timestamp. You can use markers in the Highlighter for easier editing.',"BookmarkCommandHandler"),permissionLevel:p.b.Broadcaster}):null},t}(a.Component);var S=Object(o.d)(Object(r.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})),Object(l.a)(g,{name:"createVideoBookmark"}),Object(l.a)(v,{name:"markersData",skip:function(e){return!e.firstPageLoaded}}))(y);n.d(t,"a",(function(){return S}))},J2EQ:function(e,t,n){"use strict";var i=n("/MKj"),a=n("fvjX"),r=n("yR8l"),o=n("XDCx"),s=n("Owek"),c=n("nHtq"),l=n("mrSG"),d=n("q1tI"),u=n("/7QA"),m=n("gcd7"),p=n("geRD"),h=n("f00E"),f=n("DMoW"),g=n("3kHA"),v=n("RBh2"),b=n("i5+p"),k=n("NIpN"),y=n("SUI5"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openPollModal=function(){var e=Object(u.d)("Unable to create poll. Please try again.","Polls--PollCommandHandler");return t.props.isUserPollAdmin?null!==t.props.viewablePoll&&t.props.viewablePoll.status===f.ec.ACTIVE?{deferred:Promise.resolve({notice:Object(u.d)("A poll is already active.","Polls--PollCommandHandler")})}:t.props.channelID?void t.props.showModal(y.a,{channelID:t.props.channelID}):{deferred:Promise.resolve({notice:e,error:g.a.MissingParameters})}:{deferred:Promise.resolve({notice:t.getForbiddenMessage()})}},t.endPoll=function(){var e=Object(u.d)("Unable to end poll. Please try again.","Polls--PollCommandHandler");return t.props.isUserPollAdmin?t.props.viewablePoll&&t.props.terminatePoll?Object(b.f)(t.props.viewablePoll.status)?{deferred:t.props.terminatePoll(Object(p.a)({pollID:t.props.viewablePoll.id})).then((function(t){return null===t?{notice:e}:{notice:Object(u.d)("Poll ended successfully.","Polls--PollCommandHandler")}})).catch((function(){return{notice:e}}))}:{deferred:Promise.resolve({notice:Object(u.d)("Poll already ended.","Polls--PollCommandHandler")})}:{deferred:Promise.resolve({notice:t.getNoPollErrorMessage()})}:{deferred:Promise.resolve({notice:t.getForbiddenMessage()})}},t.deletePoll=function(){var e=Object(u.d)("Unable to delete poll. Please try again.","Polls--PollCommandHandler"),n=t.props.viewablePoll;return t.props.isUserPollAdmin?n&&t.props.archivePoll?n.tokens.bits>0?void t.props.showModal(k.a,{pollID:n.id}):{deferred:t.props.archivePoll(Object(p.a)({pollID:n.id})).then((function(t){return null===t?{notice:e}:{notice:Object(u.d)("Poll deleted successfully.","Polls--PollCommandHandler")}})).catch((function(){return{notice:e}}))}:{deferred:Promise.resolve({notice:t.getNoPollErrorMessage()})}:{deferred:Promise.resolve({notice:t.getForbiddenMessage()})}},t.voteInPoll=function(e){var n=e.trim().split(/\s+/),i=parseInt(n[0],10)-1,a=t.props.viewablePoll;if(1!==n.length)return{deferred:Promise.resolve({notice:t.voteUsage(),error:g.a.InvalidParameters})};if(t.props.userID){if(null===a)return{deferred:Promise.resolve({notice:t.getNoPollErrorMessage()})};if(t.props.voteInPoll){if(i<0||i>a.choices.length-1)return{deferred:Promise.resolve({notice:t.getBadChoiceMessage()})};t.trackPollsClientInteraction(v.a.Vote);var r=a.choices[i];return{deferred:t.props.voteInPoll(Object(p.a)({choiceID:r.id,pollID:a.id,userID:t.props.userID,voteID:Object(h.c)()})).then((function(e){if(null===e||null===e.data||null===e.data.voteInPoll)return{notice:t.getNoPollErrorMessage()};if(e.data.voteInPoll.error)switch(e.data.voteInPoll.error.code){case f.od.USER_FORBIDDEN:return{notice:Object(u.d)("Forbidden from voting in this poll.","Polls--PollCommandHandler")};case f.od.TOKENS_REQUIRED:return{notice:Object(u.d)("Only one free vote is allowed.","Polls--PollCommandHandler")};case f.od.POLL_NOT_ACTIVE:case f.od.POLL_NOT_FOUND:return{notice:t.getNoPollErrorMessage()};case f.od.INVALID_CHOICE_ID:return{notice:t.getBadChoiceMessage()};default:return{notice:t.getVoteErrorMessage()}}return{notice:Object(u.d)("Voted in poll successfully.","Polls--PollCommandHandler")}})).catch((function(){return{notice:t.getVoteErrorMessage()}}))}}return{deferred:Promise.resolve({notice:t.getVoteErrorMessage()})}}return{deferred:Promise.resolve({notice:t.getVoteErrorMessage(),error:g.a.MissingParameters})}},t}return Object(l.__extends)(t,e),t.prototype.render=function(){return this.props.data&&this.props.data.channel&&this.props.data.channel.roles&&(this.props.data.channel.roles.isAffiliate||this.props.data.channel.roles.isPartner)?d.createElement(d.Fragment,null,d.createElement(m.a,{channelLogin:this.props.channelLogin,command:"poll",description:Object(u.d)("Open a setup menu to create a poll.","Polls--PollCommandHandler"),handler:this.openPollModal,helpText:this.pollUsage(),permissionLevel:g.b.Moderator}),d.createElement(m.a,{channelLogin:this.props.channelLogin,command:"endpoll",description:Object(u.d)("End the active poll on the given channel.","Polls--PollCommandHandler"),handler:this.endPoll,helpText:this.endPollUsage(),permissionLevel:g.b.Moderator}),d.createElement(m.a,{channelLogin:this.props.channelLogin,command:"deletepoll",description:Object(u.d)("Delete the active poll on the given channel.","Polls--PollCommandHandler"),handler:this.deletePoll,helpText:this.deletePollUsage(),permissionLevel:g.b.Moderator}),d.createElement(m.a,{channelLogin:this.props.channelLogin,args:[{name:"index",isRequired:!0}],command:"vote",description:Object(u.d)("Vote in the active poll on the given channel.","Polls--PollCommandHandler"),handler:this.voteInPoll,helpText:this.voteUsage(),permissionLevel:g.b.Viewer})):null},t.prototype.pollUsage=function(){return Object(u.d)('Usage: "/poll" - Opens the setup menu to create a poll.',"Polls--PollCommandHandler")},t.prototype.endPollUsage=function(){return Object(u.d)('Usage: "/endpoll" - Ends the active poll.',"Polls--PollCommandHandler")},t.prototype.deletePollUsage=function(){return Object(u.d)('Usage: "/deletepoll" - Deletes the active poll.',"Polls--PollCommandHandler")},t.prototype.voteUsage=function(){return Object(u.d)('Usage: "/vote <index>" - Vote for the option represented by its numeric position.',"Polls--PollCommandHandler")},t.prototype.getVoteErrorMessage=function(){return Object(u.d)("Unable to vote in poll. Please try again.","Polls--PollCommandHandler")},t.prototype.getNoPollErrorMessage=function(){return Object(u.d)("A poll is not currently active.","Polls--PollCommandHandler")},t.prototype.getForbiddenMessage=function(){return Object(u.d)("You don't have permission to perform that action.","Polls--PollCommandHandler")},t.prototype.getBadChoiceMessage=function(){return Object(u.d)("Please vote for a valid option. Use 1, 2, 3...","Polls--PollCommandHandler")},t.prototype.trackPollsClientInteraction=function(e,t){var n=this.props,i=n.data,a=n.viewablePoll;i&&i.channel&&i.channel.id&&a&&Object(v.d)({userID:i.channel.id,channelID:i.channel.id,pollID:a.id,action:e,bitsSpent:t})},t}(d.Component);var C=Object(a.d)(Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),(function(e){return Object(a.b)({showModal:o.e},e)})),Object(s.b)((function(e){return{viewablePoll:e.viewablePoll,voteInPoll:e.voteInPoll,archivePoll:e.archivePoll,terminatePoll:e.terminatePoll,isUserPollAdmin:e.isUserPollAdmin}})),Object(r.a)(c,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.firstPageLoaded||!e.channelLogin}}))(S);n.d(t,"a",(function(){return C}))},J9w5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:81}};n.loc.source={body:"query Core_Services_Spade_Video($id: ID!) {\nvideo(id: $id) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_Video=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_Video")},JGCS:function(e,t,n){},JN5s:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA");function a(){return Object(i.d)("Your message is identical to the one you sent within the last 30 seconds.","DuplicatedMessageErrorTray")}},JPUa:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActiveWatchParty"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchParty"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"session"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartySession"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:199}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-session-fragment.gql"\nquery ActiveWatchParty($channelID: ID!) {\nuser(id: $channelID) {\nid\nwatchParty {\nsession {\n...watchPartySession\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("6JW5").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.ActiveWatchParty=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"ActiveWatchParty")},JXcx:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:202}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\nmutation CreatePoll($input: CreatePollInput!) {\ncreatePoll(input: $input) {\npoll {\nid\nownedBy {\nid\nlatestPoll{\n...poll\n}\n}\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("wAVh").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.CreatePoll=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"CreatePoll")},JbWT:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("+GjP"),o=n("2xye"),s=n("Rjl4"),c=n("Jsra"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.referralID=Object(s.e)(),t.onTryPrimeClick=function(){Object(s.w)({tp_refcode:t.referralID,medium:o.PageviewMedium.Chat,content:o.PageviewContent.TwitchPrimeSubNotification,tp_campaign:s.b.TrackingAlpha})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.reference,i=e.text,o=Object(r.g)("https://twitch.amazon.com/prime",{reference:n,channel:t,twitchReferral:this.referralID});return a.createElement(c.a,{onClick:this.onTryPrimeClick,className:"chat-line__message--link",linkTo:o,targetBlank:!0,rel:"noopener"},i)},t}(a.PureComponent);n.d(t,"a",(function(){return l}))},JcRA:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("dEDE"),o=n("X2PJ"),s=n("hnjF"),c=n("vCsY"),l=n("Ws8v"),d=n("HSpZ"),u=n("sUnt"),m=n("7uM4"),p=300,h=function(e){function t(t){var n=e.call(this,t)||this;return n.enqueueTextBufferFlush=function(e){var t=function(){n.setState((function(e){return{currentText:e.textBuffer,textBuffer:""}}),(function(){n.triggerTextTransition(),n.enqueueAnimationEndNotification(p)}))};if(n.textBufferFlushTimout&&clearTimeout(n.textBufferFlushTimout),e<=0)return t();n.textBufferFlushTimout=setTimeout(t,e)},n.enqueueAnimationEndNotification=function(e){n.props.onAnimationEnd&&(n.animationNotificationTimeout&&clearTimeout(n.animationNotificationTimeout),n.animationNotificationTimeout=setTimeout(n.props.onAnimationEnd,e))},n.onClick=function(e){n.state.isIconAnimationEnabled||n.props.onClick&&(n.setState({isFocused:!1}),n.props.onClick(e))},n.setTextRef=function(e){n.textRef=e},n.onFocus=function(){var e=n.props.text||"";n.setState({textBuffer:void 0!==n.props.textOnHover?n.props.textOnHover:e,isFocused:!0})},n.onBlur=function(){n.setState({textBuffer:n.props.text||"",isFocused:!1})},n.onIconAnimationComplete=function(){n.setState({isIconAnimationEnabled:!1})},n.state={textBuffer:"",currentText:t.text||"",currentIcon:t.icon,currentIconOnHover:t.iconOnHover,isFocused:!1,offsetPixels:0,isIconAnimationEnabled:!1},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n={};return t.currentText!==e.text&&t.currentText!==e.textOnHover&&(n.textBuffer=e.text||""),t.currentIcon!==e.icon&&(n.currentIcon=e.icon,n.isIconAnimationEnabled=!0),t.currentIconOnHover!==e.iconOnHover&&(n.currentIconOnHover=e.iconOnHover,n.isIconAnimationEnabled=!0),Object.keys(n).length>0?n:null},t.prototype.getSnapshotBeforeUpdate=function(e,t){return this.state.currentText!==t.currentText&&this.textRef&&(this.prevTextSize=this.textRef.getBoundingClientRect().width),null},t.prototype.componentDidUpdate=function(e,t){var n=this.state.textBuffer!==t.textBuffer&&""!==this.state.textBuffer,i=t.isIconAnimationEnabled&&!this.state.isIconAnimationEnabled;n&&this.enqueueTextBufferFlush(this.props.delayText||0),i&&this.enqueueAnimationEndNotification(0)},t.prototype.render=function(){var e=void 0===this.props.fullWidthButton||this.props.fullWidthButton,t=this.props.size||r.b.Default;return a.createElement(o.f,{overflow:s.i.Hidden,background:this.props.background||void 0,borderRadius:o.b.Medium,display:s.d.InlineFlex},a.createElement("div",{onMouseEnter:this.onFocus,onMouseLeave:this.onBlur,onFocus:this.onFocus,onBlur:this.onBlur},a.createElement(r.a,Object(i.__assign)({fullWidth:e,blurAfterClick:!0,overlay:this.props.overlayButton,onClick:this.onClick,type:this.getCurrentType(),tabIndex:this.props.tabIndex,ariaLabel:this.props.ariaLabel,disabledInteraction:this.props.disabled,size:t},Object(c.a)(this.props)),a.createElement(l.a,{display:s.d.Flex,justifyContent:s.h.Center,alignItems:s.b.Center,color:this.props.darkModeEnabled&&this.getCurrentType()===r.d.Text?o.c.Link:void 0},this.renderIcon(),this.renderText()))))},t.prototype.renderIcon=function(){var e=this.state.currentText?.5:0;return a.createElement(s.g,{display:s.d.Flex,justifyContent:s.h.Center,alignItems:s.b.Center,margin:{right:e}},a.createElement("div",{style:{transform:this.getIconTransform(),transition:this.getIconTransition()}},a.createElement(d.a,{enabled:this.state.isIconAnimationEnabled,onAnimationEnd:this.onIconAnimationComplete,duration:d.c.Long,type:d.f.BounceIn},a.createElement(u.a,{display:s.d.Flex,justifyContent:s.h.Center,alignItems:s.b.Center},a.createElement(m.a,{type:m.b.Inherit,asset:this.getIcon()})))))},t.prototype.renderText=function(){var e=!0===this.props.disableTextAnimation?void 0:{opacity:this.getTextOpacity(),transform:this.getTextTransform(),transition:this.getTextTransition()};return a.createElement("span",{ref:this.setTextRef,style:e},this.state.currentText)},t.prototype.getIconTransform=function(){var e="scale(1)",t="translateX(0px)";return this.state.isFocused&&(e="scale(1.2)"),Math.abs(this.state.offsetPixels)>15&&(t="translateX("+this.state.offsetPixels/2+"px)"),t+" "+e},t.prototype.getIconTransition=function(){return this.props.preventTransition?"":p+"ms transform ease"},t.prototype.getTextTransform=function(){return"translateX("+(0!==this.state.offsetPixels||this.props.isFollowing?"-10px":0)+")"},t.prototype.getTextOpacity=function(){return 0!==this.state.offsetPixels||this.props.isFollowing?0:1},t.prototype.getTextTransition=function(){return p+"ms all ease "+p+"ms"},t.prototype.getCurrentType=function(){return this.state.isFocused&&this.props.typeOnHover?this.props.typeOnHover:this.props.type},t.prototype.getIcon=function(){return this.state.isFocused&&this.state.currentIconOnHover?this.state.currentIconOnHover:this.state.currentIcon},t.prototype.triggerTextTransition=function(){var e=this;if(this.textRef){var t=this.textRef.getBoundingClientRect().width;this.setState({offsetPixels:t-this.prevTextSize},(function(){e.prevTextSize=t,requestAnimationFrame((function(){requestAnimationFrame((function(){e.setState({offsetPixels:0})}))}))}))}},t}(a.Component);n.d(t,"a",(function(){return h}))},JiJH:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnVIPUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevokeVIPInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revokeVIP"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"revokee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:126}};n.loc.source={body:"mutation UnVIPUser($input: RevokeVIPInput!){\nrevokeVIP(input: $input) {\nchannel {\nid\n}\nrevokee {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnVIPUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnVIPUser")},JqNv:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartyError"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchPartyError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}],loc:{start:0,end:52}};n.loc.source={body:"fragment watchPartyError on WatchPartyError {\ncode\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"K/KT":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("pVnL"),a=n.n(i),r=n("8OQS"),o=n.n(r),s=n("q1tI"),c=n("fNzW"),l=n("vCsY"),d=n("1H2c"),u=n("2Ob2"),m=(n("oDQa"),function(e){var t,n=Object(d.a)(),i={"tw-toggle":!0,"tw-toggle--error":e.error,"tw-toggle--overlay":e.overlay};e.tabIndex&&(t=e.tabIndex);e.error,e.overlay;var r=o()(e,["error","overlay"]);return s.createElement("div",a()({className:Object(c.a)(i)},Object(l.a)(e)),s.createElement("input",a()({},Object(l.b)(r),{className:"tw-toggle__input",id:e.id?e.id:n,tabIndex:t,type:"checkbox","data-a-target":"tw-toggle"})),s.createElement("label",{htmlFor:e.id?e.id:n,className:"tw-toggle__button"}))});m.displayName="ToggleComponent",m.displayName="ToggleComponent";var p=Object(u.c)(m)},KGti:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return k})),n.d(t,"k",(function(){return y})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return C}));var i,a=n("mrSG"),r=n("XmgI"),o=n("ZtEv"),s=n("a1OF"),c=n("aF6k"),l=n("p52R");function d(e){return e+"-automod-rejected"}function u(e,t,n,i){var c={badges:null,badgeDynamicData:null,bits:0,color:"",displayName:"",id:"",userID:n,username:n,userType:l.a.User,emotes:{}},u=Object(s.a)(t,c,r.a);return{type:o.b.AutoMod,autoModType:o.a.MessageRejectedPrompt,id:d(e),category:i,rejectedMessage:Object(a.__assign)(Object(a.__assign)({},u),{type:o.b.Message,messageType:o.c.Post,id:e})}}function m(e,t,n,i,c){var u={badges:null,badgeDynamicData:null,bits:0,color:"",displayName:"",id:"",userID:n,username:n,userType:l.a.User,emotes:{}},m=Object(s.a)(t,u,r.a);return{type:o.b.AutoMod,autoModType:o.a.CheerMessageRejectedPrompt,id:d(e),messageID:e,category:i,targetUserID:c,originalMessage:t,rejectedMessage:Object(a.__assign)(Object(a.__assign)({},m),{type:o.b.Message,messageType:o.c.Post,id:e})}}function p(){return{id:Object(c.a)("automod-message-rejected"),type:o.b.AutoMod,autoModType:o.a.MessageRejected}}function h(){return{id:Object(c.a)("automod-message-allowed"),type:o.b.AutoMod,autoModType:o.a.MessageAllowed}}function f(e){return{id:Object(c.a)("automod-message-denied"),msg_id:e.data.msg_id,type:o.b.AutoMod,autoModType:o.a.MessageModApproved}}function g(e){return{id:Object(c.a)("automod-message-denied"),msg_id:e.data.msg_id,type:o.b.AutoMod,autoModType:o.a.MessageModDenied}}function v(){return{id:Object(c.a)("automod-message-denied"),type:o.b.AutoMod,autoModType:o.a.MessageDenied}}function b(){return{id:Object(c.a)("automod-cheer-message-denied"),type:o.b.AutoMod,autoModType:o.a.CheerMessageDenied}}function k(){return{id:Object(c.a)("automod-cheer-message-timeout"),type:o.b.AutoMod,autoModType:o.a.CheerMessageTimeout}}function y(e,t,n,a){return{id:Object(c.a)("channel-moderation-action"),type:o.b.ModerationAction,moderationActionType:e,level:i.Channel,createdByLogin:t,createdByUserID:n,args:a}}function S(e,t,n,a,r,s,l,d){return{id:Object(c.a)("channel-moderation-action"),type:o.b.ModerationAction,moderationActionType:e,level:i.User,createdByLogin:t,createdByUserID:n,targetUserLogin:a,duration:r,reason:s,messageBody:l,messageID:d}}function C(e,t,n,i){return{id:Object(c.a)("channel-moderation-action"),type:o.b.TargetedModerationAction,targetedModerationActionType:e,targetUserID:t,messageBody:n,targetMessageID:i}}!function(e){e[e.Channel=0]="Channel",e[e.User=1]="User"}(i||(i={}))},KIkj:function(e,t,n){},Kae6:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("fNzW"),s=n("vCsY"),c=n("hnjF"),l=n("X2PJ"),d=n("2nDl"),u=(n("VFp6"),function(e){var t,n={"tw-textarea":!0,"tw-textarea--no-resize":e.noResize,"tw-textarea--error":e.error};e.tabIndex&&(t=e.tabIndex);var i=d.c.Default;e.size&&(i=e.size);var u={paddingRight:e.paddingRight?e.paddingRight/10+"rem":void 0};return r.createElement(l.f,{display:c.d.Block,borderRadius:l.b.Medium,overflow:e.overflow,fontSize:d.b[i],fullWidth:!0},r.createElement("textarea",a()({className:Object(o.a)(n),autoComplete:e.autoComplete,autoFocus:e.autoFocus,cols:e.cols,disabled:e.disabled,id:e.id,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,style:u,placeholder:e.placeholder,rows:e.rows,tabIndex:t,value:e.value,defaultValue:e.defaultValue,ref:e.refDelegate,readOnly:e.readOnly},Object(s.a)(e))))});u.displayName="TextArea",u.displayName="TextArea"},Kcwz:function(e,t,n){},KrPZ:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsEmoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:74}};n.loc.source={body:"fragment communityPointsEmoteFragment on CommunityPointsEmote {\nid\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},KriR:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var i,a=n("/7QA"),r=n("2xye");function o(e){var t={channel:e.channelLogin,channel_id:e.channelId,payment_type:e.paymentType,payment_flow:e.paymentFlow,quantity:e.quantity,action:e.action,action_detail:e.actionDetail,product_id:e.productId,ticket_price:e.ticketPrice,currency:e.currency,saved_payment:e.savedPayment,is_anonymous:e.isAnonymous,checkout_source:e.trackingContext.source,checkout_session_id:e.checkoutSessionID};e.trackingContext.detail&&(t.checkout_source_detail=e.trackingContext.detail),a.o.track(r.SpadeEventType.PaymentFormInteraction,t)}!function(e){e.SPM="spm",e.RecurlyCreditCard="recurlyCreditCard"}(i||(i={}));var s,c,l,d,u,m=function(){function e(e){this.store={checkoutSessionID:e.checkoutSessionID,savedPaymentAvailable:null,savedPaymentDisplayed:null,recurlyCreditCardAvailable:null,details:null},this.counter=0,this.config={allowDuplicateEvents:!(!e||!e.allowDuplicateEvents)},this.readyFields={spm:!1,recurlyCreditCard:!1}}return e.prototype.get=function(e){return this.store[e]},e.prototype.set=function(e){this.store=Object.assign(this.store,e)},e.prototype.setReady=function(e){this.readyFields[e]=!0},e.prototype.reportEvent=function(){var e,t;this.allFieldsReady&&(0===this.counter||this.config.allowDuplicateEvents)&&(this.counter++,e=this.store,t={checkout_session_id:e.checkoutSessionID,saved_payment_available:e.savedPaymentAvailable,saved_payment_displayed:e.savedPaymentDisplayed,recurly_credit_card_available:e.recurlyCreditCardAvailable,details:e.details||""},a.o.track(r.SpadeEventType.PaymentFormDisplay,t))},Object.defineProperty(e.prototype,"allFieldsReady",{get:function(){return Object.values(this.readyFields).reduce((function(e,t){return e&&t}))},enumerable:!0,configurable:!0}),e}();!function(e){e.Failed="failed",e.Pending="pending",e.Success="success"}(s||(s={})),function(e){e.MysteryGifting="mystery_gifting",e.Gifting="gifting",e.Personal="personal"}(c||(c={})),function(e){e.RecurlyCreditCard="recurly_credit_card",e.RecurlyPaypal="recurly_paypal",e.RecurlyPayWithAmazon="recurly_pay_with_amazon",e.ZuoraCreditCard="zuora_credit_card",e.Xsolla="xsolla"}(l||(l={})),function(e){e.VendorLoginClick="vendor_login_click",e.CompletePurchaseClick="complete_purchase_click",e.PaypalTokenError="paypal_token_error",e.RadioButtonClick="radio_button_click",e.TokenError="token_error",e.PriceChangeAlert="price_change_alert",e.UnsupportedCountryAlert="unsupported_country_alert"}(d||(d={})),function(e){e.ChannelSubscribeButton="channel_subscribe_button_click",e.Direct="direct_url_link",e.EmotePicker="emote_picker_click",e.Extension="extension_click",e.SubscriptionsManagement="subscriptions_management",e.TurboSubscribeButton="turbo_subscribe_button_click",e.ViewerCard="viewer_card_click",e.SubscriberStreamUpsellClick="subscriber_stream_upsell_click",e.GetBitsMenu="get_bits_menu"}(u||(u={}))},"L/cU":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return h}));var i,a=n("pVnL"),r=n.n(a),o=n("q1tI"),s=n("fNzW"),c=n("vCsY"),l=n("C9w8"),d=n("fPaz"),u=n("uG/k"),m=n("hnjF"),p=n("Ws8v");n("Lk5B");!function(e){e.Default="tw-card-img--size-default",e.Size2="tw-card-img--size-2",e.Size3="tw-card-img--size-3",e.Size4="tw-card-img--size-4",e.Size6="tw-card-img--size-6",e.Size8="tw-card-img--size-8",e.Size12="tw-card-img--size-12",e.Size16="tw-card-img--size-16",e.Size24="tw-card-img--size-24",e.Size32="tw-card-img--size-32"}(i||(i={}));var h=function(e){var t={"tw-card-img":!0};return e.size&&e.size!==i.Default&&(t[e.size]=!0),o.createElement(p.a,r()({className:Object(s.a)(t),flexShrink:0,borderRadius:e.borderRadius,overflow:m.i.Hidden},Object(c.a)(e)),o.createElement(d.b,{ratio:e.aspect?e.aspect:d.c.Aspect16x9,overflow:e.overflow},o.createElement(u.a,Object(l.a)(e))),e.children)};h.displayName="CardImage",h.displayName="CardImage"},L6L7:function(e,t,n){},L7EG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoShareBox_TrackingVideoContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:156}};n.loc.source={body:"query VideoShareBox_TrackingVideoContext($videoID: ID!) {\nvideo(id: $videoID) {\nid\nbroadcastType\nowner {\nid\nlogin\nroles {\nisPartner\n}\n}\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoShareBox_TrackingVideoContext=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoShareBox_TrackingVideoContext")},"LE+Z":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("tLDJ");function a(e){return Object(i.ib)(e)+"/community/channel-points"}function r(e){return"/u/"+e+"/community/channel-points"}function o(e){return"/"+e+"/dashboard/settings/revenue"}},LZFU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){return"https://static-cdn.jtvnw.net/ttv-boxart/"+encodeURIComponent(e)+"-"+t.width+"x"+t.height+".jpg"}},Lk5B:function(e,t,n){},MAph:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelContext_HostedChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hostedChannelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"hostedChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hostedChannel"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"hostedChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]}]}}],loc:{start:0,end:205}};n.loc.source={body:"query ChannelContext_HostedChannel($hostedChannelLogin: String!) {\nuser(login: $hostedChannelLogin) {\n...hostedChannel\n}\n}\nfragment hostedChannel on User {\nid\nlogin\ndisplayName\nprofileImageURL(width: 70)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelContext_HostedChannel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelContext_HostedChannel")},MJbm:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=(n("efEE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logger=r.p.logger.withCategory("resize-detector"),t.maybeDebounceOnScroll=function(){void 0!==t.props.debounceMs?(clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(t.onScroll,t.props.debounceMs)):t.onScroll()},t.onScroll=function(){var e=t.container,n=e.offsetWidth,i=e.offsetHeight,a=e.offsetLeft,r=e.offsetTop;t.logger.debug("Resize Detector -- onScroll"),n===t.width&&i===t.height&&r===t.top&&a===t.left||(t.width=n,t.height=i,t.props.onResize(n,i,r,a)),t.reset()},t.setGrowDivRef=function(e){return t.growDiv=e},t.setGrowChildDivRef=function(e){return t.growChildDiv=e},t.setShrinkDivRef=function(e){return t.shrinkDiv=e},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement("div",{className:"resize-detector"},a.createElement("div",{className:"resize-detector",ref:this.setGrowDivRef},a.createElement("div",{className:"resize-detector__grow",ref:this.setGrowChildDivRef})),a.createElement("div",{className:"resize-detector",ref:this.setShrinkDivRef},a.createElement("div",{className:"resize-detector__shrink"})))},t.prototype.componentDidMount=function(){if(this.growDiv){this.growDiv.parentElement||this.logger.warn("growDiv.parentElement is undefined!"),this.container=this.growDiv.parentElement.parentElement;var e=this.container.style.position;if("relative"!==e&&"absolute"!==e&&"fixed"!==e){var t=window.getComputedStyle(this.container);t&&"static"===t.getPropertyValue("position")&&(this.container.style.position="relative")}this.onScroll(),this.growDiv.addEventListener("scroll",this.maybeDebounceOnScroll),this.shrinkDiv.addEventListener("scroll",this.maybeDebounceOnScroll)}else this.logger.warn("growDiv is undefined!")},t.prototype.componentWillUnmount=function(){this.growDiv.removeEventListener("scroll",this.maybeDebounceOnScroll),this.shrinkDiv.removeEventListener("scroll",this.maybeDebounceOnScroll),clearTimeout(this.debounceTimeout)},t.prototype.reset=function(){var e=this.growDiv,t=this.shrinkDiv,n=this.growChildDiv.style;n.width="100000px",n.height="100000px",e.scrollLeft=1e5,e.scrollTop=1e5,t.scrollLeft=1e5,t.scrollTop=1e5},t}(a.Component));n.d(t,"a",(function(){return o}))},MQZ3:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewPollModalQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:210}};i.loc.source={body:'#import "twilight/features/polls/models/poll-settings-fragment.gql"\nquery NewPollModalQuery($id: ID!) {\nchannel: user(id: $id) {\nid\nlatestPoll{\nid\ndurationSeconds\nsettings { ...pollSettings }\n}\ncheer {\nid\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("OGC9").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.NewPollModalQuery=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"NewPollModalQuery")},MVDO:function(e,t,n){},MfJU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"modLogsMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelLogin"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:345}};n.loc.source={body:"# fragment for mod logs message\nfragment modLogsMessage on ModLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelLogin: $channelLogin) {\nid\nsetID\nversion\n}\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},MglV:function(e,t,n){},Mj6i:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("yR8l"),r=n("0FG4"),o=n("S4w9");function s(){return Object(a.a)(o,{options:function(e){return{variables:{withOwner:!0}}},props:function(e){if(e.data){var t=e.data.currentUser&&e.data.currentUser.emoteSets||[],n=t&&Object(r.b)(t);return{emoteSetsData:Object(i.__assign)(Object(i.__assign)({},e.data),{currentUser:e.data.currentUser||null,emoteMap:n,emoteSets:t})}}return{}},skip:function(e){return!e.isLoggedIn}})}},MkkA:function(e,t,n){"use strict";var i=n("fBrF");n.d(t,"withWatchPartyContext",(function(){return i.b}));var a=n("yJn7");n.o(a,"mapWatchPartyContextToProviderProps")&&n.d(t,"mapWatchPartyContextToProviderProps",(function(){return a.mapWatchPartyContextToProviderProps})),n.o(a,"mapWatchPartyStateToChatProps")&&n.d(t,"mapWatchPartyStateToChatProps",(function(){return a.mapWatchPartyStateToChatProps})),n.o(a,"withWatchPartyContextManager")&&n.d(t,"withWatchPartyContextManager",(function(){return a.withWatchPartyContextManager}));var r=n("CNnA");n.d(t,"mapWatchPartyContextToProviderProps",(function(){return r.a})),n.d(t,"mapWatchPartyStateToChatProps",(function(){return r.b}));var o=n("t4UF");n.d(t,"withWatchPartyContextManager",(function(){return o.a}))},MvLD:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPollContext_GetViewablePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewablePoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:366}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\n#import "twilight/features/polls/models/poll-voter-fragment.gql"\nquery ChannelPollContext_GetViewablePoll($login: String!) {\nchannel: user(login: $login) {\nid\nviewablePoll {\n...poll\nself {\nvoter {\n...pollVoter\n}\n}\n}\nself {\nsubscriptionBenefit {\nid\n}\nisEditor\nisModerator\n}\n}\ncurrentUser {\nid\nbitsBalance\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("wAVh").definitions)),i.definitions=i.definitions.concat(r(n("INxu").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelPollContext_GetViewablePoll=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelPollContext_GetViewablePoll")},N0BP:function(e,t,n){"use strict";function i(e){for(var t={},n=0,i=Object.keys(e).filter((function(e){return e.startsWith("data-")}));n<i.length;n++){var a=i[n];t[a]=e[a]}return t}n.d(t,"a",(function(){return i}))},NIpN:function(e,t,n){"use strict";var i=n("/MKj"),a=n("fvjX"),r=n("yR8l"),o=n("XDCx"),s=n("ati1"),c=n("mrSG"),l=n("q1tI"),d=n("/7QA"),u=n("geRD"),m=n("sUnt"),p=n("hnjF"),h=n("zTPm"),f=n("76Xh"),g=n("jqPd"),v=n("+80q"),b=n("PCM+"),k=n("dEDE"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={archivingPoll:!1,archivingPollError:!1},t.deletePoll=function(){return Object(c.__awaiter)(t,void 0,void 0,(function(){return Object(c.__generator)(this,(function(e){switch(e.label){case 0:this.setState({archivingPoll:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.archivePoll(Object(u.a)({pollID:this.props.pollID}))];case 2:return e.sent(),this.props.closeModal(),[3,4];case 3:return e.sent(),this.setState({archivingPollError:!0}),[3,4];case 4:return this.setState({archivingPoll:!1}),[2]}}))}))},t}return Object(c.__extends)(t,e),t.prototype.render=function(){return l.createElement(m.a,{display:p.d.Flex,justifyContent:p.h.Center},l.createElement(h.a,{size:h.b.Small},l.createElement(f.a,{title:Object(d.d)("Delete Poll","Polls--DeletePollModal"),closeButton:{ariaLabel:Object(d.d)("Close","Polls--DeletePollModal"),onClick:this.props.closeModal}}),l.createElement(g.a,null,l.createElement(m.a,{display:p.d.Flex,flexDirection:p.e.Column,padding:{left:2,right:2,bottom:1,top:1}},l.createElement(v.a,null,Object(d.d)("Bits cheered in this poll will not be refunded to the Cheerer. Are you sure you want to archive this poll?","Polls--DeletePollModal")))),l.createElement(b.a,{secondaryButtonProps:{ariaLabel:Object(d.d)("Cancel","Polls--DeletePollModal-Aria"),children:Object(d.d)("Cancel","Polls--DeletePollModal"),onClick:this.props.closeModal},primaryButtonProps:{ariaLabel:Object(d.d)("Delete","Polls--DeletePollModal-Aria"),children:Object(d.d)("Delete","Polls--DeletePollModal"),onClick:this.deletePoll,state:this.state.archivingPoll?k.c.Loading:k.c.Default}})))},t}(l.Component);n.d(t,"a",(function(){return S}));var S=Object(a.d)(Object(i.b)(null,(function(e){return Object(a.b)({closeModal:o.d},e)})),Object(r.a)(s,{name:"archivePoll"}))(y)},NJiF:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelCurrentUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:84}};n.loc.source={body:"fragment channelCurrentUser on User {\nid\ndisplayName\nroles {\nisStaff\nisSiteAdmin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},NMMG:function(e,t,n){"use strict";function i(e,t){return parseInt(t,10)<parseInt(e,10)?t+"_"+e:e+"_"+t}function a(e,t){return e.split("_").find((function(e){return e!==t}))||null}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},NNSq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("/7QA"),r=n("sAMt");function o(e){return Object(i.__awaiter)(this,void 0,Promise,(function(){var t,n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:t=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:r,variables:{login:e}})];case 2:return t=i.sent(),[3,4];case 3:return n=i.sent(),a.k.warn(n,"Failed to fetch user targeted by chat command.",{userLogin:e}),[3,4];case 4:return t&&t.data.user.id?[2,t.data.user.id]:[2,null]}}))}))}},NWfm:function(e,t,n){},NeSQ:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"activeMultipliersFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsMultiplier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}}],loc:{start:0,end:85}};n.loc.source={body:"fragment activeMultipliersFragment on CommunityPointsMultiplier {\nreasonCode\nfactor\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},NgDb:function(e,t,n){},NxUI:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("Ws8v"),s=n("hnjF"),c=n("sUnt"),l=n("IbuL"),d=n("C7sF"),u=n("+80q"),m=n("X2PJ"),p=n("7d/q"),h=(n("6bwK"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(o.a,{padding:1,display:s.d.Flex,flexDirection:s.e.Row,className:"poll-service-error__service-error",justifyContent:s.h.Between,alignItems:s.b.Center,position:s.j.Relative},a.createElement(c.a,{display:s.d.Flex,flexDirection:s.e.Row},a.createElement(c.a,{className:"poll-service-error__service-error__icon"},a.createElement(l.a,{asset:d.a.Halt})),a.createElement(c.a,{margin:{left:1},display:s.d.Flex,flexDirection:s.e.Column},a.createElement(u.a,null,this.props.message),this.props.showTryAgain&&a.createElement(u.a,{color:m.c.Alt2,fontSize:m.d.Size6},Object(r.d)("Try again in a moment.","Polls--PollServiceError")))),a.createElement(o.a,{position:s.j.Absolute,attachTop:!0,attachRight:!0,className:"poll-service-error__service-error__close"},a.createElement(p.a,{size:p.b.Small,type:p.c.Secondary,onClick:this.props.onClose,ariaLabel:Object(r.d)("Close","Polls--PollServiceError"),icon:d.a.Close})))},t}(a.Component));n.d(t,"a",(function(){return h}))},O0eq:function(e,t,n){"use strict";var i=n("mrSG"),a=n("dMq0"),r=n("q1tI"),o=n("fvjX"),s=n("yR8l"),c=n("geRD"),l=n("2Ygb"),d=n("DMoW"),u=n("DwV5"),m=function(e){return!!e.accessToken},p=function(e,t){return function(n){return Object(o.d)(function(e,t){return function(n){return function(o){function s(n){var r=o.call(this,n)||this;return r.parentHasSkipped=!1,r.shouldRetryAuth=!0,r.loadingDataProp={loading:!0},r.erroredDataProp={loading:!1,error:new a.b({networkError:new Error("Error retrieving Access Token")})},r.retryQueryOnce=function(e){r.shouldRetryAuth&&e.code===d.pd.FORBIDDEN&&(r.shouldRetryAuth=!1,r.setAccessToken())},r.setAccessToken=function(){r.setState({isLoadingToken:!0},(function(){return Object(i.__awaiter)(r,void 0,void 0,(function(){var e,t=this;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Object(u.b)(Object(u.a)("with-lwa-access-token"),this.shouldRetryAuth)];case 1:return e=n.sent(),this.setState({accessToken:e,isLoadingToken:!1},(function(){t.state.accessToken||(t.parentHasSkipped=!0)})),[3,3];case 2:return n.sent(),this.setState({accessToken:null,isLoadingToken:!1}),[3,3];case 3:return[2]}}))}))}))},r.didParentSkip=function(){var e=!1;return t&&t.skip&&(e="function"==typeof t.skip?t.skip(r.props):t.skip),e},r.getName=function(){return t&&t.name||"data"},r.optionsWithToken=function(){var t=r.getExistingOptions();return Object(c.g)(e)?t:r.getQueryOptions(t)},r.getExistingOptions=function(){return t&&t.options?"function"==typeof t.options?t.options(r.props):t.options:{}},r.getQueryOptions=function(e){var t=Object(i.__assign)(Object(i.__assign)({},e.variables),{accessToken:r.state.accessToken});return Object(i.__assign)(Object(i.__assign)({},e),{variables:t})},r.parentHasSkipped=r.didParentSkip(),r.state={accessToken:null,isLoadingToken:!0},r}return Object(i.__extends)(s,o),s.prototype.componentDidMount=function(){this.parentHasSkipped||this.setAccessToken()},s.prototype.shouldComponentUpdate=function(e,t){var n=!this.parentHasSkipped&&!this.didParentSkip(),i=this.state.isLoadingToken&&t.isLoadingToken;return!(n&&i)},s.prototype.componentDidUpdate=function(){this.parentHasSkipped&&!this.didParentSkip()&&(this.parentHasSkipped=!1,this.setAccessToken())},s.prototype.render=function(){var t,a,o=this.optionsWithToken(),s=o.variables&&m(o.variables)&&o.variables.accessToken;if(this.didParentSkip()||this.parentHasSkipped)return r.createElement(n,Object(i.__assign)({},this.props,{evaluatedOperationOptionsWithToken:o,skip:!0}));if(this.state.isLoadingToken){var l=((t={})[this.getName()]=this.loadingDataProp,t);return r.createElement(n,Object(i.__assign)({},this.props,l,{evaluatedOperationOptionsWithToken:o,skip:!0}))}if(null===this.state.accessToken){l=((a={})[this.getName()]=this.erroredDataProp,a);return r.createElement(n,Object(i.__assign)({},this.props,l,{evaluatedOperationOptionsWithToken:o,refreshTokenRevoked:!0,skip:!0}))}return r.createElement(n,Object(i.__assign)({},this.props,{retryIfPossible:this.retryQueryOnce,buildAccessTokenInput:Object(c.g)(e)?this.buildMutationInput.bind(this):void 0,evaluatedOperationOptionsWithToken:o,skip:this.parentHasSkipped||!s}))},s.prototype.buildMutationInput=function(e){return Object(c.a)(Object(i.__assign)(Object(i.__assign)({},e),{accessToken:this.state.accessToken}))},s.displayName=Object(l.a)(s.name,n),s}(r.Component)}}(e,t),Object(s.a)(e,Object(i.__assign)(Object(i.__assign)({},t),{options:function(e){return e.evaluatedOperationOptionsWithToken},skip:function(e){return e.skip}})))(n)}};n.d(t,"a",(function(){return p}))},O4UZ:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"o",(function(){return k})),n.d(t,"r",(function(){return y})),n.d(t,"q",(function(){return C})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return E})),n.d(t,"n",(function(){return w})),n.d(t,"m",(function(){return _})),n.d(t,"k",(function(){return N})),n.d(t,"p",(function(){return D}));var i,a,r=n("TSYQ"),o=n("cr+I"),s=n("q1tI"),c=n("/7QA"),l=n("ht6z"),d=n("Jsra"),u={DIRECT_ENTITLEMENT:"DIRECT_ENTITLEMENT",CLAIM_CODE:"CLAIM_CODE",EXTERNAL_OFFER:"EXTERNAL_OFFER"};!function(e){e.Vertical="Vertical",e.Horizontal="Horizontal",e.Default="Vertical"}(i||(i={})),function(e){e.Crown="Crown",e.LootPage="LootPage"}(a||(a={}));var m,p={UNKNOWN_ERROR:"UNKNOWN_ERROR",OFFER_ALREADY_CLAIMED:"OFFER_ALREADY_CLAIMED",UNABLE_TO_SPEND:"UNABLE_TO_SPEND",TOO_MANY_RECENT_SPENDS:"TOO_MANY_RECENT_SPENDS"},h=function(e){switch(e||p.UNKNOWN_ERROR){case p.OFFER_ALREADY_CLAIMED:return Object(c.d)("Oh no! Unable to claim. Another linked Twitch account may have already claimed this content. Click <x:link>here to learn more</x:link>.",{"x:link":function(e){return s.createElement(d.a,{to:"https://help.twitch.tv/customer/portal/articles/2572060-twitch-prime-guide#MultipleAccounts",targetBlank:!0,className:"prime-error__link","data-a-target":"prime-error_link"},e)}},"PrimeError");case p.UNABLE_TO_SPEND:case p.TOO_MANY_RECENT_SPENDS:default:return Object(c.d)("Something has gone wrong. Please try again later.","PrimeError")}};!function(e){e.Seen="SEEN",e.Unseen="UNSEEN",e.Claimed="CLAIMED",e.Overridden="OVERRIDDEN",e.Dismissed="DISMISSED"}(m||(m={}));var f,g=function(e){return e===i.Vertical},v=function(e,t){var n=t===i.Horizontal?"horizontal":"vertical";return r(e,e+"--"+n)},b=function(){return S("seenOffers")},k=function(e){c.m.set("seenOffers",e)},y=function(e,t){return(e&&(e.priority||0===e.priority)?e.priority:99999)-(t&&(t.priority||0===t.priority)?t.priority:99999)},S=function(e){return c.m.get(e,[])},C=function(e,t){return void 0!==e&&void 0!==t&&(!e&&Object(l.a)(t))};!function(e){e.DateOverride="dateOverride",e.CountryCode="countryCode"}(f||(f={}));var E=function(e){var t=location.search,n=o.parse(t);return n&&n[e]||void 0},w=function(e){return e&&!e.loading&&!e.error&&null!==e.currentUser&&e.currentUser.hasPrime},_=function(e){return e&&e.loading},N=function(e){return O().includes(e)},O=function(){return c.b.get("prime_gift_experiment_offer_ids",[])},D=function(e){return!!e&&"#"!==e.charAt(0)}},OBzG:function(e,t,n){},OCTF:function(e,t,n){},OGC9:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettings"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsBitsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriberMultiplier"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsSubscriberMultiplier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriberOnly"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsSubscriberOnly"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"multichoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsMultichoice"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsBitsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsBitsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsSubscriberMultiplier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsSubscriberMultiplier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsSubscriberOnly"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsSubscriberOnly"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsMultichoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsMultichoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}],loc:{start:0,end:557}};n.loc.source={body:"fragment pollSettings on PollSettings {\nbitsVotes { ...pollSettingsBitsVotes }\nid\nsubscriberMultiplier { ...pollSettingsSubscriberMultiplier }\nsubscriberOnly { ...pollSettingsSubscriberOnly }\nmultichoice { ...pollSettingsMultichoice }\n}\nfragment pollSettingsBitsVotes on PollSettingsBitsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsSubscriberMultiplier on PollSettingsSubscriberMultiplier {\nisEnabled\n}\nfragment pollSettingsSubscriberOnly on PollSettingsSubscriberOnly {\nisEnabled\n}\nfragment pollSettingsMultichoice on PollSettingsMultichoice {\nisEnabled\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},OOag:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return k}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("geRD"),s=n("DMoW"),c=n("zwF8"),l=n("IQZc"),d=n("g+79"),u=n("+80q"),m=n("B30r"),p=n("UNTo"),h=n("W1jp"),f=n("nAiT"),g=n("EgE3");function v(e){var t=this;return{icon:a.createElement(d.a,{data:e.reward,size:d.b.ExtraSmall}),title:e.reward.title,body:a.createElement(l.a,{onRequirementsChange:function(t){return t?e.setTrayError(Object(f.e)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},onStockChange:function(t){return t?e.setTrayError(Object(f.c)()):e.clearTrayError()},reward:e.reward},a.createElement(u.a,{wordBreak:u.g.BreakWord},e.reward.prompt||void 0)),disableCommands:!0,disableBits:!0,ignoredRestrictions:new Set([s.H.FOLLOWERS_ONLY,s.H.SLOW_MODE,s.H.SUBSCRIBERS_ONLY,s.H.VERIFIED_ONLY]),pointsCost:Object(h.b)(e.reward),sendButtonOverride:c.b.CommunityPointsSpend,sendMessageHandler:{type:c.c.Custom,handleMessage:function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return n.trim()?[4,k(e.channelID,e.reward,e.transactionID,n)]:(b(e),[2,!1]);case 1:return(t=a.sent()).data&&t.data.redeemCommunityPointsCustomReward&&!t.data.redeemCommunityPointsCustomReward.error?(e.clearTray(),Object(g.h)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(b(Object(i.__assign)(Object(i.__assign)({},e),{errorCode:t.data&&t.data.redeemCommunityPointsCustomReward&&t.data.redeemCommunityPointsCustomReward.error&&t.data.redeemCommunityPointsCustomReward.error.code||void 0,message:n})),[2,!1])}}))}))}}}}function b(e){var t=e.message?Object(m.a)(e.errorCode):Object(m.b)();e.setTrayError(t)}function k(e,t,n,a){return r.p.apollo.client.mutate(Object(i.__assign)({mutation:p},Object(o.a)({channelID:e,cost:Object(h.b)(t),prompt:t.prompt,rewardID:t.id,textInput:a,title:t.title,transactionID:n})))}},OUdD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("1rIY"),a=n("VaVM"),r=Object(i.a)("RewardRedemptionContext",{closeRewardCenter:function(){return null},isRewardCenterOpen:!1,openReward:function(){return null},openEarnRatesList:function(){return null},rewardCenterState:{type:a.a.ListRewards},transactionID:""}),o=r.context,s=r.withContext},Ohqu:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetChatPauseSetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatPauseSettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatPauseSetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:137}};n.loc.source={body:"mutation SyncedSettingsSetChatPauseSetting($input: SetChatPauseSettingInput!) {\nsetChatPauseSetting(input: $input) {\nchatPauseSetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsSetChatPauseSetting=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsSetChatPauseSetting")},OpME:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return h}));var i=n("mrSG"),a=n("lZdE"),r=n("cpJf"),o={"B-?\\)":"B)","\\:-?[z|Z|\\|]":":|","\\:-?\\)":":)","\\:-?\\(":":(","\\:-?(p|P)":":P","\\;-?(p|P)":";P","\\:-?[\\\\/]":":/","\\;-?\\)":";)","R-?\\)":"R)",":>":":>","\\:\\&gt\\;":":>","[oO](_|\\.)[oO]":"O_o","\\:-?D":":D","\\:-?(o|O)":":O",">\\\\(":">(",":-?(?:7|L)":":7","\\:-?(S|s)":":S","#-?[\\\\/]":"#/","<\\]":"<]","<3":"<3","\\&lt\\;3":"<3","\\&lt\\;\\]":"<]","\\&gt\\;\\(":">("},s=["1.0","2.0","3.0"],c=new Set([457,33,42,0]);function l(e){for(var t=[],n=function(e){if(!e||null===e.id||null===e.token)return"continue";var n=o[e.token]||e.token,a=s.reduce((function(t,n){var i=t;return i&&(i=i.concat(", ")),i.concat("https://static-cdn.jtvnw.net/emoticons/v1/"+e.id+"/"+n+" "+n+"x")}),"");t.push(Object(i.__assign)(Object(i.__assign)({},e),{displayName:n,srcSet:a}))},a=0,r=e;a<r.length;a++){n(r[a])}return t}function d(e){return e.filter((function(e){return!!e&&!!e.id&&!!e.token})).sort((function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)}))}function u(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];if(a&&a.id&&a.emotes){for(var r={id:a.id,emotes:[]},o=0,s=a.emotes;o<s.length;o++){var c=s[o];c&&c.id&&c.token&&r.emotes.push(c)}t.push(r)}}return t}function m(e){for(var t=[],n=[],i=0,a=e;i<a.length;i++){var r=a[i];if(r&&r.id&&r.emotes){var o={id:r.id,emotes:l(d(r.emotes))};r.owner&&(o.owner=r.owner),c.has(parseInt(r.id,10))?t.push(o):n.push(o)}}return n.concat(t)}var p=function(e,t,n){var i=n||r.c,o=[],s=[],c=[],l=new RegExp("^"+Object(a.a)(t),"i");return e.forEach((function(e){i[e.token]?c.push(e):e.token.match(l)?o.push(e):s.push(e)})),o.sort((function(e,t){return e.token.localeCompare(t.token)})),s.sort((function(e,t){return e.token.localeCompare(t.token)})),c.sort((function(e,t){return i[t.token].count-i[e.token].count})),c.concat(o).concat(s)},h=function(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e.token)&&(t[e.token]=!0)}))}},OvAg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IncomingRaidLine_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:146}};n.loc.source={body:"query IncomingRaidLine_Channel($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\ndisplayName\nprofileImageURL(width: 50)\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.IncomingRaidLine_Channel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"IncomingRaidLine_Channel")},Owek:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("fvjX"),s=n("yR8l"),c=n("wUQP"),l=n("XDCx"),d=n("kRBY"),u=n("8D7W"),m=n("DLI4"),p=n("w09P"),h=n("eDVu"),f=n("0Log"),g=n("geRD"),v=n("/aPz"),b=n("1rIY"),k=n("H31v"),y=n("ati1"),S=n("smCe"),C=n("i5+p"),E=n("SUI5"),w=n("MvLD"),_=n("5aDA"),N=Object(b.a)("ChannelPollContext",{viewablePoll:null,selfVoter:null,isUserPollAdmin:!1,bitsBalance:0,topContributor:null}),O=N.context,D=N.withContext,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.voteInPoll=function(e){return Object(i.__awaiter)(t,void 0,Promise,(function(){var t,n,a,r,o,s;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:if(!(this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&this.props.data.channel.viewablePoll.ownedBy))return[2,Promise.resolve({data:{voteInPoll:null}})];t=this.props.data.channel.viewablePoll,n=t.settings.subscriberMultiplier.isEnabled&&this.props.data.channel&&this.props.data.channel.self&&this.props.data.channel.self.subscriptionBenefit?2:1,a=e.variables.input.tokens?e.variables.input.tokens.bits:0,r=a>0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.props.voteInPoll(e)];case 2:return(o=c.sent()).data.voteInPoll&&!o.data.voteInPoll.error&&Object(g.i)(w,{login:this.props.channelLogin},(function(s){var c=Object(i.__assign)({},s);if(s.channel&&s.channel.viewablePoll&&s.channel.viewablePoll.self){var l=s.channel.viewablePoll.self.voter;if(c=p(c,(function(e){return e.channel.viewablePoll}),(function(e){var o=e.totalVoters,s={},c={};return l||(o=Math.max(e.totalVoters,t.totalVoters+1)),s.total=Math.max(e.votes.total,t.votes.total+n),r?(s.bits=Math.max(e.votes.bits,t.votes.bits+n),c.bits=Math.max(e.tokens.bits,t.tokens.bits+a)):s.base=Math.max(e.votes.bits,t.votes.bits+n),Object(i.__assign)(Object(i.__assign)({},e),{totalVoters:o,votes:Object(i.__assign)(Object(i.__assign)({},e.votes),s),tokens:Object(i.__assign)(Object(i.__assign)({},e.tokens),c)})})),c=p(c,(function(e){return e.channel.viewablePoll.choices}),(function(o){return o.map((function(o){var s=o.totalVoters,c={},d={};if(o.id===e.variables.input.choiceID){var u=t.choices.find((function(e){return e.id===o.id}))||o;l||s++,c.total=Math.max(o.votes.total,u.votes.total+n),r?(c.bits=Math.max(o.votes.bits,u.votes.bits+n),d.bits=Math.max(o.tokens.bits,u.tokens.bits+a)):c.base=Math.max(o.votes.bits,u.votes.bits+n)}return Object(i.__assign)(Object(i.__assign)({},o),{totalVoters:s,votes:Object(i.__assign)(Object(i.__assign)({},o.votes),c),tokens:Object(i.__assign)(Object(i.__assign)({},o.tokens),d)})}))})),o.data.voteInPoll&&o.data.voteInPoll.voter&&(c=p(c,(function(e){return e.channel.viewablePoll.self.voter}),(function(){return o.data.voteInPoll.voter}))),c.currentUser&&c.currentUser.bitsBalance){var d=c.currentUser.bitsBalance-a;c=p(c,(function(e){return e.currentUser.bitsBalance}),(function(){return d}))}}return c})),[2,Promise.resolve(o)];case 3:return s=c.sent(),[2,Promise.reject(s)];case 4:return[2]}}))}))},t.createPoll=function(){t.props.showModal(E.a,{channelID:t.props.data.channel.id})},t.terminatePoll=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.props.terminatePoll(Object(g.a)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return e=n.sent(),[2,Promise.resolve(e)];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}}))}))},t.archivePoll=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.props.archivePoll(Object(g.a)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return e=n.sent(),[2,Promise.resolve(e)];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}}))}))},t.getBitsAmount=function(){var e=t.props.data;return e&&e.currentUser&&e.currentUser.bitsBalance?e.currentUser.bitsBalance:0},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=null,t=null;this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(e=this.props.data.channel.viewablePoll,this.props.data.channel.viewablePoll.self&&(t=this.props.data.channel.viewablePoll.self.voter));var n=!(!this.props.user||this.props.user.login!==this.props.channelLogin),i=!!(this.props.user&&this.props.user.roles&&this.props.user.roles.isStaff),r=!1;this.props.data&&this.props.data.channel&&this.props.data.channel.self&&(r=this.props.data.channel.self.isEditor||this.props.data.channel.self.isModerator||i||n);var o={viewablePoll:e,selfVoter:t,isUserPollAdmin:r,bitsBalance:this.getBitsAmount(),topContributor:e&&e.topContributor};return this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&!Object(C.e)(this.props.data.channel.viewablePoll.status)&&(o.terminatePoll=this.terminatePoll,o.voteInPoll=this.voteInPoll),this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(o.archivePoll=this.archivePoll),(this.props.data&&this.props.data.channel&&!this.props.data.channel.viewablePoll||this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&Object(C.e)(this.props.data.channel.viewablePoll.status))&&(o.createPoll=this.createPoll),a.createElement(O.Provider,{value:o},this.props.children)},t}(a.Component),M=Object(o.d)(Object(s.a)(w,{skip:function(e){return!e.channelLogin||!e.isPollsEnabled},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(s.a)(_,{name:"voteInPoll"}),Object(s.a)(y,{name:"archivePoll"}),Object(s.a)(S,{name:"terminatePoll"}),Object(h.a)((function(e){return{query:w,variables:{login:e.channelLogin},skip:!(e.data&&e.data.channel&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.channel?Object(v.i)(e.data.channel.id):"",types:[f.PubsubMessageType.PollUpdateEvent,f.PubsubMessageType.PollArchivedEvent,f.PubsubMessageType.PollCompletedEvent,f.PubsubMessageType.PollCreatedEvent,f.PubsubMessageType.PollTerminatedEvent,f.PubsubMessageType.PollModeratedEvent],mutator:function(t,n){var a=Object(C.g)(t.data.poll),r=Object(C.f)(a.status),o=n.channel&&n.channel.viewablePoll&&n.channel.viewablePoll.id===t.data.poll.poll_id;if(!r)return o?p(n,(function(e){return e.channel}),(function(e){return e.viewablePoll=null,e})):n;var s=t.type===f.PubsubMessageType.PollCreatedEvent,c=n.channel&&n.channel.viewablePoll&&n.channel.viewablePoll.id===t.data.poll.poll_id&&n.channel.viewablePoll.votes.total<=a.votes.total;return(s||c)&&(n=p(n,(function(e){return e.channel}),(function(e){return e.viewablePoll=Object(i.__assign)(Object(i.__assign)({},e.viewablePoll),a),e}))),s&&(n=e.user?p(n,(function(e){return e.channel.viewablePoll.self}),(function(e){return Object(i.__assign)(Object(i.__assign)({__typename:"PollSelfEdge"},e),{voter:null})})):p(n,(function(e){return e.channel.viewablePoll.self}),(function(){return null}))),n}}})),Object(h.a)((function(e){return{query:w,variables:{login:e.channelLogin},type:f.PubsubMessageType.UserBitsBalanceUpdate,skip:!(e.data&&e.data.channel&&e.data.currentUser&&e.data.currentUser.id&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.currentUser?Object(v.Q)(e.data.currentUser.id):"",mutator:function(e,t){return t&&e.message_type===k.b.Balance?(t.currentUser&&e.data&&(t=p(t,(function(e){return e.currentUser.bitsBalance}),(function(){return e.data.balance}))),t):t}}})))(I);var T=Object(o.d)(Object(s.a)(u,{skip:function(e){return!e.channelLogin||!Object(c.c)(m.a)},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(r.b)((function(e){return{user:Object(d.e)(e)}}),(function(e){return Object(o.b)({showModal:l.e},e)})))((function(e){var t=!!(e.data&&e.data.channel&&e.data.channel.roles&&(e.data.channel.roles.isAffiliate||e.data.channel.roles.isPartner)),n=Object(c.c)(m.a)&&t;return a.createElement(M,Object(i.__assign)({isPollsEnabled:n},e))}));n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return D}))},OxSk:function(e,t,n){},P5MF:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_EmoteCard_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:176}};n.loc.source={body:"query Core_Services_Spade_EmoteCard_User($channelID: ID!) {\nuser(id: $channelID) {\nid\nhasPrime\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_EmoteCard_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_EmoteCard_User")},P6kH:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f}));var i,a=n("/7QA"),r=n("DMoW"),o=n("dGMd"),s="owl2019_emote_ids",c="OverwatchLeague",l="137512364",d="12658",u="324",m="139075904",p=5e8;function h(e){return e.emote.subscriptionProduct?e.emote.subscriptionProduct.id===d?i.Prime:e.emote.subscriptionProduct.id===u?i.Turbo:(t=e.emote.id,a.b.get(s,[]).includes(t)?i.OWL2019:e.emote.subscriptionProduct.owner&&e.emote.subscriptionProduct.owner.id?e.emote.subscriptionProduct.owner.id===m||e.emote.subscriptionProduct.state===r.Qc.INACTIVE?i.LimitedTime:i.Subscription:i.Unavailable):e.emote.setID===o.a?i.ChannelPoints:e.emote.setID&&f(e.emote.setID)?i.BitsTier:i.Global;var t}function f(e){return parseInt(e,10)>=p}!function(e){e[e.Unknown=0]="Unknown",e[e.Prime=1]="Prime",e[e.Turbo=2]="Turbo",e[e.OWL2019=3]="OWL2019",e[e.LimitedTime=4]="LimitedTime",e[e.ChannelPoints=5]="ChannelPoints",e[e.Unavailable=6]="Unavailable",e[e.Subscription=7]="Subscription",e[e.BitsTier=8]="BitsTier",e[e.Global=9]="Global"}(i||(i={}))},"PCM+":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("pVnL"),a=n.n(i),r=n("VbXa"),o=n.n(r),s=n("q1tI"),c=n("dEDE"),l=n("hnjF"),d=n("sUnt"),u=n("Ws8v"),m=n("zTPm"),p=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=this.props.size===m.b.Small?{fullWidth:!0,flexGrow:1,flexShrink:1}:{};return s.createElement(u.a,{padding:1,display:l.d.Flex,alignItems:l.b.Center,justifyContent:l.h.Start,flexDirection:l.e.RowReverse},s.createElement(d.a,e,s.createElement(c.a,a()({type:c.d.Primary,fullWidth:!0},this.props.primaryButtonProps))),s.createElement(d.a,e,this.props.secondaryButtonProps&&s.createElement(d.a,{padding:{right:1}},s.createElement(c.a,a()({type:c.d.Secondary,fullWidth:!0},this.props.secondaryButtonProps)))))},t}(s.Component);p.displayName="ModalFooter"},PkcC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("q1tI"),a=function(e){var t={};return null!==e.inputColorHex&&(t["--color-accent"]=e.inputColorHex),i.createElement("div",{style:t},e.children)};a.displayName="ColorContext"},PrJw:function(e,t,n){"use strict";var i=n("vGFN");n.d(t,"a",(function(){return i.b})),n.d(t,"b",(function(){return i.c})),n.d(t,"c",(function(){return i.d})),n.d(t,"d",(function(){return i.e})),n.d(t,"e",(function(){return i.f})),n.d(t,"f",(function(){return i.g})),n.d(t,"g",(function(){return i.h})),n.d(t,"h",(function(){return i.i})),n.d(t,"i",(function(){return i.j})),n.d(t,"j",(function(){return i.k})),n.d(t,"k",(function(){return i.m})),n.d(t,"l",(function(){return i.p})),n.d(t,"m",(function(){return i.q}))},PtXu:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("/7QA"),s=n("gcd7"),c=n("AKV8"),l=n("yzwe"),d=n("3HtZ"),u=n("QVaV"),m=n("DMoW"),p=n("3kHA"),h=n("a6LY"),f=n("vSeP"),g=n("Ff8q"),v=n("H82h"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.modUser=function(e){var n=e.trim().split(/\s+/),i=t.userLogin(n[0]);return 1===n.length&&i&&0!==i.length?{deferred:t.props.modUserMutation(i).then((function(e){if(e&&e.modUser&&e.modUser.error)switch(e.modUser.error.code){case m.Pb.FORBIDDEN:return{notice:y()};case m.Pb.TARGET_ALREADY_MOD:return{notice:Object(o.d)("{login} is already a moderator of this channel.",{login:i},"ModCommandHandler")};case m.Pb.TARGET_IS_CHAT_BANNED:return{notice:Object(o.d)("{login} is banned in this channel. You must unban this user before granting mod status.",{login:i},"ModCommandHandler")};case m.Pb.TARGET_NOT_FOUND:return{notice:k(i)};default:return{notice:S()}}return t.props.channelID&&e&&e.modUser&&e.modUser.target&&e.modUser.target.id&&Object(v.a)(h.a.ModUser,t.props.channelID,e.modUser.target.id,h.b.ChatCommand),{notice:Object(o.d)("You have added {login} as a moderator of this channel.",{login:i},"ModCommandHandler")}})).catch((function(){return{notice:S()}}))}:{deferred:Promise.resolve({notice:w(),error:p.a.InvalidParameters})}},t.mods=function(e){return{deferred:o.p.apollo.client.query({query:d,fetchPolicy:"network-only",variables:{login:t.props.channelLogin}}).then((function(e){if(!e.data.user||!e.data.user.mods)return{notice:C()};var t=e.data.user.mods.edges.filter((function(e){return e.node.login}));if(0===t.length)return{notice:Object(o.d)("There are no moderators of this channel.","ModCommandHandler")};var n=t.map((function(e){return e.node.login})).join(", ");return{notice:Object(o.d)("The moderators of this channel are: {mods}.",{mods:n},"ModCommandHandler")}})).catch((function(){return{notice:C()}}))}},t.unmodUser=function(e){var n=e.trim().split(/\s+/),i=t.userLogin(n[0]);return 1===n.length&&i&&0!==i.length?{deferred:t.props.unmodUserMutation(i).then((function(e){if(e&&e.unmodUser&&e.unmodUser.error)switch(e.unmodUser.error.code){case m.Xc.FORBIDDEN:return{notice:y()};case m.Xc.TARGET_NOT_FOUND:return{notice:k(i)};case m.Xc.TARGET_NOT_MOD:return{notice:Object(o.d)("{login} is currently not a moderator of this channel.",{login:i},"ModCommandHandler")};default:return{notice:E()}}return t.props.channelID&&e&&e.unmodUser&&e.unmodUser.target&&e.unmodUser.target.id&&Object(v.a)(h.a.UnmodUser,t.props.channelID,e.unmodUser.target.id,h.b.ChatCommand),{notice:Object(o.d)("You have removed {login} as a moderator of this channel.",{login:i},"ModCommandHandler")}})).catch((function(){return{notice:E()}}))}:{deferred:Promise.resolve({notice:_(),error:p.a.InvalidParameters})}},t.userLogin=function(e){return e=Object(g.a)(e),Object(u.b)(e)?e:t.props.activeChattersAPI?t.props.activeChattersAPI.getActiveChatterLoginFromDisplayName(e)||e:t.props.displayNameToLogin&&t.props.displayNameToLogin(e)||e},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(s.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"mod",description:Object(o.d)("Grant moderator status to a user","ModCommandHandler"),handler:this.modUser,helpText:w(),permissionLevel:p.b.Broadcaster}),a.createElement(s.a,{channelLogin:this.props.channelLogin,command:"mods",description:Object(o.d)("Display a list of moderators for this channel","ModCommandHandler"),handler:this.mods,helpText:Object(o.d)('Usage: "/mods" - Lists the moderators of this channel.',"ModCommandHandler"),permissionLevel:p.b.Viewer}),a.createElement(s.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unmod",description:Object(o.d)("Revoke moderator status from a user","ModCommandHandler"),handler:this.unmodUser,helpText:_(),permissionLevel:p.b.Broadcaster}))},t}(a.Component);function k(e){return Object(o.d)("Invalid username: {login}",{login:e},"ModCommandHandler")}function y(){return Object(o.d)("You don't have permission to perform that action.","ModCommandHandler")}function S(){return Object(o.d)("Unable to add moderator.","ModCommandHandler")}function C(){return Object(o.d)("There was a problem fetching the list of mods.","ModCommandHandler")}function E(){return Object(o.d)("Unable to remove moderator.","ModCommandHandler")}function w(){return Object(o.d)('Usage: "/mod <username>" - Grants moderator status to a user. Use "/unmod" to revoke mod status. Use "/mods" to list the moderators of this channel.',"ModCommandHandler")}function _(){return Object(o.d)('Usage: "/unmod <username>" - Revokes moderator status from a user.',"ModCommandHandler")}var N=function(e){return{channelID:e.channelID}},O=Object(r.d)(f.a,Object(l.a)(N),Object(c.a)(N))(b);n.d(t,"a",(function(){return O}))},"Pub/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HzXE");function a(e,t,n){try{return e.readQuery({query:i,variables:{channelID:t,targetUserID:n}})}catch(e){}}},Putr:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("q1tI"),a=(n("7pYF"),function(){return i.createElement("span",{className:"tw-form-required"},"*")});a.displayName="FormRequired",a.displayName="FormRequired"},Q34B:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.LIVE="LIVE",e.VIDEO="VIDEO",e.COLLECTION="COLLECTION",e.CLIP="CLIP",e.NONE="NONE"}(i||(i={}))},Q8Sx:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateRoomModes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateRoomModesInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateRoomModes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slowModeDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"r9kModeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotesOnlyModeEnabled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumSlowModeDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maximumSlowModeDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:254}};n.loc.source={body:"mutation UpdateRoomModes($input: UpdateRoomModesInput!) {\nupdateRoomModes(input: $input) {\nroom {\nid\nmodes {\nslowModeDurationSeconds\nr9kModeEnabled\nemotesOnlyModeEnabled\n}\n}\nerror {\ncode\nminimumSlowModeDurationSeconds\nmaximumSlowModeDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UpdateRoomModes=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UpdateRoomModes")},Q94S:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return C}));var i=n("mrSG"),a=(n("cr+I"),n("+GjP")),r=n("vRsq"),o=n("2xye"),s=n("+aHn"),c=n("efpB"),l=n("Hz5m");function d(e){return e&&e.hosting&&e.hosting.stream&&e.hosting.stream.game&&e.hosting.stream.game.name}function u(e){return e&&e.hosting&&e.hosting.broadcastSettings&&e.hosting.broadcastSettings.language}function m(e){return e&&e.stream&&e.stream.game&&e.stream.game.name}function p(e){return e&&e.lastBroadcast&&e.lastBroadcast.game&&e.lastBroadcast.game.name}function h(e){return e&&e.broadcastSettings&&e.broadcastSettings.language}function f(e,t,n,a){var r=e&&e.login;return Object(i.__assign)(Object(i.__assign)({channel:r,channel_id:e&&e.id||null,game:m(e)||S(t)||w(n)||p(e),hosted_game:d(e),is_following:!(!e||!e.self||null===e.self.follower||null===e.self.follower.node),is_live:!!(e&&e.stream&&e.stream.id&&e.stream.id.length>0),language:u(e)||h(e)||y(t)||E(n)},function(e,t){var n=e&&e.id,i=t&&t.id;if(!n&&!i)return null;var a=null,r=null;e?a=e.broadcastType:i&&(r=o.SpadeVideoBroadcastType.Clip);r||(r=a?Object(s.a)(a):null);return{vod_type:r,vod_id:n||i}}(t,a)),Object(c.b)())}function g(e){return e.match.params.contentType===r.g.Clip&&e.match.params.contentID||null}function v(e){return e.match.params.videoID||e.match.params.contentType===r.g.Video&&e.match.params.contentID||null}function b(e){return e.match.params.contentType!==l.a.Video&&e.match.params.contentType!==l.a.Clip&&e.match.params.contentType!==l.a.Collection&&e.match.params.page!==l.c.Videos?null:Object(a.a)(e.location.search,"filter")}function k(e){return e.match.params.collectionID?e.match.params.collectionID:e.match.params.contentType===r.g.Collection&&e.match.params.contentID?e.match.params.contentID:Object(a.a)(e.location.search,"collection")||void 0}function y(e){return e&&e.language}function S(e){return e&&e.game&&e.game.name}function C(e){return e&&e.items&&e.items.edges&&e.items.edges[0]&&e.items.edges[0].node&&e.items.edges[0].node.id?e.items.edges[0].node:null}function E(e){var t=C(e);return t&&t.language}function w(e){var t=C(e);return t&&t.game&&t.game.name}},QV0j:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("oB8h"),a=function(e){switch(e){case i.a.Live:return i.a.Live;case i.a.Premiere:return i.a.Premiere;case i.a.Rerun:return i.a.Rerun;case i.a.WatchParty:return i.a.WatchParty;default:return null}}},QVaV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("q1tI"),a=/^[\x00-\x7F]*$/,r=function(e,t,n){return void 0===n&&(n=!1),t&&e&&!o(t)?n?t+" ("+e+")":i.createElement("span",null,t," ",i.createElement("span",{className:"intl-login"},"("+e+")")):t||(e||"")};function o(e){return a.test(e)}},QY5S:function(e,t,n){},Qdho:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RoomSelector"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channelRooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPreviewable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumAllowedRole"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isArchived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMuted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUnread"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadMentionCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"cheer"},directives:[]},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isChannelMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:395}};i.loc.source={body:'#import "twilight/features/chat/models/cheer-fragment.gql"\nquery RoomSelector ($login: String!) {\nchannel: user(login: $login) {\nid\ndisplayName\nchannelRooms {\nname\nid\ntopic\nisPreviewable\nminimumAllowedRole\nself {\nisArchived\nisMuted\nisUnread\nunreadMentionCount\n}\n}\n...cheer\nhosting {\nid\n}\nself {\nbanStatus {\nisPermanent\n}\nisChannelMember\nisModerator\nsubscriptionBenefit {\nid\n}\n}\nstream {\nid\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("F9eG").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.RoomSelector=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"RoomSelector")},Qdxp:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}],loc:{start:0,end:156}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nquery FollowButton_User($login: String!) {\nuser(login: $login) {\nid\n...followButtonFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("V94A").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.FollowButton_User=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"FollowButton_User")},QfRJ:function(e,t,n){},R2Ti:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedCheerMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:118}};n.loc.source={body:"mutation Chat_AllowRejectedCheerMessage($input: AllowRejectedCheerInput!) {\nallowRejectedCheer(input: $input) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_AllowRejectedCheerMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_AllowRejectedCheerMessage")},R3G4:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=n("B/KH"),s=Object(r.a)("ChatTrackingContext",{viewerContext:o.a.Embed,updateChatTrackingContext:function(e){return null}}),c=s.context,l=s.withContext,d=function(e){function t(t){var n=e.call(this,t)||this;return n.updateTrackingContext=function(e){n.setState({viewerContext:e.viewerContext})},n.state={viewerContext:o.a.Embed,updateChatTrackingContext:n.updateTrackingContext},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(c.Provider,{value:this.state},this.props.children)},t}(a.Component)},R4sh:function(e,t,n){"use strict";function i(e){var t=[e[0],e[1],e[2]].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*t[0]+.7152*t[1]+.0722*t[2]}function a(e,t){var n=i(e)+.05,a=i(t)+.05;return n>a?n/a:a/n}n.d(t,"a",(function(){return a}))},RBh2:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c}));var i,a=n("/7QA"),r=n("2xye");function o(e){var t={user_id:e.userID||null,channel_id:e.channelID,poll_id:e.pollID,total_responses:e.totalResponses,has_subscriber_bonus:e.hasSubscriberBonus,is_subscriber_only:e.isSubscriberOnly,bits_per_vote:e.bitsPerVote,poll_duration_seconds_remaining:e.pollDurationSecondsRemaining};a.o.track(r.SpadeEventType.PollsClientImpression,t)}function s(e){var t={user_id:e.userID||null,channel_id:e.channelID,poll_id:e.pollID,action:e.action,bits_spent:e.bitsSpent||null};a.o.track(r.SpadeEventType.PollsClientInteraction,t)}function c(e){var t=Date.parse(e.pollStartTime)+1e3*e.pollDuration-Date.now(),n={user_id:e.userID||null,poll_id:e.pollID,time_difference_ms:Math.abs(e.serverTimeRemaining-t),server_time_remaining_ms:e.serverTimeRemaining,client_time_remaining_ms:t,device_id:a.p.session.deviceID};a.o.track(r.SpadeEventType.PollsTimeDifferenceImpression,n)}!function(e){e.Vote="vote",e.Expand="expand",e.Collapse="collapse"}(i||(i={}))},RS58:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=Object(r.a)("ChatInputTrayContext",{setTray:function(e){return null},clearTray:function(){return null},setModifierTray:function(e){return null},clearModifierTray:function(){return null},setTrayError:function(e){return null},clearTrayError:function(){return null},tray:void 0,setAutocompleteInputRef:function(e){return null},setChatInputRef:function(e){return null}}),s=o.context,c=o.withContext,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={tray:void 0,prevPropsChannelLogin:t.props.channelLogin,baseInputValue:""},t.setTray=function(e){var n=t.state.baseInputValue;t.autocompleteInputRef&&!t.state.tray&&(n=t.autocompleteInputRef.getValue()),t.setState((function(){return{tray:e,baseInputValue:n,modifierTray:void 0}}),(function(){return t.setAutocompleteInputValue(e.inputValue||"",!0)}))},t.clearTray=function(){var e=t.state.baseInputValue;t.setState((function(){return{tray:void 0,modifierTray:void 0,baseInputValue:""}}),(function(){t.setAutocompleteInputValue(e)}))},t.setModifierTray=function(e){t.setState({modifierTray:e}),e.inputValue&&t.setAutocompleteInputValue(e.inputValue)},t.setTrayError=function(e){var n=t.state.tray;n&&(n.error=e,t.setState({tray:n}))},t.clearTrayError=function(){var e=t.state.tray;e&&(delete e.error,t.setState({tray:e}))},t.clearModifierTray=function(){t.setState({modifierTray:void 0})},t.setAutocompleteInputRef=function(e){t.autocompleteInputRef=e},t.setChatInputRef=function(e){t.chatInputRef=e},t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"tray",{get:function(){return this.state.modifierTray?this.state.modifierTray:this.state.tray},enumerable:!0,configurable:!0}),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.prevPropsChannelLogin?{prevPropsChannelLogin:e.channelLogin,tray:void 0,modifierTray:void 0,baseInputValue:""}:null},t.prototype.render=function(){return a.createElement(s.Provider,{value:{tray:this.tray,setTray:this.setTray,clearTray:this.clearTray,setModifierTray:this.setModifierTray,clearModifierTray:this.clearModifierTray,setAutocompleteInputRef:this.setAutocompleteInputRef,setChatInputRef:this.setChatInputRef,setTrayError:this.setTrayError,clearTrayError:this.clearTrayError}},this.props.children)},t.prototype.setAutocompleteInputValue=function(e,t){this.autocompleteInputRef&&(this.autocompleteInputRef.setValue(e),this.chatInputRef&&t&&this.chatInputRef.focus())},t}(a.Component);n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}))},RTtf:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scope"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"126"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"71"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"138"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"190"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]}]}}],loc:{start:0,end:291}};i.loc.source={body:'#import "twilight/features/channel/queries/channel.gql"\nfragment channelVideo on Video {\nid\nbroadcastType\ntitle\ndescription\nlengthSeconds\npublishedAt\nviewCount\nscope\npreviewThumbnailURL(width: 126 height: 71)\ngame {\nid\nboxArtURL(width: 138 height: 190)\nname\n}\nowner {\n...channel\n}\nlanguage\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("BbLt").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},RcPG:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},RiD7:function(e,t,n){"use strict";n.d(t,"n",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return l})),n.d(t,"l",(function(){return k})),n.d(t,"o",(function(){return y})),n.d(t,"b",(function(){return d})),n.d(t,"m",(function(){return S})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return w})),n.d(t,"p",(function(){return _}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye");function o(e){var t={action_name:e.actionName,action_type:e.actionType||s.Click,tracking_id:e.trackingId,checkout_id:e.checkoutId,displayed_balance:e.displayedBalance,emote_level:e.emoteLevel,emote_type:e.emoteType,bits_location:e.location||c.ChatTooltip,bits_card_error:e.bitsCardError,channel_id:e.channelId,user_id:e.userId,gem_notification:e.gemNotification};a.o.track(r.SpadeEventType.BitsCardInteraction,t)}var s,c={ChatTooltip:"card",GetBitsButton:"get_bits_button",GetBitsButtonTopNav:"topnav",BitsLandingPage:"bits_landing_page"};!function(e){e.Click="click",e.Hover="hover"}(s||(s={}));var l,d,u,m,p,h={BuyMain:"buy_main",Buy100:"buy_100",Buy500:"buy_500",Buy1000:"buy_1000",Buy1500:"buy_1500",Buy2500:"buy_2500",Buy5000:"buy_5000",Buy10000:"buy_10000",Buy25000:"buy_25000",CloseCard:"menu_close",OpenCard:"menu_open",OpenCardViaCheering:"menu_open_from_cheer",PreviewEmote:"emote_preview",WatchAd:"watch_ad",WatchAnotherAd:"watch_another_ad",CheeringInRoom:"cheering_in_room",NewUserLearnMore:"new_user_learn_more",NewUserSkipTutorial:"new_user_skip_tutorial",NewUserCloseTutorial:"new_user_close_tutorial",NewUserFirstTimePurchaseDiscountClick:"new_user_first_time_purchase_discount_click",NewUserHelpRequested:"new_user_help_requested",SendInvalidCheerAttemptButtonDisabled:"send_invalid_cheer_button_disabled",UserViewingCheerError:"user_viewing_cheer_error",UserViewingCheerRoomsError:"user_viewing_cheer_rooms_error",LoadBitsLandingPage:"load_bits_landing_page"},f={100:h.Buy100,500:h.Buy500,1e3:h.Buy1000,1500:h.Buy1500,2500:h.Buy2500,5e3:h.Buy5000,1e4:h.Buy10000,25e3:h.Buy25000};function g(e){return e&&f[e]?f[e]:(a.k.errorAndReport(new Error('Buy Bits card contains improperly rendered offers, or offers unknown to Science. Tracking as "buy_100"'),'Buy Bits card contains improperly rendered offers, or offers unknown to Science. Tracking as "buy_100"'),h.Buy100)}function v(e){var t={channel:e.channel,channel_id:e.channelID,available:e.available,host:"twitch.tv"};a.o.track(r.SpadeEventType.BitsAdsAvailability,t)}function b(e){var t={distinct_id:a.p.session.deviceID,host:"twitch.tv",request_id:e.requestID,campaign_id:e.campaignID,adblock:e.adblock};a.o.track(r.SpadeEventType.BitsAdsImpression,t)}function k(e){var t=a.o.getLastPageview(),n={location:t&&t.location||"",ad_returned:null,campaign_id:e.campaignID,distinct_id:a.p.session.deviceID,host:"twitch.tv",request_id:e.requestID,request_method:e.requestMethod};a.o.track(r.SpadeEventType.BitsAdsRequest,n)}function y(e){var t={leaderboard_size:e.leaderboardSize,leaderboard_mode:e.leaderboardMode,user_present_in_leaderboard:e.userPresentInLeaderboard,user_id:e.userID,channel_id:e.channelID};a.o.track(r.SpadeEventType.LeaderboardExpandClick,t)}function S(e){var t={transaction_id:e.transactionId,user_id:e.userId,user_login:e.userLogin,channel_id:e.channelId,channel_login:e.channelLogin,action:e.action,badge_amount:e.badgeAmount};a.o.track(r.SpadeEventType.BitsBadgeTierNotification,t)}function C(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return a.o.track(r.SpadeEventType.MegaCheerChatNotificationImpression,{time:Date.now(),transaction_id:e.transaction_id,notification_type:e.notification_type,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function E(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return a.o.track(r.SpadeEventType.MegaCheerChatNotificationAction,{time:Date.now(),transaction_id:e.transaction_id,notification_type:e.notification_type,action:e.action,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function w(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return a.o.track(r.SpadeEventType.MegaCheerChatNotificationShare,{time:Date.now(),body:e.body,transaction_id:e.transaction_id,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function _(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return a.o.track(r.SpadeEventType.MegacheerLearnMoreInteraction,{time:Date.now(),source:e.source,user_id:e.user_id}),[2]}))}))}!function(e){e.ShowAdButton="show_ad_button"}(l||(l={})),function(e){e.AutoSkip="AUTO_SKIP",e.Impression="IMPRESSION"}(d||(d={})),function(e){e.CheerAgain="cheer_again",e.SubGiftAgain="gift_again",e.SubGift="gift",e.Thank="thank",e.Share="share"}(u||(u={})),function(e){e.Click="click",e.Dismiss="dismiss"}(m||(m={})),function(e){e.BitsCard="bits_card",e.SubManagement="sub_management",e.SubModalGifting="sub_modal_gifting",e.SubModalMain="sub_modal_main",e.SubButtonCallout="sub_button_callout"}(p||(p={}))},Rjl4:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"w",(function(){return k})),n.d(t,"r",(function(){return y})),n.d(t,"s",(function(){return S})),n.d(t,"u",(function(){return C})),n.d(t,"v",(function(){return E})),n.d(t,"o",(function(){return w})),n.d(t,"l",(function(){return _})),n.d(t,"p",(function(){return N})),n.d(t,"n",(function(){return O})),n.d(t,"m",(function(){return D})),n.d(t,"t",(function(){return I})),n.d(t,"q",(function(){return P})),n.d(t,"k",(function(){return j})),n.d(t,"j",(function(){return F})),n.d(t,"i",(function(){return R})),n.d(t,"d",(function(){return A}));var i,a,r,o,s,c,l,d=n("/7QA"),u=n("f00E"),m=n("+GjP"),p=n("2xye"),h=n("O4UZ"),f=function(){return Object(u.c)()};function g(e){d.o.track(p.SpadeEventType.CrownInteraction,{has_prime:e.hasPrime,action:i.Hover,user_agent:navigator.userAgent})}function v(e,t){d.o.track(p.SpadeEventType.CrownInteraction,{has_prime:t.hasPrime,number_of_offers:t.numberOfOffers,action:e?i.Open:i.Close,user_agent:navigator.userAgent})}function b(e){d.o.track(p.SpadeEventType.CrownInteraction,{has_prime:e.hasPrime,number_of_offers:e.numberOfOffers,action:i.OffersLoaded,user_agent:navigator.userAgent})}function k(e){d.o.track(p.SpadeEventType.TwitchPrimeSignUpReferred,e)}function y(e){T(e,a.Click,o.Dismiss)}function S(e){T(e,a.Hover,o.Dismiss)}function C(e){T(e,a.Click,o.StartYourFreeTrial)}function E(e){T(e,a.Hover,o.StartYourFreeTrial)}function w(e,t){T(t,a.Click,e?o.MoreInfo:o.CloseInfo)}function _(e,t){M(e,a.Click,t)}function N(e){T(e,a.Hover,o.MoreInfo)}function O(e){T(e,a.Hover,o.CloseInfo)}function D(e,t){M(e,a.Hover,t)}function I(e){T(e,a.Impression,o.Offer)}function M(e,t,n){var i;switch(n){case h.e.CLAIM_CODE:i=o.GetCode;break;case h.e.EXTERNAL_OFFER:i=o.LearnMore;break;case h.e.DIRECT_ENTITLEMENT:i=o.ClaimOffer}i&&T(e,t,i)}function T(e,t,n){d.o.track(p.SpadeEventType.PrimeOfferInteraction,{offer_id:e.offerID,external_url:e.externalURL,index:e.index,element:n,action:t,user_agent:navigator.userAgent,has_prime:e.hasPrime,display_width_type:e.displayWidthType})}function P(e){d.o.track(p.SpadeEventType.PrimeLootPageTryPrimeClick,{button_position:e.buttonPosition,user_agent:navigator.userAgent})}function j(){L(r.Impression)}function F(){L(r.Hover)}function R(){L(r.Click)}function L(e){d.o.track(p.SpadeEventType.PrimeBlueBarInteraction,{client_time:Date.now(),action:e})}function A(e,t){return Object(m.g)(e,{twitchReferral:t})}!function(e){e.Open="click_open",e.Close="click_close",e.Hover="hover",e.OffersLoaded="offers_loaded"}(i||(i={})),function(e){e.Hover="hover",e.Click="click",e.Impression="impression"}(a||(a={})),function(e){e.Hover="hover",e.Click="click",e.Impression="impression"}(r||(r={})),function(e){e.StartYourFreeTrial="start_your_free_trial",e.MoreInfo="more_info",e.CloseInfo="close_info",e.ClaimOffer="claim_offer",e.LearnMore="learn_more",e.GetCode="get_code",e.Offer="offer",e.Dismiss="dismiss"}(o||(o={})),function(e){e.TrackingAlpha="trackingalpha",e.WatchParties="prime_video_watch_party"}(s||(s={})),function(e){e.TopNav="top-nav",e.CenterBanner="center-banner",e.CenterFooter="center-footer"}(c||(c={})),function(e){e.Wide="wide",e.Narrow="narrow"}(l||(l={}))},Rkzd:function(e,t,n){"use strict";n.r(t);var i=n("/MKj"),a=n("fvjX"),r=n("jZLd"),o=n("mrSG"),s=n("cr+I"),c=n("q1tI"),l=n("/0dD"),d=n("NvVO"),u=n("2xye"),m=n("9MrB"),p=n("cex0"),h=n("YXxK"),f=n("5zC2"),g=n("GnwI"),v=n("VAW9"),b=n("sUnt"),k=n("hnjF"),y=function(e){function t(t){var n=e.call(this,t)||this;return t.updateChatTrackingContext({viewerContext:h.c.Embed}),n}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props.match.params.channelLogin,t=void 0!==s.parse(this.props.location.search).darkpopout;return this.props.changeTheme(t?l.a.Dark:l.a.Light,{saveToStorage:!1}),c.createElement(b.a,{fullHeight:!0},c.createElement(f.b,null),c.createElement(b.a,{display:k.d.Flex,flexGrow:0,flexShrink:0,overflow:k.i.Hidden,fullHeight:!0},c.createElement(v.a,{channelLogin:e,routedRoomName:void 0,isEmbedded:!0})))},t}(c.Component),S=Object(a.d)(Object(g.withPageTracking)("EmbedChatPage",{autoReportInteractive:!0,destination:d.a.ChatEmbed,location:u.PageviewLocation.Chat}),p.a,Object(m.b)((function(e){return Object(o.__assign)({},e)})))(y);var C=Object(i.b)(null,(function(e){return Object(a.b)({changeTheme:r.b},e)}))(S);n.d(t,"EmbeddedChatPage",(function(){return C}))},Ro6I:function(e,t,n){},RuiO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_SubEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:266}};n.loc.source={body:"query Core_Services_Spade_SubEvent_User($channelID: ID! $withVideo: Boolean! $videoID: ID) {\nuser(id: $channelID) {\nid\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\nvideo(id: $videoID) @include(if: $withVideo) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_SubEvent_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_SubEvent_User")},S4w9:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserEmotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:188}};n.loc.source={body:"query UserEmotes ($withOwner: Boolean!) {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nsetID\ntoken\n}\nowner @include(if: $withOwner) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UserEmotes=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UserEmotes")},SCHm:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPoints_Icon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]}]}}]}}],loc:{start:0,end:213}};i.loc.source={body:'#import "twilight/features/community-points/models/point-customization-fragment.gql"\nquery CommunityPoints_Icon($channelLogin: String!) {\ncommunity: user(login:$channelLogin) {\nid\n...pointCustomizationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("XBQy").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.CommunityPoints_Icon=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"CommunityPoints_Icon")},SDEh:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("mrSG"),a=n("/7QA"),r=n("Ideu"),o=/\scurse\/\d/;function s(e){return e||(e=navigator.userAgent),!!o.exec(e)}function c(e){return!(!a.p.integrations.app||a.p.integrations.app.id!==e)}function l(){return c(r.AppIntegrationID.Spotlight)}function d(){return c(r.AppIntegrationID.Desklight)||l()}function u(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return d()&&a.p.integrations.session&&a.p.integrations.session.hasPersistent?[4,a.p.integrations.session.hasPersistent()]:[2,!1];case 1:return[2,(e=t.sent())&&!e.hasCookie]}}))}))}},SSXq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("3yfl");function a(e,t){var n;void 0===t&&(t="www"),n=t;var a="https://"+(t=Object(i.b)(n)?n:"www")+".twitch.tv",r=window.location,o=r.hostname,s=r.origin;if(o.endsWith(".twitch.tech")){var c=o.substr(0,o.length-".twitch.tech".length),l=c,d=c.indexOf("-");d>=0&&Object(i.b)(c.substr(0,d))&&(l=c.substr(d+1)),a="www"===t?"https://"+l+".twitch.tech":"https://"+t+"-"+l+".twitch.tech"}var u=new URL(e,a),m=u.origin,p=u.href;return m===s?p.substr(s.length):p}},SUI5:function(e,t,n){"use strict";var i,a=n("/MKj"),r=n("fvjX"),o=n("yR8l"),s=n("XDCx"),c=n("JXcx"),l=n("mrSG"),d=n("q1tI"),u=n("/7QA"),m=n("geRD"),p=n("DMoW"),h=n("/7Tk"),f=n("NxUI"),g=n("sUnt"),v=n("akKH"),b=n("3aAs"),k=n("kqSx"),y=n("hnjF"),S=n("IbuL"),C=n("C7sF"),E=n("+80q"),w=n("DY5q"),_=n("zTPm"),N=n("76Xh"),O=n("jqPd"),D=n("PCM+"),I=n("dEDE"),M=(n("mziE"),1e4);!function(e){e.ServiceError="new-poll_service-error"}(i||(i={}));var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pendingCreation:!1,showCreationErrorBox:!1,errorCode:"",titleError:!1,title:"",choices:["","","","",""],choicesError:!1,allowVotingWithBits:!1,bitsPerVote:10,bitsPerVoteError:!1,subscriberOnly:!1,subscriberMultiplier:!1,durationMinutes:1},t.renderTitle=function(){return d.createElement(g.a,{margin:{bottom:1}},d.createElement(v.a,{label:Object(u.d)("Question","Polls--NewPollModal"),error:t.state.titleError,errorMessage:Object(u.d)("* You must provide a question","Polls--NewPollModal")},d.createElement(b.a,{type:b.c.Text,value:t.state.title,onChange:t.onQuestionChange,maxLength:60,error:t.state.titleError})))},t.renderChoices=function(){return d.createElement(g.a,{margin:{bottom:1}},d.createElement(v.a,{label:Object(u.d)("Responses (Minimum 2)","Polls--NewPollModal"),error:t.state.choicesError,errorMessage:Object(u.d)("* You must provide at least two choices","Polls--NewPollModal")},d.createElement(g.a,{margin:{bottom:1}},d.createElement(b.a,{type:b.c.Text,onChange:t.onResponseChanged.bind(t,0),maxLength:25})),d.createElement(g.a,{margin:{bottom:1}},d.createElement(b.a,{type:b.c.Text,onChange:t.onResponseChanged.bind(t,1),maxLength:25})),d.createElement(g.a,{margin:{bottom:1}},d.createElement(b.a,{type:b.c.Text,onChange:t.onResponseChanged.bind(t,2),maxLength:25})),d.createElement(g.a,{margin:{bottom:1}},d.createElement(b.a,{type:b.c.Text,onChange:t.onResponseChanged.bind(t,3),maxLength:25})),d.createElement(g.a,{margin:{bottom:1}},d.createElement(b.a,{type:b.c.Text,onChange:t.onResponseChanged.bind(t,4),maxLength:25}))))},t.renderSettings=function(){var e=!(!t.props.data.channel||!t.props.data.channel.cheer);return d.createElement(g.a,{margin:{bottom:1}},d.createElement(v.a,{label:Object(u.d)("Settings","Polls--NewPollModal"),error:t.state.bitsPerVoteError,errorMessage:Object(u.d)("The maximum Bits per vote is {bits}",{bits:M},"Polls--NewPollModal")},e&&d.createElement(g.a,{margin:{bottom:1}},d.createElement(k.a,{label:Object(u.d)("Allow Voting with Bits","Polls--NewPollModal"),checked:t.state.allowVotingWithBits,onChange:t.onAllowVotingChange})),e&&d.createElement(g.a,{margin:{bottom:1,left:1},display:y.d.Flex,flexDirection:y.e.Row,alignItems:y.b.Center},d.createElement(b.a,{type:b.c.Number,disabled:!t.state.allowVotingWithBits,onChange:t.onBitsPerVoteChange,value:String(t.state.bitsPerVote),maxLength:60,max:M,min:1}),d.createElement(g.a,{margin:{left:.5,right:.5}},d.createElement(S.a,{asset:C.a.Bits})),d.createElement(E.a,null,Object(u.d)("per Vote","Polls--NewPollModal"))),d.createElement(g.a,{margin:{bottom:1}},d.createElement(k.a,{label:Object(u.d)("Subscriber Votes Count 2x","Polls--NewPollModal"),checked:t.state.subscriberMultiplier,onChange:t.onSubscriberMultiplierChange})),d.createElement(g.a,{margin:{bottom:1}},d.createElement(k.a,{label:Object(u.d)("Subscriber Only","NewPollModal"),checked:t.state.subscriberOnly,onChange:t.onSubscriberOnlyChange}))))},t.renderDurationPicker=function(){return d.createElement(g.a,{margin:{bottom:1}},d.createElement(v.a,{label:Object(u.d)("Duration","Polls--NewPollModal")},d.createElement(w.a,{value:String(t.state.durationMinutes),onChange:t.onDurationSelectionChange},d.createElement("option",{value:"1"},Object(u.d)("1m","Polls--NewPollModal")),d.createElement("option",{value:"2"},Object(u.d)("2m","Polls--NewPollModal")),d.createElement("option",{value:"3"},Object(u.d)("3m","Polls--NewPollModal")))))},t.closeErrorMessage=function(){t.setState({showCreationErrorBox:!1})},t.onStartPoll=function(){return Object(l.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:if(!this.checkInputs())return[2];this.setState({pendingCreation:!0}),e=[],this.state.choices.forEach((function(t){if(""!==t){var n={title:t};e.push(n)}})),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.createPoll(Object(m.a)({bitsCost:this.state.bitsPerVote,bitsVoting:this.state.allowVotingWithBits,durationSeconds:60*this.state.durationMinutes,ownedBy:this.props.channelID,subscriberOnly:this.state.subscriberOnly,subscriberMultiplier:this.state.subscriberMultiplier,multichoiceEnabled:!0,title:this.state.title,choices:e}))];case 2:return!(t=n.sent()).data.createPoll||t.data.createPoll.error?(this.setState({showCreationErrorBox:!0,pendingCreation:!1,errorCode:t.data.createPoll&&t.data.createPoll.error?t.data.createPoll.error.code:""}),[2]):(this.props.closeModal(),this.props.onPollCreated&&this.props.onPollCreated(),[3,4]);case 3:return n.sent(),this.setState({showCreationErrorBox:!0,pendingCreation:!1}),[3,4];case 4:return[2]}}))}))},t.checkInputs=function(){var e=!0;""===t.state.title&&(t.setState({titleError:!0}),e=!1);var n=0;return t.state.choices.forEach((function(e){""!==e&&n++})),n<2&&(t.setState({choicesError:!0}),e=!1),e},t.onClose=function(){t.props.closeModal()},t.onQuestionChange=function(e){t.setState({title:e.target.value,titleError:""===e.target.value})},t.onBitsPerVoteChange=function(e){var n=parseInt(e.target.value||"0",10);n>M||n<=0?t.setState({bitsPerVoteError:!0}):t.setState({bitsPerVoteError:!1}),t.setState({bitsPerVote:n})},t.onResponseChanged=function(e,n){var i=n.target.value;t.setState((function(t){var n=t.choices.slice(0);return n[e]=i,{choices:n}}))},t.onAllowVotingChange=function(e){t.setState({allowVotingWithBits:e.currentTarget.checked})},t.onSubscriberMultiplierChange=function(e){t.setState({subscriberMultiplier:e.currentTarget.checked})},t.onSubscriberOnlyChange=function(e){t.setState({subscriberOnly:e.currentTarget.checked})},t.onDurationSelectionChange=function(e){var n=parseInt(e.currentTarget.value,10);t.setState({durationMinutes:n})},t.setPreferences=function(){if(t.props.data.channel&&t.props.data.channel.latestPoll){var e=t.props.data.channel.latestPoll,n=Math.round(e.durationSeconds/60);t.setState({allowVotingWithBits:e.settings.bitsVotes.isEnabled,bitsPerVote:e.settings.bitsVotes.cost,subscriberOnly:e.settings.subscriberOnly.isEnabled,subscriberMultiplier:e.settings.subscriberMultiplier.isEnabled,durationMinutes:n})}},t.getErrorMessage=function(){var e=Object(u.d)("Service Error","Polls--NewPollModal");switch(t.state.errorCode){case p.gb.AUTOMOD_FAILED:e=Object(u.d)("Content does not meet guidelines","Polls--NewPollModal");break;case p.gb.POLL_ALREADY_ACTIVE:e=Object(u.d)("A poll is already active","Polls--NewPollModal")}return e},t}return Object(l.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.data.loading&&!this.props.data.loading&&this.setPreferences()},t.prototype.componentDidMount=function(){this.props.data.loading||this.setPreferences()},t.prototype.render=function(){if(this.props.data.loading)return d.createElement(h.a,null);var e=Object(u.d)("Start Poll","Polls--NewPollModal"),t=Object(u.d)("Cancel","Polls--NewPollModal");return d.createElement(g.a,{display:y.d.Flex,justifyContent:y.h.Center,className:"new-poll-modal"},d.createElement(_.a,{size:_.b.Medium},d.createElement(N.a,{title:Object(u.d)("Create a New Poll","Polls--NewPollModal"),closeButton:{ariaLabel:Object(u.d)("Close","Polls--NewPollModal"),onClick:this.onClose}}),d.createElement(O.a,null,d.createElement(g.a,{display:y.d.Flex,flexDirection:y.e.Column,padding:{x:4,bottom:1,top:1}},this.renderTitle(),this.renderChoices(),this.renderSettings(),this.renderDurationPicker(),this.state.showCreationErrorBox&&d.createElement(f.a,{message:this.getErrorMessage(),onClose:this.closeErrorMessage,showTryAgain:""===this.state.errorCode||this.state.errorCode===p.gb.UNKNOWN}))),d.createElement(g.a,{padding:{x:3,bottom:2}},d.createElement(D.a,{primaryButtonProps:{ariaLabel:e,children:e,onClick:this.onStartPoll,state:this.state.pendingCreation?I.c.Loading:I.c.Default},secondaryButtonProps:{ariaLabel:t,children:t,onClick:this.props.closeModal}}))))},t}(d.Component),P=n("MQZ3");n.d(t,"a",(function(){return j}));var j=Object(r.d)(Object(a.b)(null,(function(e){return Object(r.b)({closeModal:s.d},e)})),Object(o.a)(c,{name:"createPoll"}),Object(o.a)(P,{options:function(e){return{variables:{id:e.channelID}}}}))(T)},SaoI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkGemNotificationAsChecked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CheckGemNotificationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkGemNotification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedNotification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isChecked"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation MarkGemNotificationAsChecked($input: CheckGemNotificationInput!) {\ncheckGemNotification(input: $input) {\nupdatedNotification {\nid\ntitle\ndescription\ncreatedAt\nisChecked\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MarkGemNotificationAsChecked=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"MarkGemNotificationAsChecked")},SbbE:function(e,t,n){},SceP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsChatCard_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};n.loc.source={body:"query ClipsChatCard_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nthumbnailURL\ntitle\nslug\nurl\ncurator {\nid\ndisplayName\n}\nbroadcaster {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsChatCard_Clip=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsChatCard_Clip")},SyZi:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("q1tI"),a=n("ZGDZ"),r=n("XIEs"),o=n("nAiT"),s=n("7uM4"),c=n("C7sF"),l=n("uG/k"),d=n("sUnt"),u=n("ALJo"),m=(n("e9QR"),{"channel-points-icon--small":12,"channel-points-icon--medium":20,"channel-points-icon--large":50}),p=function(e){var t=e.iconSize||u.a.Medium,n=m[t],a=i.createElement(s.a,{asset:c.a.ChannelPoints,width:n,height:n});if(e.image){var p=h(n,e.image);a=i.createElement(l.a,{className:"channel-points-icon__image",alt:e.name||Object(o.a)(),src:p,srcSet:p===e.image.url?Object(r.a)(e.image):void 0})}return i.createElement(d.a,{className:"channel-points-icon "+t},a)},h=function(e,t){return e<=a.a.SMALL?t.url:e<=a.a.MEDIUM?t.url2x:e<=a.a.LARGE?t.url4x:t.url}},T84l:function(e,t,n){},TApp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ZtEv"),a=n("aF6k");function r(e){return{type:i.b.Info,id:Object(a.a)("info"),message:e}}},TOso:function(e,t,n){"use strict";var i=n("mrSG"),a=n("/7QA"),r=n("cMjZ"),o=n("geRD"),s=n("f00E"),c=n("DMoW"),l=n("w09P"),d=n("xXlL"),u=n("U1yz"),m=n("a1OF");var p=n("3YIm"),h=n("NMMG"),f=n("Vl9+");function g(e){var t=e.currentUserID,n=e.emotes,g=e.message,v=e.recipientUserID;if(""===t||""===g||""===v)return Promise.reject(new Error("Tried to send a whisper with nonsensical parameters."));var b=Object(s.c)(),k=Object(i.__assign)({mutation:p},Object(o.a)({message:g,nonce:b,recipientUserID:v})),y=Object(h.a)(t,v),S=Object(u.a)(a.p.apollo.client.cache,y,!0);if(S&&S.messages){var C=function(e,t){for(var n=[],i=/\S+/g,a=i.exec(e);a;){var r=a[0],o=t[r];if(o){var s=Object(m.c)(e.slice(0,a.index)),c=s?s.length:a.index;n.push({id:o.id,start:c,end:c+r.length-1})}a=i.exec(e)}return n}(g,n).map(d.a);k.optimisticResponse={sendWhisper:{__typename:"SendWhisperPayload",message:{content:{content:g,emotes:C,__typename:"MessageBody"},from:{id:t,__typename:"User"},id:b,nonce:b,sentAt:(new Date).toISOString(),deletedAt:null,editedAt:null,thread:{id:y,__typename:"WhisperThread",participants:[{id:t,__typename:"User",self:{__typename:"UserSelfConnection",whisperPermissions:{receive:c.sd.NOT_PERMITTED,__typename:"WhisperPermissions"}}},{id:v,__typename:"User",self:{__typename:"UserSelfConnection",whisperPermissions:{receive:c.sd.PERMITTED,__typename:"WhisperPermissions"}}}]},__typename:"WhisperMessage"},error:null}},k.update=function(e,t){if(t.data){var n=t.data;if(n.sendWhisper&&n.sendWhisper.message&&!n.sendWhisper.error){var i=n.sendWhisper.message,a=Object(u.a)(e,y);if(a&&a.messages){var o=a.messages.edges.findIndex((function(e){return e.node.id===b||e.node.nonce===b||e.node.id===i.id}));if(o<0){var s={cursor:(1+S.messages.edges.reduce((function(e,t){return Math.max(parseInt(t.cursor,10),e)}),0)).toString(),node:i,__typename:"WhisperMessageEdge"};a=l(a,(function(e){return e.messages.edges}),(function(e){return e.unshift(s),e}))}else a=l(a,(function(e){return e.messages.edges[o].node}),(function(){return i}));a.userLastMessageRead&&(a=l(a,(function(e){return e.userLastMessageRead.sentAt}),(function(){return i.sentAt}))),a.unreadMessagesCount=0,e.writeFragment({id:Object(r.a)(a),fragment:f,data:a})}}}}}return a.p.apollo.client.mutate(k)}n.d(t,"a",(function(){return g}))},TqpA:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("4rCz"),c=n("sUnt"),l=n("hnjF"),d=n("7d/q"),u=n("C7sF"),m=n("Ws8v"),p=n("X2PJ");n("OCTF");!function(e){e.CloseButton="bits-card-wrapper-close-button-selector",e.OuterWrapper="bits-card-wrapper-outer-selector",e.InnerWrapper="bits-card-wrapper-inner-selector"}(i||(i={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onUserClose,n=e.children,a=e.className,h=e.dataATarget,f=e.closeDataATarget,g=t?o.createElement(c.a,{position:l.j.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0,zIndex:l.o.Above},o.createElement(d.a,{ariaLabel:Object(s.d)("close bits card","BitsCard"),"data-a-target":f,"data-test-selector":i.CloseButton,onClick:t,icon:u.a.Close,type:d.c.Secondary,size:d.b.Small})):null;return o.createElement(m.a,{"data-test-selector":i.OuterWrapper,className:r("bits-card-wrapper",a),"data-a-target":h,display:l.d.Flex,flexDirection:l.e.Column,position:l.j.Absolute,background:p.a.Base,borderRadius:p.b.Large,elevation:3,zIndex:l.o.Above,fullWidth:!0},g,o.createElement(c.a,{"data-test-selector":i.InnerWrapper,display:l.d.Flex,flexDirection:l.e.Column,alignItems:l.b.Center,justifyContent:l.h.Center,flexGrow:1,fullWidth:!0},n))},t.defaultProps={dataATarget:"bits-card",closeDataATarget:"bits-card-close-button"},t}(o.PureComponent);n.d(t,"a",(function(){return h}))},TvOw:function(e,t,n){"use strict";var i,a;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.Spam="spam",e.Harassment="harassment"}(i||(i={})),function(e){e.Spam="spam",e.Harassment="harassment",e.Other="other"}(a||(a={}))},Tznh:function(e,t,n){"use strict";var i,a,r=n("mrSG"),o=n("q1tI"),s=n("/MKj"),c=n("fvjX"),l=n("/7QA"),d=n("yR8l"),u=n("D7An"),m=n("kRBY"),p=n("1rIY"),h=n("+pBb"),f=n("CbHG");!function(e){e.Excluded="control",e.OptIn="opt-in",e.OptOut="opt-out"}(i||(i={})),function(e){e.FilteredMessage="chat_filter_message",e.Onboarding="onboarding",e.Other="other"}(a||(a={}));var g=Object(p.a)("ChatFilterContext",{chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:function(){return null},showChatFilterSettings:function(){return null}}),v=g.context,b=g.withContext,k=function(e){function t(n){var r=e.call(this,n)||this;return r.hideChatFilterSettings=function(){r.setState({isShowingChatFilterSettings:!1})},r.showChatFilterSettings=function(e){r.setState({chatFilterSettingsSource:e||a.Other,isShowingChatFilterSettings:!0})},r.state={chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:r.hideChatFilterSettings,showChatFilterSettings:r.showChatFilterSettings},t.assignmentForNewUsers=l.p.experiments.getAndTrackAssignment(u.c.ChatFiltersNewUsers),t.assignmentForOldUsers=l.p.experiments.getAndTrackAssignment(u.c.ChatFiltersExistingUsers),r}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e){switch(t.getExperimentMembership(e)){case i.OptIn:return void 0===e.viewerChatFilterEnabled&&e.disableViewerChatFilter(a.Other),{chatFilterExperimentMembership:i.OptIn};case i.OptOut:return void 0===e.viewerChatFilterEnabled&&e.enableViewerChatFilter(a.Other),{chatFilterExperimentMembership:i.OptOut};case i.Excluded:default:return{chatFilterExperimentMembership:i.Excluded}}},t.getExperimentMembership=function(e){if("off"===l.b.get("chat_filter_enabled","off"))return i.Excluded;if(!e.isLoggedIn||"en"!==e.languageCode)return i.Excluded;if(e.data&&e.data.currentUser&&e.data.currentUser.createdAt){var n=l.b.get("chat_filter_start","3000-01-01"),a=new Date(e.data.currentUser.createdAt)>=new Date(n)?t.assignmentForNewUsers:t.assignmentForOldUsers;switch(a){case i.Excluded:case i.OptIn:case i.OptOut:return a;default:return i.Excluded}}return i.Excluded},t.prototype.render=function(){return o.createElement(v.Provider,{value:this.state},this.props.children)},t}(o.Component);var y=Object(c.d)(Object(s.b)((function(e){return{isLoggedIn:Object(m.f)(e),languageCode:Object(m.b)(e),viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled}}),(function(e){return Object(c.b)({disableViewerChatFilter:h.F,enableViewerChatFilter:h.K},e)})),Object(d.a)(f,{skip:function(e){return!e.isLoggedIn||"en"!==e.languageCode}}))(k);n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return y}))},U1yz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("2Dht");function a(e,t,n){try{var a=e.readQuery({query:i,variables:{id:t}},n);return a?a.whisperThread:null}catch(e){return null}}},UBeo:function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/MKj"),s=n("fvjX"),c=n("/7QA"),l=n("yR8l"),d=n("4ilF"),u=n("geRD"),m=n("DMoW"),p=n("kRBY"),h=n("1rIY"),f=n("Ohqu"),g=n("pMvt"),v="chatPauseSetting",b=Object(h.a)("ChatPauseSettingContext",{setValue:function(){return null},value:void 0}),k=b.context,y=b.withContext,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:t.constructor.localValue()},t.setValue=function(e){if(t.props.isLoggedIn){var n=Object(i.__assign)(Object(i.__assign)({},Object(u.a)({chatPauseSetting:e})),{optimisticResponse:{setChatPauseSetting:{__typename:"SetChatPauseSettingPayload",chatPauseSetting:e}},update:function(t){var n;try{n=t.readQuery({query:g})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=a(n,(function(e){return e.currentUser.chatUISettings.chatPauseSetting}),(function(){return e}));t.writeQuery({query:g,data:i})}}}),r=t.state.value;t.setState({value:e}),c.m.set(v,e),t.props.setChatPauseSetting(n).catch((function(){r&&(c.m.set(v,r),t.setState({value:r}))}))}},t}return Object(i.__extends)(t,e),t.localValue=function(){return c.m.get(v,void 0)},t.remoteValue=function(e){return e.data&&e.data.currentUser&&e.data.currentUser.chatUISettings&&e.data.currentUser.chatUISettings.chatPauseSetting},t.getDeferredStateFromProps=function(e){return{value:this.remoteValue(e)||this.localValue()}},t.prototype.render=function(){return r.createElement(k.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},t.prototype.componentDidUpdate=function(e){var t=this.props.data,n=e&&e.data&&e.data.currentUser,i=t&&!t.loading&&!t.error&&t.currentUser,a=this.constructor.localValue(),r=this.constructor.remoteValue(this.props);i&&!n&&a!==r&&(r?this.setValue(r):a&&this.setValue(a))},Object.defineProperty(t.prototype,"value",{get:function(){if(c.b.get("chat_pause",!1)){var e=this.props,t=e.channelID,n=e.userID,i=e.userModStatus;if(t&&t===n||i&&i.user&&i.user.isModerator)return c.m.get(v,void 0)||this.state.value||m.G.SCROLL_ONLY}},enumerable:!0,configurable:!0}),t}(r.Component);var C=Object(s.d)(Object(o.b)((function(e){var t=Object(p.e)(e);return{isLoggedIn:Object(p.f)(e),userID:t&&t.id}})),Object(d.a)(),Object(l.a)(g,{skip:function(e){return!e.isLoggedIn}}),Object(l.a)(f,{name:"setChatPauseSetting"}))(S);function E(e){return{setChatPauseSetting:e.setValue,chatPauseSetting:e.value}}n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return E}))},UNTo:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RedeemCustomReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RedeemCommunityPointsCustomRewardInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"redeemCommunityPointsCustomReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:148}};n.loc.source={body:"mutation RedeemCustomReward($input: RedeemCommunityPointsCustomRewardInput!) {\nredeemCommunityPointsCustomReward(input: $input) {\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RedeemCustomReward=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"RedeemCustomReward")},UOOj:function(e,t,n){},UUau:function(e,t,n){},UWbL:function(e,t,n){"use strict";function i(e){var t=/^((\d+)[Hh])?((\d+)[Mm])?((\d+)[Ss])?$/.exec(e||"");return t?3600*(parseInt(t[2],10)||0)+60*(parseInt(t[4],10)||0)+(parseInt(t[6],10)||0):0}n.d(t,"a",(function(){return i}))},Uh2Q:function(e,t,n){"use strict";var i,a=n("NAv5"),r=n("/7QA"),o=n("3Bft"),s=n("HGFl"),c=n("mrSG"),l=n("q1tI"),d=n("/MKj"),u=n("/0dD"),m=n("XDQu"),p=n("5zXJ"),h=n("RiD7"),f=n("uG/k"),g=n("sUnt"),v=n("+80q"),b=n("X2PJ"),k=n("Jsra"),y=n("hnjF");n("m66z");!function(e){e.Container="lazy-carousel-container",e.Prev="lazy-carousel-prev-button",e.Next="lazy-carousel-next-button",e.NavDot="lazy-carousel-nav-dot",e.NavDotContainer="lazy-carousel-nav-dot-container",e.Animation="lazy-carousel-animation-container"}(i||(i={}));var S=[{src:p.h+"/mega-commerce/bits-card/1.png",emoteString:"emote1"},{src:p.h+"/mega-commerce/bits-card/2.png",emoteString:"emote2"},{src:p.h+"/mega-commerce/bits-card/3.png",emoteString:"emote3"},{src:p.h+"/mega-commerce/bits-card/4.png",emoteString:"emote4"},{src:p.h+"/mega-commerce/bits-card/5.png",emoteString:"emote5"},{src:p.h+"/mega-commerce/bits-card/6.png",emoteString:"emote6"},{src:p.h+"/mega-commerce/bits-card/7.png",emoteString:"emote7"}],C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currIndex:0},t.renderEmotes=S.map((function(e){return l.createElement(f.a,{key:e.emoteString,className:"seasonal-megacommerce-introduction__emote",src:e.src,srcSet:{"112w":e.src},sizes:[{size:"28px"}],alt:e.emoteString})})),t.learnMoreClick=function(){Object(h.p)({user_id:t.props.currentUserID||"",source:h.e.BitsCard})},t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this,t="";return t=this.props.theme===u.a.Dark?"seasonal-megacommerce-introduction__dark":"seasonal-megacommerce-introduction__light",l.createElement(g.a,{className:t},l.createElement(g.a,{padding:{top:3}},l.createElement(v.a,{fontSize:b.d.Size5,bold:!0},Object(r.d)("Happy HAHAHAlidays!","MegaCommerceMegaCheerBitsIntroduction")),l.createElement(g.a,{padding:{x:1,top:.5}},l.createElement(v.a,null,Object(r.d)("Cheer at least 300 Bits, Subscribe, or Gift a sub to receive exclusive holiday emotes and gift emotes to your community. Collect them all by {date}!",{date:Object(r.c)(O(_),{day:"numeric",month:"numeric",year:"numeric"})},"MegaCommerceMegaCheerBitsIntroduction"))),l.createElement(g.a,{padding:{top:.5,bottom:1}},l.createElement(v.a,null,Object(r.d)("<x:link>Learn more</x:link>",{"x:link":function(t){return l.createElement(k.a,{targetBlank:!0,linkTo:I(_),onClick:e.learnMoreClick},t)}},"MegaCommerceMegaCheerBitsIntroduction")))),l.createElement(g.a,{display:y.d.Flex,justifyContent:y.h.Center,flexDirection:y.e.Row,padding:{bottom:1}},this.renderEmotes))},t}(l.Component);var E,w=Object(d.b)((function(e){return{theme:Object(m.a)(e),currentUserID:e.session.user&&e.session.user.id||null}}))(C);n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return _})),n.d(t,"f",(function(){return N})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return D})),n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"c",(function(){return T})),function(e){e.Cheer="CHEER",e.Subscription="SUBSCRIPTION",e.SubGift="SUBGIFT"}(E||(E={}));var _={startDateDynamicSetting:"megacommerce_2019_start_date",endDateDynamicSetting:"megacommerce_2019_end_date",eventDomain:"megacommerce_2019",eventTestDomain:"megacommerce_2019-test",intro:w,tier1ImageUrl:p.h+"/mega-commerce/MegaCheer-01.png",tier2ImageUrl:p.h+"/mega-commerce/MegaCheer-02.png",tier3ImageUrl:p.h+"/mega-commerce/MegaCheer-03.png",tier4ImageUrl:p.h+"/mega-commerce/MegaCheer-04.png",helpLinkDynamicSetting:"megacommerce_2019_help_link"};function N(e){if(!e)return!1;var t=r.b.get(e.startDateDynamicSetting,"2019-12-03T20:00:00Z");if(Object(a.isAfter)(Object(s.e)(t),Date.now()))return!1;var n=r.b.get(e.endDateDynamicSetting,"2020-01-03T07:00:00Z");return Object(a.isAfter)(Object(s.e)(n),Date.now())}function O(e){var t=r.b.get(e.endDateDynamicSetting,"2020-01-03T07:00:00Z");return Object(s.e)(t)}function D(e,t){return!!t&&(e===t.eventDomain||e===t.eventTestDomain)}function I(e){return r.b.get(e.helpLinkDynamicSetting,"https://help.twitch.tv/s/article/winter-megacheer")}function M(e,t){var n=0;t===o.a.Tier3?n=2:t===o.a.Tier2&&(n=1);var i=1;return e>=20?i=15:e>=10?i=7:e>=5&&(i=5),i+n}function T(e,t){var n=0;t===o.a.Tier3?n=10:t===o.a.Tier2&&(n=5);var i=5;return e>=100?i=500:e>=50?i=250:e>=20?i=100:e>=10?i=50:e>=5&&(i=25),i+n}},Ukwn:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"automaticRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsAutomaticReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultBackgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHiddenForSubs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:323}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment automaticRewardFragment on CommunityPointsAutomaticReward {\nid\nbackgroundColor\ncost\ndefaultBackgroundColor\ndefaultCost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisEnabled\nisHiddenForSubs\nminimumCost\ntype\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},V6CR:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n("C9w8"),r=n("fPaz"),o=n("uG/k"),s=n("IbuL"),c=n("hnjF"),l=n("sUnt"),d=(n("UOOj"),function(e){var t,n;return void 0!==(n=e).src&&void 0!==n.alt&&(t=i.createElement(l.a,{className:"tw-drop-down-menu-item-figure--image"},i.createElement(r.b,{ratio:e.aspectRatio||r.c.Aspect1x1},i.createElement(o.a,Object(a.a)(e))))),function(e){return void 0===e.src}(e)&&(t=i.createElement(l.a,{display:c.d.Flex,alignItems:c.b.Center},i.createElement(s.a,{asset:e.icon}))),i.createElement(c.g,{className:"tw-drop-down-menu-item-figure"},t)});d.displayName="DropDownMenuItemFigure",d.displayName="DropDownMenuItemFigure"},V94A:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"followButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:172}};n.loc.source={body:"# Queries the data necessary to render the FollowButton component.\nfragment followButtonFragment on User {\nid\ndisplayName\nlogin\nself {\nfollower {\ndisableNotifications\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},VAW9:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("w09P"),o=n("q1tI"),s=n("/MKj"),c=n("fvjX"),l=n("yR8l"),d=n("x7UT"),u=n("eDVu"),m=n("0Log"),p=n("/aPz"),h=n("kRBY"),f=n("bBAb"),g=n("6C1D"),v=n("hO8c"),b=n("+pBb"),k=n("3sMn"),y=n("1rIY");!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.RECONNECTING=1]="RECONNECTING",e[e.CONNECTED=2]="CONNECTED"}(i||(i={}));var S=Object(y.a)("ChatConnectionStateContext",{chatConnectionState:i.DISCONNECTED,updateChatConnectionState:function(){return null}}),C=S.context,E=S.withContext,w=function(e){function t(t){var n=e.call(this,t)||this;return n.updateChatConnectionState=function(e){n.setState({chatConnectionState:e})},n.state={chatConnectionState:i.DISCONNECTED,updateChatConnectionState:n.updateChatConnectionState},n}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(C.Provider,{value:this.state},this.props.children)},t}(o.Component),_=n("RS58"),N=n("+l4d"),O=n("/gva");var D=n("GnwI");var I=n("MkkA"),M=n("JPUa"),T=n("/7QA"),P=n("w0yC"),j=n("ZS2+"),F=n("DMoW"),R=(n("7NxT"),n("vSeP")),L=n("XIZb"),A=Object(L.a)("ChatConnection"),U=A.withChatServiceManager,x=(0,A.withContext)((function(e){return{chatConnectionAPI:e.serviceAPI,setChatConnectionAPI:e.setServiceAPI}})),B=Object(L.a)("ChatRestrictions"),V=B.context,H=B.withChatServiceManager,q=B.withContext,G=(V.Provider,H),W=q((function(e){return{chatRestrictionsAPI:e.serviceAPI,setChatRestrictionsAPI:e.setServiceAPI}})),z=Object(L.a)("MessageBuffer"),Q=z.withChatServiceManager,Y=(0,z.withContext)((function(e){return{messageBufferAPI:e.serviceAPI,setMessageBufferAPI:e.setServiceAPI}})),K=n("2EzP"),X=n("26nv"),$=n("/0dD"),J=n("Mj6i"),Z=n("jZLd"),ee=n("XDQu"),te=n("/i69"),ne=n("IRJ5"),ie=n("gcd7"),ae=n("3kHA"),re=function(e){return o.createElement(ie.a,{channelLogin:e.channelLogin,command:"clear",description:Object(T.d)("Clear chat history for all viewers","ClearCommandHandler"),helpText:Object(T.d)('Usage: "/clear" - Clears chat history for all viewers.',"ClearCommandHandler"),permissionLevel:ae.b.Moderator})},oe=n("bhOa"),se=function(e){return o.createElement(ie.a,{args:[{name:"length",isRequired:!1}],channelLogin:e.channelLogin,command:"commercial",description:Object(T.d)("Run an ad break during your stream","CommercialCommandHandler"),helpText:Object(T.d)('Usage: "/commercial [length]" - Triggers a commercial. Length (optional) must be a positive number of seconds.',"CommercialCommandHandler"),hidden:!e.isPartner,permissionLevel:ae.b.Broadcaster})},ce=n("cJKN"),le=function(e){return o.createElement(o.Fragment,null,o.createElement(ie.a,{args:[{name:"duration",isRequired:!1}],channelLogin:e.channelLogin,command:"followers","data-test-selector":"followers-command-handler",description:Object(T.d)("Restrict Chat to followers based on their follow duration","FollowersCommandHandler"),helpText:Object(T.d)('Usage: "/followers [duration]" - Turns on followers-only mode (only users who have followed for "duration" may chat). Examples: "30m", "1 week", "5 days 12 hours". Must be less than 3 months.',"FollowersCommandHandler"),permissionLevel:ae.b.Moderator}),o.createElement(ie.a,{channelLogin:e.channelLogin,command:"followersoff","data-test-selector":"followers-off-command-handler",description:Object(T.d)("Turn off followers-only mode","FollowersCommandHandler"),helpText:Object(T.d)('Usage: "/followersoff" - Disables followers-only mode.',"FollowersCommandHandler"),permissionLevel:ae.b.Moderator}))},de=n("b6Pe"),ue=function(e){return o.createElement(o.Fragment,null,o.createElement(ie.a,{args:[{name:"channel",isRequired:!0}],channelLogin:e.channelLogin,command:"host","data-test-selector":"host-command-handler",description:Object(T.d)("Host another stream on your channel","HostCommandHandler"),helpText:Object(T.d)('Usage: "/host <channel>" - Hosts another stream on your channel. Use "/unhost" to remove host mode.',"HostCommandHandler"),permissionLevel:ae.b.Broadcaster}),o.createElement(ie.a,{channelLogin:e.channelLogin,command:"unhost","data-test-selector":"unhost-command-handler",description:Object(T.d)("Stop hosting a channel","HostCommandHandler"),helpText:Object(T.d)('Usage: "/unhost" - Stops hosting another channel.',"HostCommandHandler"),permissionLevel:ae.b.Broadcaster}))},me=n("D91L"),pe=n("hAD8"),he=n("PtXu"),fe=n("J2EQ"),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(ie.a,{args:[{name:"channel",isRequired:!0}],channelLogin:this.props.channelLogin,command:"raid","data-test-selector":"raid-command-handler",description:Object(T.d)("Send viewers to another channel when your stream ends","RaidCommandHandler"),helpText:Object(T.d)('Usage: "/raid <channel>" - Raids another channel. Use "/unraid" to cancel the Raid.',"RaidCommandHandler"),permissionLevel:ae.b.Broadcaster}),o.createElement(ie.a,{channelLogin:this.props.channelLogin,command:"unraid","data-test-selector":"unraid-command-handler",description:Object(T.d)("Cancel an ongoing Raid","RaidCommandHandler"),helpText:Object(T.d)('Usage: "/unraid" - Cancels a Raid.',"RaidCommandHandler"),permissionLevel:ae.b.Broadcaster}))},t}(o.Component),ve=n("wUQP"),be=n("YV90"),ke=n("BdUW"),ye=n("EgE3");var Se=Object(be.a)((function(e){return{isChannelPointsEnabled:e.isChannelPointsEnabled}}))((function(e){return e.isChannelPointsEnabled&&Object(ve.c)("copo_full_launch")?o.createElement(ie.a,{channelLogin:e.channelLogin,command:"requests",description:Object(T.d)("Open the Channel Points reward requests queue","RequestsCommandHandler"),handler:function(){return Object(ke.a)(ye.d.ChatCommand,e.channelLogin,e.channelID||void 0)},helpText:Object(T.d)('Usage: "/requests" - Opens the Channel Points requests queue to view and manage custom reward requests.',"RequestsCommandHandler"),permissionLevel:ae.b.Moderator}):null})),Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showChatRules=function(){t.props.showChatRules()},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(ie.a,{channelLogin:this.props.channelLogin,command:"rules",description:Object(T.d)("Show the rules of this channel","RulesCommandHandler"),handler:this.showChatRules,helpText:Object(T.d)('Usage: "/rules" - Show the rules of this channel, if they exist.',"RulesCommandHandler"),hidden:!0,permissionLevel:ae.b.Broadcaster})},t}(o.Component);var Ee,we,_e=Object(s.b)(null,(function(e){return Object(c.b)({showChatRules:function(){return b.O()}},e)}))(Ce),Ne=n("AnlW"),Oe=function(e){return o.createElement(o.Fragment,null,o.createElement(ie.a,{channelLogin:e.channelLogin,command:"subscribers","data-test-selector":"subscribers-command-handler",description:Object(T.d)("Restrict Chat to subscribers","SubscribersCommandHandler"),helpText:Object(T.d)('Usage: "/subscribers" - Enables subscribers-only mode (only subscribers may chat in this channel). Use "/subscribersoff" to disable subscriber-only chat.',"SubscribersCommandHandler"),permissionLevel:ae.b.Moderator}),o.createElement(ie.a,{channelLogin:e.channelLogin,command:"subscribersoff","data-test-selector":"subscribers-off-command-handler",description:Object(T.d)("Turn off subscribers-only mode","SubscribersCommandHandler"),helpText:Object(T.d)('Usage: "/subscribersoff" - Disables subscribers-only mode.',"SubscribersCommandHandler"),permissionLevel:ae.b.Moderator}))},De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setUniqueChatMode=function(){return t.props.sendMessage("/r9kbeta"),{}},t.unsetUniqueChatMode=function(){return t.props.sendMessage("/r9kbetaoff"),{}},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(ie.a,{channelLogin:this.props.channelLogin,command:"uniquechat","data-test-selector":"unique-command-handler",description:Object(T.d)("Prevent users from sending duplicate messages in Chat","UniqueChatCommandHandler"),helpText:Object(T.d)('Usage: "/uniquechat" - Users can only send unique messages in Chat. Duplicate messages will not be allowed. Use "/uniquechatoff" to disable.',"UniqueChatCommandHandler"),handler:this.setUniqueChatMode,permissionLevel:ae.b.Moderator}),o.createElement(ie.a,{channelLogin:this.props.channelLogin,command:"uniquechatoff","data-test-selector":"uniquechat-off-command-handler",description:Object(T.d)("Turn off unique-chat mode","UniqueChatCommandHandler"),helpText:Object(T.d)('Usage: "/uniquechatoff" - Disables unique-chat mode.',"UniqueChatCommandHandler"),handler:this.unsetUniqueChatMode,permissionLevel:ae.b.Moderator}))},t}(o.Component),Ie=n("bfuM"),Me=n("CpU+"),Te=n("fKMw"),Pe=n("k/I/");!function(e){e.QUERY_ERROR="QUERY_ERROR"}(Ee||(Ee={})),function(e){e.UnVIP="vip-command-handler_unvip",e.VIP="vip-command-handler_vip",e.VIPs="vip-command-handler_vips"}(we||(we={}));var je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vips=function(){return{deferred:T.p.apollo.client.query({query:Pe,fetchPolicy:"network-only",variables:{login:t.props.channelLogin}}).then((function(e){var n=e.data;if(!n||!n.user||!n.user.vips)return{notice:t.getVIPsErrorMessage()};var i=n.user.vips.edges.filter((function(e){return e.node&&e.node.login}));if(0===i.length)return{notice:Object(T.d)("This channel does not have any VIPs.","VIPCommandHandler")};var a=i.map((function(e){return e.node&&e.node.login})).join(", ");return{notice:Object(T.d)("VIPs for this channel are: {vips}.",{vips:a},"VIPCommandHandler")}})).catch((function(){return{notice:t.getVIPsErrorMessage()}}))}},t.unVIPUser=function(e){var n=e.trim().split(/\s+/),i=t.getLogin(e);return 1===n.length&&i&&0!==i.length?{deferred:t.props.unVIPUserMutation(i).then((function(e){var n=e.revokeVIP;if(!n||!n.revokee||!n.revokee.login)return{notice:t.getUnVIPErrorMessage(Ee.QUERY_ERROR)};var a=n.error,r=a&&a.code;return r?{notice:t.getUnVIPErrorMessage(r,i)}:{notice:Object(T.d)("You have removed {login} as a VIP of this channel.",{login:i},"VIPCommandHandler")}})).catch((function(){return{notice:t.getUnVIPErrorMessage(Ee.QUERY_ERROR)}}))}:{deferred:Promise.resolve({notice:t.unvipUsage(),error:ae.a.InvalidParameters})}},t.vipUser=function(e){var n=t.getLogin(e);return 1===e.trim().split(/\s+/).length&&n&&0!==n.length?{deferred:t.props.vipUserMutation(n).then((function(e){var i=e.grantVIP;if(!i||!i.grantee||!i.grantee.login)return{notice:t.getVIPErrorMessage(Ee.QUERY_ERROR)};var a=i.error,r=a&&a.code;return r?{notice:t.getVIPErrorMessage(r,n)}:{notice:Object(T.d)("You have added {login} as a VIP of this channel.",{login:n},"VIPCommandHandler")}})).catch((function(){return{notice:t.getVIPErrorMessage(Ee.QUERY_ERROR)}}))}:{deferred:Promise.resolve({notice:t.vipUsage(),error:ae.a.InvalidParameters})}},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(ie.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"vip","data-test-selector":we.VIP,description:Object(T.d)("Grant VIP status to a user","VIPCommandHandler"),handler:this.vipUser,helpText:this.vipUsage(),permissionLevel:ae.b.Broadcaster}),o.createElement(ie.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unvip","data-test-selector":we.UnVIP,description:Object(T.d)("Revoke VIP status from a user","VIPCommandHandler"),handler:this.unVIPUser,helpText:this.unvipUsage(),permissionLevel:ae.b.Broadcaster}),o.createElement(ie.a,{channelLogin:this.props.channelLogin,command:"vips","data-test-selector":we.VIPs,description:Object(T.d)("Display a list of VIPs for this channel","VIPCommandHandler"),handler:this.vips,helpText:Object(T.d)('Usage: "/vips" - Lists the VIPs of this channel.',"VIPCommandHandler"),permissionLevel:ae.b.Viewer}))},t.prototype.getLogin=function(e){var t=this.props.activeChattersAPI;return t&&t.getActiveChatterLoginFromDisplayName(e)||e},t.prototype.getCommonErrorMessage=function(e,t){switch(e){default:return"";case F.Cb.GRANTEE_NOT_FOUND:case F.rc.REVOKEE_NOT_FOUND:return Object(T.d)("Invalid username: {login}.",{login:t},"VIPCommandHandler");case F.Cb.FORBIDDEN:case F.rc.FORBIDDEN:return Object(T.d)("You don't have permission to perform that action.","VIPCommandHandler")}},t.prototype.getVIPErrorMessage=function(e,t){switch(void 0===t&&(t=""),e){case F.Cb.FORBIDDEN:case F.Cb.GRANTEE_NOT_FOUND:return this.getCommonErrorMessage(e,t);case F.Cb.GRANTEE_ALREADY_VIP:return Object(T.d)("{login} is already a VIP of this channel.",{login:t},"VIPCommandHandler");case F.Cb.GRANTEE_CHAT_BANNED:return Object(T.d)("{login} is banned in this channel. You must unban this user before granting VIP status.",{login:t},"VIPCommandHandler");case F.Cb.MAX_VIPS_REACHED:return Object(T.d)("Unable to add VIP. Visit the Achievements page on your dashboard to learn how to unlock additional VIP slots.","VIPCommandHandler");case F.Cb.VIP_ACHIEVEMENT_INCOMPLETE:return Object(T.d)("Unable to add VIP. Visit the Achievements page on your dashboard to learn how to unlock this feature.","VIPCommandHandler");case Ee.QUERY_ERROR:case F.Cb.CHANNEL_NOT_FOUND:default:return Object(T.d)("Unable to add VIP.","VIPCommandHandler")}},t.prototype.getUnVIPErrorMessage=function(e,t){switch(void 0===t&&(t=""),e){case F.rc.FORBIDDEN:case F.rc.REVOKEE_NOT_FOUND:return this.getCommonErrorMessage(e,t);case F.rc.REVOKEE_NOT_VIP:return Object(T.d)("{login} is not a VIP of this channel.",{login:t},"VIPCommandHandler");case Ee.QUERY_ERROR:case F.rc.CHANNEL_NOT_FOUND:default:return Object(T.d)("Unable to remove VIP.","VIPCommandHandler")}},t.prototype.getVIPsErrorMessage=function(){return Object(T.d)("There was a problem fetching the list of VIPs. Please try again.","VIPCommandHandler")},t.prototype.vipUsage=function(){return Object(T.d)('Usage: "/vip <username>" - Grants VIP status to a user. VIPs can bypass chat restrictions. Use "/unvip" to revoke VIP status. Use "/vips" to list the VIPs of this channel.',"VIPCommandHandler")},t.prototype.unvipUsage=function(){return Object(T.d)('Usage: "/unvip <username>" - Revokes VIP status from a user.',"VIPCommandHandler")},t}(o.Component),Fe=Object(c.d)(Object(Me.a)(),Object(Te.a)(),R.a)(je),Re=n("vKai"),Le=n("ilvU"),Ae=n("Tznh"),Ue=n("GHzV"),xe=n("UBeo"),Be=n("jBwP"),Ve=n("xzy9"),He=n("3tQW"),qe=n("SDEh"),Ge=n("Ws8v"),We=n("X2PJ"),ze=n("hnjF"),Qe=n("sUnt"),Ye=n("+80q"),Ke=n("dEDE"),Xe=n("7d/q"),$e=n("C7sF"),Je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={show:!0},t.dismiss=function(){t.setState({show:!1})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){if(!this.state.show)return null;var e=Object(qe.b)()?this.getDesktopHostingUrl():this.getDefaultHostingPath();return o.createElement(Ge.a,{attachTop:!0,attachLeft:!0,attachRight:!0,background:We.a.AccentAlt2,color:We.c.Overlay,position:ze.j.Absolute,className:"hosting-notification",padding:{y:.5,left:.5},"data-a-target":"hosting-notification-container"},o.createElement(Qe.a,{display:ze.d.Flex,padding:1,justifyContent:ze.h.Between,alignItems:ze.b.Center,flexWrap:ze.f.NoWrap},o.createElement(Qe.a,{display:ze.d.Flex,flexWrap:ze.f.NoWrap},o.createElement(Qe.a,{margin:{right:.5},flexShrink:0},o.createElement(Ye.a,null,Object(T.d)("Hosting","ChatHostingNotification"))),o.createElement(Qe.a,{ellipsis:!0,flexShrink:1,margin:{right:.5}},o.createElement(Ye.a,{type:Ye.e.Strong,"data-test-selector":"hosting-notification__text","data-a-target":"hosting-notification-channel-name"},""+this.props.hostedChannelDisplayName))),o.createElement(Qe.a,{display:ze.d.Flex,flexWrap:ze.f.NoWrap,flexShrink:0},o.createElement(Qe.a,{display:ze.d.Inline,padding:{right:.5}},o.createElement(Ke.a,{overlay:!0,type:Ke.d.Secondary,linkTo:{pathname:e,state:{content:"host_channel",medium:"chat_bar_notification"}},size:Ke.b.Small,"data-a-target":"hosting-notification-gotochannel-button"},Object(T.d)("Go to Channel","ChatHostingNotification"))),o.createElement(Xe.a,{onClick:this.dismiss,ariaLabel:Object(T.d)("Close","HostingNotification"),size:Xe.b.Small,overlay:!0,icon:$e.a.Close,"data-a-target":"hosting-notification-close-button"}))))},t.prototype.getDefaultHostingPath=function(){return"/"+this.props.hostedChannelLogin},t.prototype.getDesktopHostingUrl=function(){return this.props.isFullPopoutPlayer?"/popout/"+this.props.hostedChannelLogin+"/desktop-player":this.getDefaultHostingPath()},t}(o.Component),Ze=n("fezU"),et=n("ZtEv"),tt=n("aF6k");var nt=n("lZdE");function it(e){switch(e.type){case et.b.Message:return[{displayName:e.user.userDisplayName,id:e.user.userID,login:e.user.userLogin}];case et.b.Ritual:return[{displayName:e.message.user.userDisplayName,id:e.message.user.userID,login:e.message.user.userLogin}];case et.b.Raid:return[{displayName:e.params.displayName,id:e.params.userID,login:e.params.login}];case et.b.Resubscription:case et.b.Subscription:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username}];case et.b.SubGift:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username},{displayName:e.recipientDisplayName,id:e.recipientID,login:e.recipientLogin}];case et.b.ChannelPointsReward:return[{displayName:e.displayName,id:e.userID,login:e.login}];default:return[]}}var at=function(e){function t(t){var n=e.call(this,t)||this;return n.getActiveChatters=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=1/0),n.isDirty&&n.sortChatters(),!e)return n.sortedChatters.slice(0,t);var i=new RegExp("^"+Object(nt.a)(e),"i");return n.sortedChatters.filter((function(e){return i.test(e.login)||e.displayName&&i.test(e.displayName)})).slice(0,t)},n.handleMessage=function(e){it(e).forEach((function(e){return n.handleActiveChatter({displayName:e.displayName,login:e.login})}))},n.getActiveChatterLoginFromDisplayName=function(e){return Object.keys(n.activeChatters).find((function(t){return n.activeChatters[t]&&n.activeChatters[t].displayName===e}))||null},n.reset(),n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.setActiveChattersAPI({getActiveChatters:this.getActiveChatters,getActiveChatterLoginFromDisplayName:this.getActiveChatterLoginFromDisplayName}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},t.prototype.componentWillUnmount=function(){this.props.setActiveChattersAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage)},t.prototype.render=function(){return null},t.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.reset(),this.props.currentUserLogin&&this.props.currentUserLogin!==e.currentUserLogin&&this.activeChatterLogins.has(this.props.currentUserLogin)&&(this.isDirty=!0,this.removeActiveChatter(this.props.currentUserLogin)),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage))},t.prototype.reset=function(){this.activeChatterLogins=new Set,this.activeChatters={},this.isDirty=!0,this.sortedChatters=[]},t.prototype.handleActiveChatter=function(e){e.login!==this.props.channelLogin&&e.login!==this.props.currentUserLogin&&(this.activeChatterLogins.has(e.login)?(this.activeChatterLogins.delete(e.login),this.addActiveChatter(e)):(this.addActiveChatter(e),this.trimActiveChatters(),this.isDirty=!0))},t.prototype.addActiveChatter=function(e){this.activeChatterLogins.add(e.login),this.activeChatters[e.login]=e},t.prototype.removeActiveChatter=function(e){this.activeChatterLogins.delete(e),delete this.activeChatters[e]},t.prototype.trimActiveChatters=function(){if(!(this.activeChatterLogins.size<=300))for(var e=this.activeChatterLogins.size-300,t=this.activeChatterLogins.values(),n=0;n<e;n++){var i=t.next().value;this.removeActiveChatter(i)}},t.prototype.sortChatters=function(){var e=this,t=[{displayName:this.props.channelDisplayName||void 0,login:this.props.channelLogin}],n=Object.keys(this.activeChatters).map((function(t){return e.activeChatters[t]}));n.sort((function(e,t){return e.login<t.login?-1:e.login>t.login?1:0})),this.sortedChatters=t.concat(n),this.isDirty=!1},t}(o.Component);var rt=Object(c.d)(Object(s.b)((function(e){var t=Object(h.e)(e);return{currentUserLogin:t&&t.login}})),R.a,K.a)(at),ot=n("f00E"),st=n("D7An"),ct=n("kz7j"),lt=n("XmgI"),dt=n("2xye");function ut(e){var t;return((t={})[ae.b.Viewer]="viewer",t[ae.b.Vip]="vip",t[ae.b.Moderator]="moderator",t[ae.b.Broadcaster]="broadcaster",t)[e]}var mt=n("buTd"),pt=n("amaQ"),ht=n("pb7T");function ft(e){return{type:et.b.ChannelPointsReward,id:e.id,displayName:e.userDisplayName,login:e.userLogin,reward:e.reward,message:e.message,userID:e.userID}}var gt=n("TApp");var vt=n("ptRJ");var bt=n("oK83");var kt=n("zwF8"),yt=n("W1jp");function St(e,t){var n=e[t];if(n)return{cost:Object(yt.b)(n),isHighlighted:"CommunityPointsAutomaticReward"===n.__typename&&n.type===F.T.SEND_HIGHLIGHTED_MESSAGE,name:Object(yt.e)(n)}}var Ct=n("oi4T"),Et=n("OpME"),wt=n("XQbB"),_t=function(e){function t(t){var n=e.call(this,t)||this;return n.hasConnected=!1,n.connectingToChatMessage=function(){return Object(T.d)("Connecting to Chat","ChatConnection")},n.sendMessage=function(e){var t=n.props.handleCommand(e,n.props.channelLogin);return t.handled?t.result&&t.result.deferred&&t.result.deferred.then((function(e){var t=e.notice,i=e.error;t&&(n.inChatCommandAutocompleteExperiment&&i?n.handleTrayNotice(t,i):n.addMessage(Object(gt.a)(t))),n.trackChatCommand(i)})):n.client.sendCommand(n.props.channelLogin,e).catch((function(e){T.k.warn("Failed to send message, or message timeout",e)})),t.result},n.onJoinedEvent=function(e){n.logger.debug("Connected",n.props.channelLogin),n.props.latencyTracking.reportInteractive(),n.hasConnected||(Object(Ct.c)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode}),n.hasConnected=!0),n.chatConnected&&n.props.latencyTracking.reportCustomEvent(n.chatConnected),n.props.updateChatConnectionState(i.CONNECTED),n.postMessageToCurrentChannel(e,{type:et.b.Connected,id:Object(tt.a)("connected")}),n.inChatInputRevampExperiment&&n.props.clearModifierTray()},n.onDisconnectedEvent=function(e){var t;n.props.latencyTracking.reportInteractive(),n.props.updateChatConnectionState(i.DISCONNECTED),n.addMessage((t=e.reason,{type:et.b.Disconnected,id:Object(tt.a)("disconnected"),reason:t}))},n.onReconnectingEvent=function(e){n.props.updateChatConnectionState(i.RECONNECTING),n.addMessage({type:et.b.Reconnect,id:Object(tt.a)("reconnect")}),n.inChatInputRevampExperiment&&n.props.setModifierTray({title:n.connectingToChatMessage(),sendButtonOverride:kt.b.NoOverride,persistent:!0,icon:o.createElement(wt.a,{size:wt.b.Small}),disableChat:!0})},n.onHostedEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.from,i=e.isAuto,a=e.viewers,{type:et.b.Hosted,id:Object(tt.a)("hosted-"+t),hostingChannel:t,isAutohost:i,viewerCount:a}));var t,i,a},n.onHostingEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t=e.target,{type:et.b.Hosting,id:Object(tt.a)("hosting"),hostedChannel:t})),n.trackChatCommand()},n.onUnhostEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t=e.channel,{type:et.b.Unhost,id:Object(tt.a)("unhost-"+t)})),n.trackChatCommand()},n.onChatMessageEvent=function(e){n.postMessageToCurrentChannel(e,n.convertMessage(e))},n.onChatActionEvent=function(e){var t=n.props.bitsConfig||lt.a,i=Object(vt.a)(et.c.Action,e.action,e.message.user,t,n.getFilterFlagOptions(e.message.flags));n.postMessageToCurrentChannel(e,i)},n.onChatNoticeEvent=function(e){if(n.inChatCommandAutocompleteExperiment&&et.f.has(e.msgid))n.handleTrayNotice(e.body,e.msgid);else if("msg_rejected"!==e.msgid){var t=(i=e.channel,a=e.msgid,r=e.body,{type:et.b.Notice,id:Object(tt.a)("notice"),channel:i,msgid:a,message:r});n.postMessageToCurrentChannel(e,t)}var i,a,r;et.f.has(e.msgid)&&n.trackChatCommand(e.msgid)},n.onTimeoutEvent=function(e){n.onModerationEvent(et.e.Timeout,e)},n.onBanEvent=function(e){n.onModerationEvent(et.e.Ban,e)},n.onClearMsgEvent=function(e){var t,i,a;n.postMessageToCurrentChannel(e,(t=e.userLogin,i=e.targetMessageID,a=e.body,{type:et.b.Moderation,moderationType:et.e.Delete,id:Object(tt.a)(t+"-mod"),userLogin:t,targetMessageID:i,body:a}))},n.onModerationEvent=function(e,t){var i,a,r,o;n.postMessageToCurrentChannel(t,(i=e,a=t.userLogin,r=t.reason,o=t.duration,{type:et.b.Moderation,moderationType:i,id:Object(tt.a)(a+"-mod"),userLogin:a,reason:r,duration:o}))},n.onSubscriptionEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,methods:e.methods},{type:et.b.Subscription,id:Object(tt.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods}))},n.onSubscriptionGiftEvent=function(e){var t,i=(t={channel:e.channel,user:e.user,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,senderCount:e.senderCount},{type:et.b.SubGift,id:Object(tt.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods,recipientDisplayName:t.recipientDisplayName,recipientID:t.recipientID,recipientLogin:t.recipientLogin,senderCount:t.senderCount});n.postMessageToCurrentChannel(e,i);var a=e.channel.toLowerCase().replace("#","");if(e.recipientID===n.props.currentUserID&&a===n.props.channelLogin)if("control"!==T.p.experiments.getAndTrackAssignment(st.c.ChatPrivateCalloutRedesign)){var r={event:{type:mt.a.ThankSubGifter,gifterDisplayName:i.user.displayName,channelLogin:a},key:i.id};n.props.pushCallout(r)}else n.props.channelID&&n.props.currentUserLogin&&Object(pt.g)({channelID:n.props.channelID,channelLogin:n.props.channelLogin,calloutType:pt.d.CommunitySubGift,privateCalloutSID:Object(ot.c)(),hasCTA:!0})},n.onAnonSubscriptionGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin},{type:et.b.AnonSubGift,id:Object(tt.a)(t.recipientDisplayName+"-sub"),channel:t.channel.slice(1),methods:t.methods,recipientDisplayName:t.recipientDisplayName,recipientID:t.recipientID,recipientLogin:t.recipientLogin}))},n.onSubscriptionMysteryGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,plan:e.plan,massGiftCount:e.massGiftCount,senderCount:e.senderCount},{type:et.b.SubMysteryGift,id:Object(tt.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,plan:t.plan,massGiftCount:t.massGiftCount,senderCount:t.senderCount}))},n.onAnonSubscriptionMysteryGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount},{type:et.b.AnonSubMysteryGift,id:Object(tt.a)(t.massGiftCount+"-sub"),channel:t.channel.slice(1),plan:t.plan,massGiftCount:t.massGiftCount}))},n.onCommunityPayForwardEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous}},{type:et.b.CommunityPayForward,id:Object(tt.a)(t.user.username+"-sub"),user:t.user,channel:t.channel.slice(1),priorGifter:t.priorGifter}))},n.onStandardPayForwardEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous},recipient:{id:e.recipientID,displayName:e.recipientName}},{type:et.b.StandardPayForward,id:Object(tt.a)(t.user.username+"-sub"),user:t.user,channel:t.channel.slice(1),priorGifter:t.priorGifter,recipient:t.recipient}))},n.onBitsCharityEvent=function(e){var t,i,a,r,o,s;n.postMessageToCurrentChannel(e,(t=e.total,i=e.charityName,a=e.daysLeft,r=e.hoursLeft,o=e.hashtag,s=e.learnMore,{type:et.b.BitsCharity,id:Object(tt.a)("charity"),total:t,charityName:i,daysLeft:a,hoursLeft:r,hashtag:o,learnMore:s}))},n.onResubscriptionEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,methods:e.methods,months:e.months,messageBody:e.body,cumulativeMonths:e.cumulativeMonths,shouldShareStreakTenure:e.shouldShareStreakTenure,streakMonths:e.streakMonths},i=void 0,t.messageBody&&(i=Object(vt.a)(et.c.Post,t.messageBody,t.user,lt.a,null)),{type:et.b.Resubscription,id:Object(tt.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods,message:i,months:t.months,cumulativeMonths:t.cumulativeMonths,shouldShareStreakTenure:t.shouldShareStreakTenure,streakMonths:t.streakMonths}))},n.onGiftPaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,senderLogin:e.senderLogin,senderName:e.senderName,user:e.user},{type:et.b.GiftPaidUpgrade,id:Object(tt.a)(t.user.username+"-sub"),channel:t.channel.slice(1),promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,senderLogin:t.senderLogin,senderName:t.senderName,user:t.user}))},n.onAnonGiftPaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,user:e.user},{type:et.b.AnonGiftPaidUpgrade,id:Object(tt.a)(t.user.username+"-sub"),channel:t.channel.slice(1),promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,user:t.user}))},n.onPrimePaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,plan:e.plan,user:e.user},{type:et.b.PrimePaidUpgrade,id:Object(tt.a)(t.user.username+"-sub"),channel:t.channel.slice(1),plan:t.plan,user:t.user}))},n.onPrimeCommunityGiftReceivedEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={giftName:e.giftName,sender:e.sender,receiver:e.receiver,user:e.user},{type:et.b.PrimeCommunityGiftReceivedEvent,id:Object(tt.a)("primecommunitygiftreceived"),giftName:t.giftName,sender:t.sender?t.sender:t.user?t.user.displayName:"",receiver:t.receiver}))},n.onExtendSubscriptionEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,body:e.body,benefitEndMonth:e.benefitEndMonth,user:e.user},{type:et.b.ExtendSubscription,id:Object(tt.a)(t.user.username+"-sub"),channel:t.channel.slice(1),body:t.body,benefitEndMonth:t.benefitEndMonth,user:t.user}))},n.onRoomModsEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.usernames,{type:et.b.RoomMods,id:Object(tt.a)("roommods"),moderatorLogins:t}));var t},n.onRoomStateEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t=e.state,{type:et.b.RoomState,id:Object(tt.a)("roomstate"),state:t})),n.trackChatCommand()},n.onEmoteOnlyModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:et.b.EmoteOnlyMode,id:Object(tt.a)("emoteonlymode"),enabled:t}));var t},n.onSubscriberOnlyModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:et.b.SubscriberOnlyMode,id:Object(tt.a)("subscriber-only"),enabled:t}));var t},n.onR9KModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:et.b.R9KMode,id:Object(tt.a)("r9kmode"),enabled:t}));var t},n.onClearChatEvent=function(e){n.postMessageToCurrentChannel(e,{type:et.b.Clear,id:Object(tt.a)("clear")}),n.trackChatCommand()},n.onRaidEvent=function(e){var t,i,a;n.postMessageToCurrentChannel(e,(t=e.channel,i=e.userLogin,a=e.params,{type:et.b.Raid,id:Object(tt.a)("raid"),channel:t,userLogin:i,params:a})),n.trackChatCommand()},n.onUnraidEvent=function(e){var t,i,a;n.postMessageToCurrentChannel(e,(t=e.channel,i=e.userLogin,a=e.message,{type:et.b.Unraid,id:Object(tt.a)("unraid"),channel:t,userLogin:i,message:a})),n.trackChatCommand()},n.onRitualEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t=e.type,i=n.convertMessage(e),{type:et.b.Ritual,id:Object(tt.a)(i.user.userLogin+"-"+t+"-ritual"),ritualType:t,message:i}))},n.onFirstCheerEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t={message:n.convertMessage(e)},i=t.message,{type:et.b.FirstCheerMessage,id:Object(tt.a)(i.user.userLogin+"-firstcheer"),message:i}))},n.onBitsBadgeTierEvent=function(e){var t,i,a;n.postMessageToCurrentChannel(e,(t=n.convertMessage(e),i=e.threshold,a=e.message.user,{type:et.b.BitsBadgeTierMessage,id:Object(tt.a)("bits-badge-tier"),message:t,threshold:i,user:a}))},n.onBadgesUpdatedEvent=function(e){return n.addMessage((t=e.username,i=e.badges,a=e.badgeDynamicData,{type:et.b.BadgesUpdated,id:Object(tt.a)("updateBadges"),userName:t,badges:i,badgeDynamicData:a}));var t,i,a},n.onPurchaseEvent=function(e){var t=n.props.bitsConfig||lt.a;n.postMessageToCurrentChannel(e,function(e,t,n,i){return{bitsConfig:i,message:t,purchase:e,timestamp:n,id:Object(tt.a)(t.user.userLogin+"-purchase"),type:et.b.Purchase}}(e.purchase,n.convertMessage(e),e.timestamp,t))},n.onCrateEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t=n.convertMessage(e),i=e.selectedCount,{type:et.b.CrateGift,id:Object(tt.a)("crate"),message:t,selectedCount:i}))},n.onRewardGiftEvent=function(e){var t,i,a,r,o,s;n.postMessageToCurrentChannel(e,(t=e.user,i=e.triggerType,a=e.triggerAmount,r=e.selectedCount,o=e.totalRewardCount,s=e.domain,{type:et.b.RewardGift,id:Object(tt.a)("rewardGift"),triggerType:i,triggerAmount:a,selectedCount:r,totalRewardCount:o,messageID:t?t.id:null,userID:t?t.userID:null,userLogin:t?t.username:null,displayName:t?t.displayName:null,domain:s,sourceType:bt.b.chat_message}))},n.onChannelPointsRewardEvent=function(e){var t=n.convertMessage(e);n.postMessageToCurrentChannel(e,ft({id:t.id,message:t,reward:St(n.props.rewardMap,e.rewardID),userDisplayName:t.user.userDisplayName,userID:t.user.userID,userLogin:t.user.userLogin}))},n.convertMessage=function(e){var t=n.props.bitsConfig||lt.a;return Object(vt.a)(et.c.Post,e.message.body,e.message.user,t,n.getFilterFlagOptions(e.message.flags))},n.handleTrayNotice=function(e,t){var i;switch(t){case"unrecognized_cmd":i=Object(T.d)("Unrecognized Command","ChatConnection");break;case"missing_parameters":i=Object(T.d)("Missing Parameters","ChatConnection");break;default:i=Object(T.d)("Invalid Parameters","ChatConnection")}var a,r=n.props.prevCommand;"unrecognized_cmd"!==t&&r&&(a="/"+r.command+" "),n.props.setModifierTray({title:i,body:e,timeout:3e4,icon:o.createElement(ht.a,null),inputValue:a,type:kt.a.CommandWarning})},n.logger=T.k.withCategory("chat-service"),n.logger.debug("Created"),n.service=T.p.tmi,n.client=T.p.tmi.client,n.disabled=T.p.tmi.disabled,n.inChatInputRevampExperiment="variant1"===T.p.experiments.getAndTrackAssignment(st.c.ChatInputRevamp),n.inChatCommandAutocompleteExperiment="variant1"===T.p.experiments.getAndTrackAssignment(st.c.ChatCommandAutocomplete),n.registerCustomLatencyEvents(),n}return Object(a.__extends)(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){this.props.setChatConnectionAPI({sendMessage:this.sendMessage}),this.shouldConnectOnMount()?(this.inChatInputRevampExperiment&&this.props.setModifierTray({title:this.connectingToChatMessage(),sendButtonOverride:kt.b.NoOverride,persistent:!0,icon:o.createElement(wt.a,{size:wt.b.Small}),disableChat:!0}),this.join(this.props.channelLogin)):this.props.latencyTracking.reportInteractive(),this.props.emoteSets&&this.client.updateEmoteMap(Object(Et.c)(this.props.emoteSets)),null===this.props.channelID&&this.skipLatencyMeasurements()},t.prototype.componentWillUnmount=function(){this.props.setChatConnectionAPI(),this.disconnect(this.props.channelLogin)},t.prototype.componentDidUpdate=function(e){(null===this.props.channelID&&this.props.channelID!==e.channelID&&this.skipLatencyMeasurements(),this.props.emoteSets&&this.props.emoteSets!==e.emoteSets&&this.client.updateEmoteMap(Object(Et.c)(this.props.emoteSets)),!this.props.shouldConnect&&e.shouldConnect)?this.disconnect(e.channelLogin):(this.props.authToken!==e.authToken||this.props.channelLogin!==e.channelLogin||this.props.currentUserID!==e.currentUserID||this.props.shouldConnect&&!e.shouldConnect)&&(this.logger.debug("Reconnecting..."),this.registerCustomLatencyEvents(),this.join(this.props.channelLogin))},t.prototype.join=function(e){this.logger.debug("Joining channel and binding all event listeners",this.props.channelLogin),this.hasConnected=!1,this.joinedChannel&&this.joinedChannel!==e&&this.service.part(this.joinedChannel),this.joinedChannel=e,this.connectHandlers(),this.service.join(e)},t.prototype.disconnect=function(e){this.logger.debug("Parting channel and unbinding all event listeners",e),this.disconnectHandlers(),this.service.part(e)},t.prototype.getFilterFlagOptions=function(e){return e&&0!==e.length?this.props.chatFilterExperimentMembership===Ae.b.Excluded||!this.props.viewerChatFilterEnabled||this.props.isCurrentUserModerator?null:{list:e,preferences:this.props.viewerChatFilterSettings}:null},t.prototype.connectHandlers=function(){this.disconnectHandlers(),this.client.events.joined(this.onJoinedEvent),this.client.events.disconnected(this.onDisconnectedEvent),this.client.events.reconnecting(this.onReconnectingEvent),this.client.events.chat(this.onChatMessageEvent),this.client.events.usernotice(this.onChatMessageEvent),this.client.events.notice(this.onChatNoticeEvent),this.client.events.action(this.onChatActionEvent),this.client.events.badgesupdated(this.onBadgesUpdatedEvent),this.client.events.hosted(this.onHostedEvent),this.client.events.hosting(this.onHostingEvent),this.client.events.unhost(this.onUnhostEvent),this.client.events.purchase(this.onPurchaseEvent),this.client.events.crate(this.onCrateEvent),this.client.events.rewardgift(this.onRewardGiftEvent),this.client.events.ritual(this.onRitualEvent),this.client.events.firstcheer(this.onFirstCheerEvent),this.client.events.bitsbadgetier(this.onBitsBadgeTierEvent),this.client.events.channelpointsreward(this.onChannelPointsRewardEvent),this.client.events.subscription(this.onSubscriptionEvent),this.client.events.resub(this.onResubscriptionEvent),this.client.events.giftpaidupgrade(this.onGiftPaidUpgradeEvent),this.client.events.anongiftpaidupgrade(this.onAnonGiftPaidUpgradeEvent),this.client.events.primepaidupgrade(this.onPrimePaidUpgradeEvent),this.client.events.extendsub(this.onExtendSubscriptionEvent),this.client.events.subgift(this.onSubscriptionGiftEvent),this.client.events.anonsubgift(this.onAnonSubscriptionGiftEvent),this.client.events.submysterygift(this.onSubscriptionMysteryGiftEvent),this.client.events.anonsubmysterygift(this.onAnonSubscriptionMysteryGiftEvent),this.client.events.communitypayforward(this.onCommunityPayForwardEvent),this.client.events.standardpayforward(this.onStandardPayForwardEvent),this.client.events.timeout(this.onTimeoutEvent),this.client.events.ban(this.onBanEvent),this.client.events.clearchat(this.onClearChatEvent),this.client.events.clearmsg(this.onClearMsgEvent),this.client.events.raid(this.onRaidEvent),this.client.events.unraid(this.onUnraidEvent),this.client.events.mods(this.onRoomModsEvent),this.client.events.roomstate(this.onRoomStateEvent),this.client.events.subscribers(this.onSubscriberOnlyModeEvent),this.client.events.emoteonlymode(this.onEmoteOnlyModeEvent),this.client.events.r9kmode(this.onR9KModeEvent),this.client.events.charity(this.onBitsCharityEvent),this.client.events.primecommunitygiftreceived(this.onPrimeCommunityGiftReceivedEvent)},t.prototype.disconnectHandlers=function(){this.client.events.remove("joined",this.onJoinedEvent),this.client.events.remove("disconnected",this.onDisconnectedEvent),this.client.events.remove("reconnecting",this.onReconnectingEvent),this.client.events.remove("chat",this.onChatMessageEvent),this.client.events.remove("usernotice",this.onChatMessageEvent),this.client.events.remove("notice",this.onChatNoticeEvent),this.client.events.remove("action",this.onChatActionEvent),this.client.events.remove("badgesupdated",this.onBadgesUpdatedEvent),this.client.events.remove("hosted",this.onHostedEvent),this.client.events.remove("hosting",this.onHostingEvent),this.client.events.remove("unhost",this.onUnhostEvent),this.client.events.remove("purchase",this.onPurchaseEvent),this.client.events.remove("crate",this.onCrateEvent),this.client.events.remove("rewardgift",this.onRewardGiftEvent),this.client.events.remove("ritual",this.onRitualEvent),this.client.events.remove("firstcheer",this.onFirstCheerEvent),this.client.events.remove("bitsbadgetier",this.onBitsBadgeTierEvent),this.client.events.remove("channelpointsreward",this.onChannelPointsRewardEvent),this.client.events.remove("subscription",this.onSubscriptionEvent),this.client.events.remove("resub",this.onResubscriptionEvent),this.client.events.remove("subgift",this.onSubscriptionGiftEvent),this.client.events.remove("submysterygift",this.onSubscriptionMysteryGiftEvent),this.client.events.remove("communitypayforward",this.onCommunityPayForwardEvent),this.client.events.remove("standardpayforward",this.onStandardPayForwardEvent),this.client.events.remove("timeout",this.onTimeoutEvent),this.client.events.remove("ban",this.onBanEvent),this.client.events.remove("clearchat",this.onClearChatEvent),this.client.events.remove("raid",this.onRaidEvent),this.client.events.remove("unraid",this.onUnraidEvent),this.client.events.remove("mods",this.onRoomModsEvent),this.client.events.remove("roomstate",this.onRoomStateEvent),this.client.events.remove("subscribers",this.onSubscriberOnlyModeEvent),this.client.events.remove("emoteonlymode",this.onEmoteOnlyModeEvent),this.client.events.remove("r9kmode",this.onR9KModeEvent),this.client.events.remove("charity",this.onBitsCharityEvent)},t.prototype.postMessageToCurrentChannel=function(e,t){e.channel.toLowerCase().replace("#","")===this.props.channelLogin.toLowerCase()&&this.addMessage(t)},t.prototype.addMessage=function(e){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.handleMessage(e)},t.prototype.shouldConnectOnMount=function(){return this.props.shouldConnect&&!this.disabled},t.prototype.registerCustomLatencyEvents=function(){this.logger.debug("Registering custom latency events"),this.props.latencyTracking.resetCustomEvents(ct.a.Chat),this.chatInitialized=this.registerInitEvent(),this.props.latencyTracking.reportCustomEvent(this.chatInitialized),this.shouldConnectOnMount()&&(this.chatConnected=this.registerConnectedEvent())},t.prototype.registerInitEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:3e3,group:ct.a.Chat,key:ct.b.ChatInit,label:ct.c.Init})},t.prototype.registerConnectedEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:ct.a.Chat,key:ct.b.ChatConnected,label:ct.c.Connected})},t.prototype.skipLatencyMeasurements=function(){this.props.latencyTracking.resetCustomEvents(ct.a.Chat),this.props.latencyTracking.reportInteractive()},t.prototype.trackChatCommand=function(e){var t,n,i,a=this.props.prevCommand;if(a){if(e)n={channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,body:a.message,errorType:e},i={user_id:n.userID||"",channel_id:n.channelID||"",user_type:ut(n.userType),body:n.body,error_type:(t=n.errorType,"unrecognized_cmd"===t?ae.a.UnrecognizedCommand:et.f.has(t)?ae.a.InvalidParameters:t)},T.o.track(dt.SpadeEventType.ChatCommandClientFail,i);else this.props.getCommands(this.props.commandPermissionLevel).map((function(e){return e.name})).includes(a.command)&&function(e){var t,n={user_id:e.userID||"",channel_id:e.channelID||"",user_type:ut(e.userType),chat_command:e.chatCommand,args:(t=e.args,t.trim().split(/\s+/))};T.o.track(dt.SpadeEventType.ChatCommandClientSuccess,n)}({channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,chatCommand:a.command,args:a.args});this.props.clearPrevCommand()}},t}(o.Component);var Nt=Object(c.d)(Object(s.b)((function(e){var t=Object(h.e)(e);return{authToken:Object(h.a)(e),currentUserLogin:t&&t.login,currentUserID:t&&t.id,viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled,viewerChatFilterSettings:e.chat.viewerChatFilterSettings}})),Object(D.withLatencyTracking)("ChatConnectionService"),x,K.a,Object(Ae.d)((function(e){return e})),Object(g.b)((function(e){return{getCommands:e.getCommands,handleCommand:e.handleCommand,prevCommand:e.prevCommand,clearPrevCommand:e.clearPrevCommand}})),Object(_.b)((function(e){return{setModifierTray:function(t){return e.setModifierTray(t)},clearModifierTray:e.clearModifierTray}})),Object(v.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})),E((function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}})),Object(f.b)((function(e){return{bitsConfig:e.bitsConfig}})),Object(be.a)((function(e){return{rewardMap:e.rewardMap}})))(_t);var Ot,Dt=n("olXY"),It=n("HGFl"),Mt=n("NAv5");function Tt(e,t){var n=Object(Mt.addSeconds)(e,t);return Math.max(0,Object(Mt.differenceInSeconds)(n,new Date))}!function(e){e.Banned="msg_banned",e.Timedout="msg_timedout",e.Ratelimit="msg_ratelimit",e.Duplicate="msg_duplicate",e.Subsonly="msg_subsonly",e.EmoteOnly="msg_emoteonly",e.VerifiedEmail="msg_verified_email",e.Slowmode="msg_slowmode",e.Facebook="msg_facebook",e.BlizzardConnect="msg_blizzard",e.R9k="msg_r9k",e.Followers="msg_followersonly",e.FollowersZero="msg_followersonly_zero",e.FollowersFollowed="msg_followersonly_followed",e.ChannelSuspended="msg_channel_suspended",e.Suspended="msg_suspended",e.BadCharacters="msg_bad_characters"}(Ot||(Ot={}));var Pt,jt=n("nIRf"),Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reasons=[],t.updateHandlers=[],t.followTimerRunning=!1,t.slowModeTimerRunning=!1,t.followSecondsRemaining=0,t.slowSecondsRemaining=0,t.lastMessageSentAt=new Date(0),t.getRestrictions=function(){return 0===t.reasons.length?null:t.reasons},t.updateRestrictionState=function(){var e;if(!t.props.data||!t.props.data.channel)return!1;var n=((e={})[F.H.SUBSCRIBERS_ONLY]=t.shouldEnforceSubsOnly(),e[F.H.VERIFIED_ONLY]=t.shouldEnforceVerifiedOnly(),e[F.H.FOLLOWERS_ONLY]=t.shouldEnforceFollowersOnly(),e[F.H.SLOW_MODE]=t.shouldEnforceSlowMode(),e),i=[],a=t.extractReasons(t.props);if(a)for(var r=0,o=a;r<o.length;r++){var s=o[r];if(n[s])if(s===F.H.VERIFIED_ONLY)t.props.data.currentUser&&t.props.data.currentUser.isEmailVerified||i.push(s);else if(s===F.H.FOLLOWERS_ONLY){if(null!==t.getFollowedTime()){if(0===t.props.followerDurationSeconds)continue;if(t.props.followerDurationSeconds>0&&t.followSecondsRemaining<=0)continue}i.push(s)}else s===F.H.SLOW_MODE?t.slowSecondsRemaining>0&&i.push(s):i.push(s)}return t.reasons=i,!0},t.getRemainingFollowSeconds=function(){return!!t.getFollowedTime()?Math.min(t.followSecondsRemaining,t.props.followerDurationSeconds):null},t.getRemainingSlowModeSeconds=function(){return t.slowSecondsRemaining},t.addUpdateHandler=function(e){-1===t.updateHandlers.indexOf(e)&&(t.updateHandlers=t.updateHandlers.concat(e))},t.removeUpdateHandler=function(e){t.updateHandlers=t.updateHandlers.filter((function(t){return t!==e}))},t.updateState=function(){var e=t.updateSlowState();return e=t.updateFollowState()||e,(e=t.updateRestrictionState()||e)&&t.notifyHandlers(),e},t.updateFollowState=function(){var e=t.getFollowedTime(),n=t.followSecondsRemaining,i=n;return e&&(i=Tt(e,t.props.followerDurationSeconds),t.followSecondsRemaining=i),t.followTimerRunning&&(null===e||t.followSecondsRemaining<=0||!t.props.followerMode)?(t.stopFollowTimer(),!0):!t.followTimerRunning&&t.props.followerMode&&t.props.followerDuration>0&&e&&0!==e.getTime()?(t.startFollowTimer(),!0):i!==n},t.updateSlowState=function(){if(t.props.data&&t.props.data.channel&&t.props.data.channel.self&&t.props.data.channel.self.lastRecentChatMessageAt){var e=Object(It.e)(t.props.data.channel.self.lastRecentChatMessageAt);e>t.lastMessageSentAt&&(t.lastMessageSentAt=e)}var n=(new Date).getTime()/1e3,i=t.lastMessageSentAt.getTime()/1e3+t.props.slowModeDuration,a=t.slowSecondsRemaining;return t.slowSecondsRemaining=Math.round(Math.max(i-n,0)),t.slowModeTimerRunning&&(t.slowSecondsRemaining<=0||!t.props.slowMode||!t.shouldEnforceSlowMode())?(t.stopSlowTimer(),!0):t.slowSecondsRemaining>0&&a<=0?(t.startSlowTimer(),!0):t.slowSecondsRemaining!==a},t.notifyHandlers=function(){t.updateHandlers.forEach((function(e){return e()}))},t.onChatEvent=function(e){var n=new Date(0);switch(e.type){case et.b.Message:e.user.userID===t.props.currentUserID&&(n=new Date(e.timestamp));break;case et.b.Notice:Object.values(Ot).includes(e.msgid)&&(t.stopSlowTimer(),t.updateRestrictionState(),t.notifyHandlers())}n>t.lastMessageSentAt&&(t.lastMessageSentAt=n,t.updateSlowState()&&(t.updateRestrictionState(),t.notifyHandlers()))},t.startFollowTimer=function(){var e=t.getFollowedTime(),n=t.props.followerDurationSeconds;null===e||n<=0||!t.shouldEnforceFollowersOnly()||(t.followSecondsRemaining=Tt(e,n),t.followTimerRunning=!0,t.countdownTimer.start())},t.stopFollowTimer=function(){t.followTimerRunning=!1,t.followSecondsRemaining=0,t.slowModeTimerRunning||t.countdownTimer.stop()},t.startSlowTimer=function(){t.shouldEnforceSlowMode()&&(t.slowModeTimerRunning=!0,t.countdownTimer.start())},t.stopSlowTimer=function(){t.slowModeTimerRunning=!1,t.slowSecondsRemaining=0,t.lastMessageSentAt=new Date(0),t.followTimerRunning||t.countdownTimer.stop()},t.tick=function(){t.updateState()},t.getFollowedTime=function(){return t.props.data&&t.props.data.channel&&t.props.data.channel.self&&t.props.data.channel.self.follower&&t.props.data.channel.self.follower.followedAt?Object(It.e)(t.props.data.channel.self.follower.followedAt):null},t.extractReasons=function(e){return e.data&&e.data.channel&&e.data.channel.self&&e.data.channel.self.chatRestrictedReasons?e.data.channel.self.chatRestrictedReasons:null},t.extractRequireVerified=function(e){return!!(e.data&&e.data.channel&&e.data.channel.chatSettings)&&e.data.channel.chatSettings.requireVerifiedAccount},t.restrictionIncluded=function(e){var n=t.extractReasons(t.props);return!!n&&-1!==n.indexOf(e)},t.shouldEnforceSubsOnly=function(){return t.props.subsOnlyMode&&t.restrictionIncluded(F.H.SUBSCRIBERS_ONLY)},t.shouldEnforceVerifiedOnly=function(){return!(!t.extractRequireVerified(t.props)||!t.restrictionIncluded(F.H.VERIFIED_ONLY))},t.shouldEnforceFollowersOnly=function(){return t.props.followerMode&&t.restrictionIncluded(F.H.FOLLOWERS_ONLY)},t.shouldEnforceSlowMode=function(){return t.props.slowMode&&t.restrictionIncluded(F.H.SLOW_MODE)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=!1;this.props.setChatRestrictionsAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getRestrictions:this.getRestrictions,getRemainingFollowSeconds:this.getRemainingFollowSeconds,getRemainingSlowModeSeconds:this.getRemainingSlowModeSeconds}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent),this.countdownTimer=new jt.a({onInterval:this.tick,intervalMillis:1e3}),this.shouldEnforceFollowersOnly()&&(this.props.followerDuration>0&&this.startFollowTimer(),e=!0),(this.shouldEnforceSubsOnly()||this.shouldEnforceVerifiedOnly())&&(e=!0),this.props.data&&this.props.data.channel&&this.props.data.channel.self&&this.props.data.channel.self.lastRecentChatMessageAt&&(this.lastMessageSentAt=Object(It.e)(this.props.data.channel.self.lastRecentChatMessageAt)),this.shouldEnforceSlowMode()&&(e=this.updateSlowState()||e),e&&this.updateState()},t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.stopFollowTimer(),this.stopSlowTimer(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.setChatRestrictionsAPI()},t.prototype.componentDidUpdate=function(e){var t=!1,n=!1;n=this.needsStateUpdate(e)||n,n=this.updateSlowState()||n,n=this.updateFollowState()||n,this.slowModeTimerRunning&&e.slowModeDuration!==this.props.slowModeDuration&&(this.stopSlowTimer(),n=!0),e.pubsub.messages.subscriptionInfo!==this.props.pubsub.messages.subscriptionInfo&&(n=!0,t=!0),e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions&&(t=!0),t&&this.props.data&&this.props.data.refetch(),n&&(this.updateRestrictionState(),this.notifyHandlers()),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},t.prototype.needsStateUpdate=function(e){if((!e.data||e.data.loading)&&this.props.data&&!this.props.data.loading)return!0;var t=this.extractReasons(e),n=this.extractReasons(this.props);if(!t&&n||t&&!n)return!0;if(t&&n&&(t.length!==n.length||t.every((function(e,t){return e===n[t]}))))return!0;if(e.subsOnlyMode!==this.props.subsOnlyMode||e.followerMode!==this.props.followerMode)return!0;if(e.followerDuration!==this.props.followerDuration)return!0;if(this.extractRequireVerified(e)!==this.extractRequireVerified(this.props))return!0;if(e.data&&this.props.data){var i=e.data,a=this.props.data;if(i.currentUser&&a.currentUser&&i.currentUser.isEmailVerified!==a.currentUser.isEmailVerified)return!0;if(a.channel&&a.channel.self){var r=a.channel.self,o=new Date(0),s=!1,c=!(!r.follower||!r.follower.followedAt);if(i.channel&&i.channel.self&&i.channel.self.follower&&i.channel.self.follower.followedAt&&(o=Object(It.e)(i.channel.self.follower.followedAt),s=!0),s&&!c)return!0;if(c){var l=new Date(0);if(r.follower&&r.follower.followedAt&&(l=Object(It.e)(r.follower.followedAt)),o.getTime()!==l.getTime())return!0}}}return!1},t}(o.Component);function Rt(e){return!e.data||e.data.loading||!e.data.channel||!e.data.channel.id||!e.currentUserID}var Lt=Object(c.d)(Object(s.b)((function(e){var t=Object(h.e)(e);return{currentUserID:t&&t.id,isStaff:!!(t&&t.roles&&t.roles.isStaff)}})),W,K.a,Object(l.a)(Dt,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(d.a)([{topic:function(e){return Object(p.T)(e.currentUserID||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:Rt},{topic:function(e){return Object(p.z)(e.currentUserID||"",e.data&&e.data.channel&&e.data.channel.id||"")},mapMessageTypesToProps:(Pt={},Pt[m.PubsubMessageType.ModeratorAdded]="moderatorActions",Pt[m.PubsubMessageType.ModeratorRemoved]="moderatorActions",Pt),skip:Rt,skipMessage:function(e,t){var n=e;return!t.data.currentUser||n.data.target_user_id!==t.data.currentUser.id}}]),Object(u.a)((function(e){return{query:Dt,variables:{channelLogin:e.channelLogin},topic:Object(p.S)(e.currentUserID||""),type:m.PubsubMessageType.UserPropertiesUpdate,skip:Rt(e),mutator:function(e,t){return t&&t.currentUser?void 0===e.changed.email_verified?t:r(t,(function(e){return e.currentUser.isEmailVerified}),(function(){return e.changed.email_verified})):t}}})),Object(u.a)((function(e){return{query:Dt,variables:{channelLogin:e.channelLogin},topic:Object(p.u)(e.currentUserID||""),types:[m.PubsubMessageType.UserFollowedEvent,m.PubsubMessageType.UserUnfollowedEvent],skip:Rt(e),mutator:function(e,t){if(!t||!t.channel||!t.channel.self)return t;if(function(e){return e.type===m.PubsubMessageType.UserFollowedEvent}(e))return e.target_user_id!==t.channel.id?t:t.channel.self.follower?r(t,(function(e){return e.channel.self.follower.followedAt}),(function(){return e.timestamp})):r(t,(function(e){return e.channel.self.follower}),(function(){return{__typename:"FollowerEdge",followedAt:e.timestamp}}));if(function(e){return e.type===m.PubsubMessageType.UserUnfollowedEvent}(e)){if(e.target_user_id!==t.channel.id)return t;if(t.channel.self.follower)return r(t,(function(e){return e.channel.self.follower.followedAt}),(function(){return null}))}return t}}})),Object(Be.b)((function(e){return{followerDuration:e.followerDuration,followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}})))(Ft),At=n("lw3P"),Ut=n("nkgB"),xt=n("KGti"),Bt=n("RcPG"),Vt=1e3,Ht=150,qt=40,Gt=200,Wt=function(e){function t(t){var n=e.call(this,t)||this;return n.slidingWindowEnd=0,n.paused=!1,n.delayedMessageBuffer=[],n.updateHandlers=[],n.handleMessage=function(e){var t=!1;if(n.messageIncludesBlockedUser(e)){if(!n.props.shouldSeeBlockedAndDeletedMessages)return;e.type===et.b.Message&&(e.hidden=!0)}switch(e.type){case et.b.Message:n.uncountedMessages++;var i=e.messageParts[0];if(i&&i.type===Bt.a.Text&&i.content.startsWith(":act "))return;t=!n.isOwnMessage(e);break;case et.b.ChannelPointsReward:case et.b.Resubscription:t=!!e.message&&!n.isOwnMessage(e.message);break;case et.b.ModerationAction:if(e.level===xt.a.User&&e.targetUserLogin&&e.targetUserLogin===n.props.currentUserLogin)break;if(!n.props.isCurrentUserModerator)return;if(e.level===xt.a.User&&(e.moderationActionType===m.ModerationActions.Ban||e.moderationActionType===m.ModerationActions.Timeout||e.moderationActionType===m.ModerationActions.Delete)){var a=e.moderationActionType,r=e.targetUserLogin,o=e.createdByLogin,s=e.messageID;if(n.moderatedUsers.has(r))return;var c=[n.buffer,n.delayedMessageBuffer.map((function(e){return e.event}))];a===m.ModerationActions.Delete?c.forEach((function(e){e.some((function(e){var t=n.markUserEventDeleted(e,void 0,s);return!!t&&(t.deletedCount=1,t.modLogin=o,t.modActionType=a,!0)}))})):n.moderateBuffers(c,r,e);break}break;case et.b.Moderation:if(n.props.isCurrentUserModerator)break;var l=e.moderationType,d=e.userLogin;if(n.moderatedUsers.has(d))return;var u=[n.buffer,n.delayedMessageBuffer.map((function(e){return e.event}))];if(l===et.e.Delete){var p=e.targetMessageID;u.forEach((function(e){e.some((function(e){var t=n.markUserEventDeleted(e,void 0,p);return!!t&&(t.deletedCount=1,!0)}))}))}else n.moderateBuffers(u,d);break;case et.b.Disconnected:return;case et.b.Reconnect:if(n.buffer.find((function(t){return t.id===e.id}))||n.delayedMessageBuffer.find((function(t){return t.event.id===e.id})))return;break;case et.b.Clear:n.clear();break;case et.b.AutoMod:switch(e.autoModType){case et.a.MessageModApproved:case et.a.MessageModDenied:return void[n.buffer,n.delayedMessageBuffer.map((function(e){return e.event}))].forEach((function(t){t.some((function(t){return!(t.type!==et.b.AutoMod||t.autoModType!==et.a.MessageRejectedPrompt||!t.rejectedMessage||t.rejectedMessage.id!==e.msg_id)&&(t.rejectedMessage.deleted=!0,!0)}))}))}}n.delayedMessageBuffer.push({event:e,time:Date.now(),shouldDelay:t})},n.getMessages=function(){return n.buffer.slice(0,n.slidingWindowEnd)},n.unsetModeratedUser=function(e){return function(){n.moderatedUsers.delete(e)}},n.isOwnMessage=function(e){var t=e.user;return!(!n.props.currentUserLogin||!t||t.userLogin!==n.props.currentUserLogin)},n.addUpdateHandler=function(e){-1===n.updateHandlers.indexOf(e)&&(n.updateHandlers=n.updateHandlers.concat(e))},n.removeUpdateHandler=function(e){n.updateHandlers=n.updateHandlers.filter((function(t){return t!==e}))},n.setPaused=function(e){n.paused!==e&&(n.paused=e,e||(n.slidingWindowEnd=Math.min(n.buffer.length,Ht)),n.props.isBackground||n.notifySubscribers())},n.isPaused=function(){return n.paused},n.hasNewerLeft=function(){return n.slidingWindowEnd<n.buffer.length},n.loadNewer=function(){if(n.hasNewerLeft()){var e=Math.min(n.buffer.length,n.slidingWindowEnd+qt),t=Math.max(0,e-Ht);n.clear(n.buffer.length-t),n.slidingWindowEnd=e-t,n.props.isBackground||n.notifySubscribers()}},n.loadNewest=function(){n.hasNewerLeft()&&(n.clear(Ht),n.slidingWindowEnd=Math.min(Ht,n.buffer.length),n.props.isBackground||n.notifySubscribers())},n.delayedMessageBuffer=[],n.buffer=[],n.moderatedUsers=new Set,n.blockedUsers=new Set(n.props.blockedUsers),n.unhideUsers=new Set,n.flushInterval=setInterval((function(){return n.flushRawMessages()}),Gt),n.uncountedMessages=0,n.chatRateMeasurements=[],n.chatRateMeasurementInterval=setInterval((function(){return n.measureChatRate()}),Vt),n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.setMessageBufferAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getMessages:this.getMessages,isPaused:this.isPaused,setPaused:this.setPaused,hasNewerLeft:this.hasNewerLeft,loadNewer:this.loadNewer,loadNewest:this.loadNewest}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},t.prototype.componentWillUnmount=function(){this.props.setMessageBufferAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage),clearInterval(this.flushInterval),clearInterval(this.chatRateMeasurementInterval)},t.prototype.render=function(){return null},t.prototype.componentDidUpdate=function(e){e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)),this.props.blockedUsers!==e.blockedUsers&&(this.blockedUsers=new Set(this.props.blockedUsers)),this.props.unhideIgnoredUsers!==e.unhideIgnoredUsers&&(this.unhideUsers=new Set(this.props.unhideIgnoredUsers)),e.isBackground&&!this.props.isBackground&&(this.chatRate>5&&this.clear(20),this.notifySubscribers())},t.prototype.messageIncludesBlockedUser=function(e){for(var t=0,n=it(e);t<n.length;t++){var i=n[t];if(this.blockedUsers.has(i.id)&&!this.unhideUsers.has(i.id))return!0}return!1},t.prototype.clear=function(e){if(void 0===e&&(e=0),e<=0)return this.buffer=[],this.delayedMessageBuffer=[],void(this.paused=!1);this.paused&&this.buffer.length>=900&&this.setPaused(!1),this.buffer=this.buffer.slice(-e)},t.prototype.isDeletable=function(e){return void 0!==e.deleted},t.prototype.markUserEventDeleted=function(e,t,n){var i=null;switch(e.type){case et.b.Message:i=e;break;case et.b.ChannelPointsReward:case et.b.Resubscription:case et.b.Ritual:i=e.message||null;break;default:return null}if(!i||i.deleted)return null;return Boolean(t&&i.user&&t===i.user.userLogin&&i.messageParts)||Boolean(n&&i.id===n)?(i.deleted=!0,i):null},t.prototype.moderateBuffers=function(e,t,n){var i=this,a=e.reduce((function(e,a){return a.reduce((function(e,a){var r=i.markUserEventDeleted(a,t);if(r){if(r.banned=!0,n){var o=n.moderationActionType,s=n.createdByLogin,c=n.duration;r.modLogin=s,r.modActionType=o,r.duration=c}return{lastDeletedMessage:r,deletedCount:e.deletedCount+1}}return e}),e)}),{deletedCount:0}),r=a.lastDeletedMessage,o=a.deletedCount;r&&(r.deletedCount=o),this.moderatedUsers.add(t),setTimeout(this.unsetModeratedUser(t),1e3)},t.prototype.flushRawMessages=function(){var e=this,t=[],n=Date.now(),i=!1,a=0,r=this.slidingWindowEnd,o=this.hasNewerLeft(),s=this.isPaused();this.delayedMessageBuffer.forEach((function(o){var s=o.event,c=o.time,l=o.shouldDelay;c<=n-e.delayDuration||!l?!e.props.shouldSeeBlockedAndDeletedMessages&&e.isDeletable(s)&&s.deleted||(e.buffer.push(s),i=!0,e.buffer.length>Ht&&!e.paused&&a++,e.buffer.length<=Ht&&!e.paused&&r++):t.push({event:s,time:c,shouldDelay:l})})),this.delayedMessageBuffer=t,i&&(this.clear(Math.min(900,this.buffer.length-a)),0===a&&r===this.slidingWindowEnd&&o===this.hasNewerLeft()&&s===this.isPaused()||(this.slidingWindowEnd=r,this.props.isBackground||this.notifySubscribers()))},t.prototype.measureChatRate=function(){3===this.chatRateMeasurements.length&&this.chatRateMeasurements.shift(),this.chatRateMeasurements.push(this.uncountedMessages),this.uncountedMessages=0},Object.defineProperty(t.prototype,"chatRate",{get:function(){return 0===this.chatRateMeasurements.length?0:this.chatRateMeasurements.reduce((function(e,t){return e+t}))/this.chatRateMeasurements.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayDuration",{get:function(){return this.props.isCurrentUserModerator?0:this.props.data.user&&this.props.data.user.chatSettings&&this.props.data.user.chatSettings.chatDelayMs||0},enumerable:!0,configurable:!0}),t.prototype.notifySubscribers=function(){this.updateHandlers.forEach((function(e){return e()}))},t}(o.Component);var zt=Object(c.d)(Object(s.b)((function(e){var t=Object(h.e)(e);return{authToken:Object(h.a)(e),currentUserLogin:t&&t.login,isLoggedIn:Object(h.f)(e)}})),Object(l.a)(Ut,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(At.a)(),Y,K.a)(Wt),Qt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageHandlers=[],t.addMessageHandler=function(e){-1===t.messageHandlers.indexOf(e)&&(t.messageHandlers=t.messageHandlers.concat(e))},t.removeMessageHandler=function(e){t.messageHandlers=t.messageHandlers.filter((function(t){return t!==e}))},t.handleMessage=function(e){for(var n=t.messageHandlers.length,i=0;i<n;i++)t.messageHandlers[i](e)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.setMessageHandlerAPI({addMessageHandler:this.addMessageHandler,removeMessageHandler:this.removeMessageHandler,handleMessage:this.handleMessage})},t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.props.setMessageHandlerAPI()},t}(o.Component),Yt=Object(c.d)(K.a)(Qt),Kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribe=function(e){t.unsubscribe(),e.channelID&&e.currentUserID&&(t.unsubscriber=T.l.subscribe({topic:Object(p.z)(e.currentUserID,e.channelID),onMessage:t.handleMessage}))},t.unsubscribe=function(){t.unsubscriber&&(t.unsubscriber(),t.unsubscriber=null)},t.handleMessage=function(e){switch(e.data.moderation_action){case m.ModerationActions.AutoModRejected:var n=Object(xt.j)(e.data.msg_id,e.data.args[1],e.data.args[0],e.data.args[2]);t.addMessage(n);break;case m.ModerationActions.AutoModCheerRejected:var i=Object(xt.c)(e.data.msg_id,e.data.args[1],e.data.args[0],e.data.args[2],e.data.target_user_id);t.addMessage(i);break;case m.ModerationActions.ApprovedAutoModMessage:t.addMessage(Object(xt.g)(e));break;case m.ModerationActions.DeniedAutoModMessage:t.addMessage(Object(xt.h)(e));break;case m.TargetedModerationActions.AutoModMessageRejected:t.addMessage(Object(xt.i)());break;case m.TargetedModerationActions.AutoModMessageApproved:t.addMessage(Object(xt.e)());break;case m.TargetedModerationActions.AutoModMessageDenied:t.addMessage(Object(xt.f)());break;case m.TargetedModerationActions.AutoModCheerDenied:t.addMessage(Object(xt.b)());break;case m.TargetedModerationActions.AutoModCheerTimeout:t.addMessage(Object(xt.d)());break;case m.ModerationActions.Ban:t.addMessage(Object(xt.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,e.data.args[1]));break;case m.ModerationActions.Delete:t.addMessage(Object(xt.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,void 0,e.data.args[1],e.data.args[2]));break;case m.TargetedModerationActions.DeleteNotification:t.addMessage(Object(xt.l)(m.TargetedModerationActions.DeleteNotification,e.data.target_user_id,e.data.args[0],e.data.msg_id));break;case m.ModerationActions.Unban:case m.ModerationActions.Timeout:case m.ModerationActions.Untimeout:t.addMessage(Object(xt.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],e.data.args[1],e.data.args[2]));break;case m.ModerationActions.Mod:case m.ModerationActions.Unmod:t.addMessage(Object(xt.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.target_user_login));break;case m.ModerationActions.AutoModEnabled:case m.ModerationActions.Clear:case m.ModerationActions.EmoteOnly:case m.ModerationActions.EmoteOnlyOff:case m.ModerationActions.FollowersOnly:case m.ModerationActions.FollowersOnlyOff:case m.ModerationActions.Host:case m.ModerationActions.R9kBeta:case m.ModerationActions.R9kBetaOff:case m.ModerationActions.Raid:case m.ModerationActions.Slow:case m.ModerationActions.SlowOff:case m.ModerationActions.SubsBeta:case m.ModerationActions.SubscribersOnly:case m.ModerationActions.SubscribersOnlyOff:case m.ModerationActions.Unhost:case m.ModerationActions.AddBlockedTerm:case m.ModerationActions.AddPermittedTerm:case m.ModerationActions.DeleteBlockedTerm:case m.ModerationActions.DeletePermittedTerm:case m.ModerationActions.ModifiedAutoModProperties:case m.ModerationActions.Unraid:t.addMessage(Object(xt.k)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args));break;default:T.k.warn("Unknown moderation action type",e.data.moderation_action)}},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe(this.props)},t.prototype.componentDidUpdate=function(e){this.props.channelID===e.channelID&&this.props.currentUserID===e.currentUserID||this.subscribe(this.props)},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){return null},t.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):T.k.warn("ModerationActionService received an event before the MessageHandlerAPI was available.")},t}(o.Component);var Xt=Object(c.d)(Object(s.b)((function(e){var t=Object(h.e)(e);return{currentUserID:t&&t.id}})),K.a)(Kt),$t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unsubscribe=function(){t.unsubscriber&&(t.unsubscriber(),t.unsubscriber=null)},t.handleMessage=function(e){if(e.type===m.PubsubMessageType.CommunityPointsRedeemed&&!e.data.redemption.user_input){var n=ft({id:e.data.redemption.id,reward:St(t.props.rewardMap,e.data.redemption.reward.id),userDisplayName:e.data.redemption.user.display_name,userID:e.data.redemption.user.id,userLogin:e.data.redemption.user.login});t.addMessage(n)}},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentDidUpdate=function(e){this.props.channelID!==e.channelID&&this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){return null},t.prototype.subscribe=function(){this.unsubscribe(),this.props.channelID&&(this.unsubscriber=T.l.subscribe({topic:Object(p.p)(this.props.channelID),onMessage:this.handleMessage}))},t.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):T.k.warn("RewardEventHandler received an event before the MessageHandlerAPI was available.")},t}(o.Component),Jt=Object(K.a)($t),Zt=n("ZaoE"),en=n("xahZ"),tn=n("8wAl");var nn=n("VaVM"),an=n("A4cy"),rn=n("OOag"),on=n("geRD"),sn=n("IQZc"),cn=n("g+79"),ln=n("B30r"),dn=n("ApRi"),un=n("nAiT");function mn(e){var t=e.message?Object(ln.c)(e.errorCode):Object(ln.b)();e.setTrayError(t)}var pn=n("gb2O");function hn(e){var t=e.message?Object(ln.c)(e.errorCode):Object(ln.b)();e.setTrayError(t)}var fn=n("OUdD"),gn=n("fwSA"),vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRewardCenterOpen:!1,rewardCenterState:{type:nn.a.ListRewards},transactionID:Object(ot.c)()},t.closeRewardCenter=function(){setTimeout((function(){t.setState({isRewardCenterOpen:!1,rewardCenterState:{type:nn.a.ListRewards}})}),0)},t.openEarnRatesList=function(){var e=t.getViewerType();Object(ye.i)(ye.a.RewardSelectionPane,e,t.props.channelID||"",t.props.channelLogin),t.openRewardCenterToState({type:nn.a.EarnRates})},t.openReward=function(e){if(e){var n=t.checkRewardEligibility(e),i=null;if(n)if(i=Object(ot.c)(),t.setState({transactionID:i}),"CommunityPointsAutomaticReward"===e.__typename)switch(e.type){case F.T.SEND_HIGHLIGHTED_MESSAGE:t.openHighlightedMesssageReward(e,i);break;case F.T.SINGLE_MESSAGE_BYPASS_SUB_MODE:t.openSubsOnlyMessageReward(e,i);break;case F.T.CHOSEN_SUB_EMOTE_UNLOCK:t.openRewardCenterToState({type:nn.a.UnlockChosenSubscriberEmote,reward:e});break;case F.T.RANDOM_SUB_EMOTE_UNLOCK:t.openRewardCenterToState({type:nn.a.UnlockRandomEmote,reward:e});break;case F.T.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:t.openRewardCenterToState({type:nn.a.ModifyEmote,reward:e})}else t.openCustomReward(e,i);Object(ye.g)({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,isUserEligible:n,reward:e,transactionID:i,userBalance:t.props.balance,viewTrackingID:t.state.viewTrackingID||""})}else t.openRewardCenterToState({type:nn.a.ListRewards})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(fn.a.Provider,{value:Object(a.__assign)(Object(a.__assign)({},this.state),{closeRewardCenter:this.closeRewardCenter,openReward:this.openReward,openEarnRatesList:this.openEarnRatesList})},this.props.children)},t.prototype.openRewardCenterToState=function(e){if(!this.state.isRewardCenterOpen){var t=Object(ot.c)();this.setState({viewTrackingID:t}),e.type===nn.a.ListRewards&&Object(ye.k)(this.props.channelLogin,this.props.channelID||"",t)}this.setState({isRewardCenterOpen:!0,rewardCenterState:e})},t.prototype.checkRewardEligibility=function(e){var t=Object(an.a)(e,{isUserSubscribed:this.isCurrentUserSubscribed,isChannelSubsOnlyMode:this.props.subsOnlyMode});return this.props.currentUserID?"CommunityPointsAutomaticReward"!==e.__typename||t.nonSubOnlyReward?Object(yt.b)(e)>this.props.balance&&!Object(yt.f)(e)?(this.openRewardCenterToState({type:nn.a.NotEnoughPoints,reward:e}),!1):"CommunityPointsCustomReward"!==e.__typename||t.subOnlyReward?!("CommunityPointsAutomaticReward"===e.__typename&&!t.subsModeRequiredReward)||(this.openRewardCenterToState({type:nn.a.NotSubOnlyMode,reward:e}),!1):(this.openRewardCenterToState({type:nn.a.NotSubbed,reward:e}),!1):(this.openRewardCenterToState({type:nn.a.AlreadySubbed,reward:e}),!1):(this.openRewardCenterToState({type:nn.a.NotLoggedIn,reward:e}),!1)},t.prototype.openHighlightedMesssageReward=function(e,t){this.props.channelID&&(this.props.setTray(function(e){var t=this;return{icon:o.createElement(cn.a,{data:e.reward,size:cn.b.ExtraSmall}),title:Object(yt.e)(e.reward),body:o.createElement(sn.a,{onRequirementsChange:function(t){return t?e.setTrayError(Object(un.e)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},reward:e.reward},o.createElement(Ye.a,null,Object(yt.c)(e.reward))),pointsCost:Object(yt.b)(e.reward),sendButtonOverride:kt.b.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:kt.c.Custom,handleMessage:function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return n.trim()?[4,T.p.apollo.client.mutate(Object(a.__assign)({mutation:dn},Object(on.a)({channelID:e.channelID,cost:Object(yt.b)(e.reward),message:n,transactionID:e.transactionID})))]:(mn(e),[2,!1]);case 1:return(t=i.sent()).data&&t.data.sendHighlightedChatMessage&&!t.data.sendHighlightedChatMessage.error?(e.clearTray(),Object(ye.h)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(mn(Object(a.__assign)(Object(a.__assign)({},e),{errorCode:t.data&&t.data.sendHighlightedChatMessage&&t.data.sendHighlightedChatMessage.error&&t.data.sendHighlightedChatMessage.error.code||F.Ac.UNKNOWN,message:n})),[2,!1])}}))}))}}}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:t,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},t.prototype.openSubsOnlyMessageReward=function(e,t){this.props.channelID&&(this.props.setTray(function(e){var t=this;return{ignoredRestrictions:new Set([F.H.SUBSCRIBERS_ONLY]),icon:o.createElement(cn.a,{data:e.reward,size:cn.b.ExtraSmall}),title:Object(yt.e)(e.reward),body:o.createElement(sn.a,{onRequirementsChange:function(t){return t?e.setTrayError(Object(un.e)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},reward:e.reward},o.createElement(Ye.a,null,Object(yt.c)(e.reward))),pointsCost:Object(yt.b)(e.reward),sendButtonOverride:kt.b.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:kt.c.Custom,handleMessage:function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return n.trim()?[4,T.p.apollo.client.mutate(Object(a.__assign)({mutation:pn},Object(on.a)({channelID:e.channelID,cost:Object(yt.b)(e.reward),message:n,transactionID:e.transactionID})))]:(hn(e),[2,!1]);case 1:return(t=i.sent()).data&&t.data.sendChatMessageThroughSubscriberMode&&!t.data.sendChatMessageThroughSubscriberMode.error?(e.clearTray(),Object(ye.h)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(hn(Object(a.__assign)(Object(a.__assign)({},e),{errorCode:t.data&&t.data.sendChatMessageThroughSubscriberMode&&t.data.sendChatMessageThroughSubscriberMode.error&&t.data.sendChatMessageThroughSubscriberMode.error.code||void 0,message:n})),[2,!1])}}))}))}}}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:t,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},t.prototype.openCustomReward=function(e,t){if(e.isUserInputRequired){if(!this.props.channelID)return;this.props.setTray(Object(rn.a)({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:t,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter()}else this.openRewardCenterToState({type:nn.a.CustomReward,reward:e})},t.prototype.getViewerType=function(){return this.props.channelID===this.props.currentUserID?ye.e.Broadcaster:this.isModerator?ye.e.Moderator:ye.e.Viewer},Object.defineProperty(t.prototype,"isCurrentUserSubscribed",{get:function(){return this.props.data.community&&this.props.data.community.self&&!!this.props.data.community.self.subscriptionBenefit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isModerator",{get:function(){return this.props.data.community&&this.props.data.community.self&&this.props.data.community.self.isModerator},enumerable:!0,configurable:!0}),t}(o.Component);var bn=Object(c.d)(Object(l.a)(gn,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(_.b)((function(e){return{clearTray:e.clearTray,clearTrayError:e.clearTrayError,setTray:e.setTray,setTrayError:e.setTrayError}})),Object(Be.b)((function(e){return{subsOnlyMode:e.subsOnlyMode}})))(vn),kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.rewardMap;return o.createElement(Zt.a.Provider,{value:{activeMultipliers:this.activeMultipliers,automaticRewards:this.automaticRewards,balance:this.balance,channelID:this.props.data.community&&this.props.data.community.id,customRewards:this.customRewards,channelLogin:this.props.channelLogin,displayName:this.props.data.community&&this.props.data.community.displayName,emoteVariants:this.emoteVariants,isChannelPointsEnabled:this.isChannelPointsEnabled,isChannelPointsFeatureFlagOn:!0,isCurrentUserModerator:!!(this.props.data.community&&this.props.data.community.self&&this.props.data.community.self.isModerator),isLoaded:!!this.props.data.community,pointIcon:this.pointIcon,pointName:this.pointName,raidPointAmount:this.raidPointAmount,earning:this.earning,rewardMap:e}},o.createElement(Jt,{channelID:this.props.data.community&&this.props.data.community.id,rewardMap:e}),o.createElement(bn,{balance:this.balance,channelDisplayName:this.props.data.community&&this.props.data.community.displayName,channelID:this.props.data.community&&this.props.data.community.id,channelLogin:this.props.channelLogin,currentUserID:this.props.currentUserID},this.props.children))},Object.defineProperty(t.prototype,"activeMultipliers",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.self&&e.community.channel.self.communityPoints&&e.community.channel.self.communityPoints.activeMultipliers?e.community.channel.self.communityPoints.activeMultipliers:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"automaticRewards",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.automaticRewards?e.community.channel.communityPointsSettings.automaticRewards:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balance",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.self&&e.community.channel.self.communityPoints?e.community.channel.self.communityPoints.canRedeemRewardsForFree?1/0:e.community.channel.self.communityPoints.balance:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customRewards",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?e.community.channel.communityPointsSettings.customRewards:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isChannelPointsEnabled",{get:function(){var e=this.props.data;return!!(e.community&&e.community.channel&&e.community.channel.communityPointsSettings)&&e.community.channel.communityPointsSettings.isEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIcon",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.image:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointName",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raidPointAmount",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.raidPointAmount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rewardMap",{get:function(){for(var e={},t=0,n=this.automaticRewards;t<n.length;t++){var i=n[t];e[i.id]=i}for(var a=0,r=this.customRewards;a<r.length;a++){var o=r[a];e[o.id]=o}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteVariants",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.emoteVariants?e.community.channel.communityPointsSettings.emoteVariants:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"earning",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.earning?e.community.channel.communityPointsSettings.earning:null},enumerable:!0,configurable:!0}),t}(o.Component);var yn=Object(c.d)(Object(s.b)((function(e){var t=Object(h.e)(e);return{currentUserID:t&&t.id}})),Object(l.a)(en,{options:function(e){return{variables:{channelLogin:e.channelLogin},fetchPolicy:"cache-and-network"}}}),Object(u.a)((function(e){return{query:en,variables:{channelLogin:e.channelLogin},skip:!e.data.community,topic:Object(p.p)(""+(e.data.community&&e.data.community.id)),types:[m.PubsubMessageType.CommunityPointsAutomaticRewardUpdated,m.PubsubMessageType.CommunityPointsCustomRewardCreated,m.PubsubMessageType.CommunityPointsCustomRewardDeleted,m.PubsubMessageType.CommunityPointsCustomRewardUpdated,m.PubsubMessageType.CommunityPointsSettings],mutator:function(e,t){switch(e.type){case m.PubsubMessageType.CommunityPointsSettings:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?r(e,(function(e){return e.community.channel.communityPointsSettings}),(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{image:t.data.settings.image?Object(tn.c)(t.data.settings.image):null,isEnabled:t.data.settings.is_enabled,name:t.data.settings.name})})):e}(t,e);case m.PubsubMessageType.CommunityPointsAutomaticRewardUpdated:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.automaticRewards?r(e,(function(e){return e.community.channel.communityPointsSettings.automaticRewards}),(function(e){return e.map((function(e){return e.type!==t.data.updated_reward.reward_type?e:Object(a.__assign)(Object(a.__assign)({},e),Object(tn.a)(t.data.updated_reward))}))})):e}(t,e);case m.PubsubMessageType.CommunityPointsCustomRewardCreated:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?r(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return Object(a.__spreadArrays)(e,[Object(tn.b)(t.data.new_reward)])})):e}(t,e);case m.PubsubMessageType.CommunityPointsCustomRewardDeleted:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?r(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==t.data.deleted_reward.id?e:Object(a.__assign)(Object(a.__assign)({},e),{isEnabled:!1})}))})):e}(t,e);case m.PubsubMessageType.CommunityPointsCustomRewardUpdated:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?r(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==t.data.updated_reward.id?e:Object(a.__assign)(Object(a.__assign)({},e),Object(tn.b)(t.data.updated_reward))}))})):e}(t,e);default:return t}}}})),Object(u.a)((function(e){return{query:en,variables:{channelLogin:e.channelLogin},topic:Object(p.q)(""+e.currentUserID),skip:!e.data.community||!e.currentUserID,types:[m.PubsubMessageType.CommunityPointsMultipliersUpdated],mutator:function(t,n){if(!e.data.community||t.data.active_multipliers&&e.data.community.id!==t.data.active_multipliers.channel_id||!n.community||!n.community.channel||!n.community.channel.self)return n;var i=[];return t.data.active_multipliers&&(i=t.data.active_multipliers.multipliers.map((function(e){return{__typename:"CommunityPointsMultiplier",reasonCode:e.reason_code,factor:e.factor}}))),n.community.channel.self.communityPoints?r(n,(function(e){return e.community.channel.self.communityPoints.activeMultipliers}),(function(){return i})):r(n,(function(e){return e.community.channel.self.communityPoints}),(function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:0,activeMultipliers:i,canRedeemRewardsForFree:!1}}))}}})),Object(u.a)((function(e){return{query:en,variables:{channelLogin:e.channelLogin},topic:Object(p.q)(""+e.currentUserID),skip:!e.data.community||!e.currentUserID,types:[m.PubsubMessageType.CommunityPointsEarned,m.PubsubMessageType.CommunityPointsSpent],mutator:function(t,n){if(!e.data.community||t.data.balance&&e.data.community.id!==t.data.balance.channel_id||!n.community||!n.community.channel||!n.community.channel.self)return n;var i=t.data.balance.balance;return n.community.channel.self.communityPoints?r(n,(function(e){return e.community.channel.self.communityPoints.balance}),(function(){return i})):r(n,(function(e){return e.community.channel.self.communityPoints}),(function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:i,activeMultipliers:null,canRedeemRewardsForFree:!1}}))}}})))(kn),Sn=function(e){return Object(ve.c)("copo_enabled")?o.createElement(yn,Object(a.__assign)({},e)):o.createElement(o.Fragment,null,e.children)},Cn=n("Awl1"),En=n("Owek"),wn=n("TSYQ"),_n=n("Ty5D"),Nn=n("6j5V"),On=n("uIkQ"),Dn=n("5zXJ"),In=n("ZVTe"),Mn=n("cys1"),Tn=function(e){return o.createElement(Ge.a,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:ze.d.Block,flexDirection:ze.e.Column},o.createElement(Qe.a,{padding:{bottom:.5}},o.createElement(Ye.a,{color:We.c.Alt2},Object(T.d)("<x:strong>Anonymous Cheering</x:strong> only supports the anonymous Cheermote. Your Cheer will be modified to appear as shown below.",{"x:strong":function(e){return o.createElement(Ye.a,{type:Ye.e.Span,color:We.c.Link,bold:!0},e)}},"InvalidAnonymousCheerPrompt")),o.createElement(Qe.a,{margin:{y:1}},o.createElement(On.b,{badgeSets:e.badgeSets,badgesToRender:{"anonymous-cheerer":"1"}}),o.createElement(In.a,{userData:{isIntl:!1,userDisplayName:Dn.c,userID:Dn.e,userLogin:Dn.d,userType:"global_mod"}}),": ",Object(Mn.f)(e.messageParts))),o.createElement(Qe.a,{display:ze.d.Flex,flexDirection:ze.e.Row},o.createElement(Ke.a,{onClick:e.onCheerAnyway},Object(T.d)("Continue","InvalidAnonymousCheerPrompt")),o.createElement(Qe.a,{padding:{left:.5}},o.createElement(Ke.a,{onClick:e.onEditCheer,type:Ke.d.Secondary},Object(T.d)("Edit","InvalidAnonymousCheerPrompt")))))},Pn=n("4rCz"),jn=n("IArS"),Fn=n("7uM4"),Rn=(n("e7rh"),function(e){return o.createElement(Ge.a,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:ze.d.Block,flexDirection:ze.e.Column},o.createElement(Qe.a,{padding:{bottom:.5}},o.createElement(On.b,{badgeSets:e.badgeSets,badgesToRender:{twitchbot:"1"}}),o.createElement(In.a,{userData:{color:jn.b,isIntl:!1,userDisplayName:"AutoMod",userID:"automod",userLogin:"automod",userType:"global_mod"}}),o.createElement(Ye.a,{type:Ye.e.Span,color:We.c.Alt2},Object(Pn.d)(": Your text may be removed by moderation. Bits will still be sent to the streamer. Review the highlighted text or continue below.","BitsAutoModOffenderPrompt"))),o.createElement(Qe.a,{display:ze.d.Flex,flexDirection:ze.e.Row},o.createElement(Qe.a,{padding:{right:.5}},o.createElement(Ke.a,{onClick:e.onEditCheer},o.createElement(Qe.a,{padding:{x:2}},Object(Pn.d)("Edit","BitsAutoModOffender")))),o.createElement(Ke.a,{onClick:e.onCheerAnyway,type:Ke.d.Secondary},Object(Pn.d)("Cheer Anyway","BitsAutoModOffender")),o.createElement(Qe.a,{className:"bits-auto-mod-offender-prompt__notification-icon",display:ze.d.Flex,flexDirection:ze.e.Column,justifyContent:ze.h.End,alignSelf:ze.c.End,margin:{left:"auto",right:.5}},o.createElement(Fn.a,{asset:$e.a.NotificationWarning}))))}),Ln=j.a.wrap((function(){return Promise.all([n.e(0),n.e(54)]).then(n.bind(null,"qFtv"))}),"ChannelLeaderboard",{placeholder:null}),An=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cheerIsTall:!1,recentCheerID:null,recentCheerExpireTime:null,pcheersV2Enabled:!1},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(Ln,{channelID:this.props.channelID,userID:this.props.userID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin})},t}(o.Component);var Un,xn=Object(s.b)((function(e){var t=Object(h.e)(e);return{isStaff:t&&t.roles&&t.roles.isStaff}}))(An),Bn=n("H31v"),Vn=n("uGUt"),Hn=n("u5aL"),qn=n("cw0r"),Gn=n("8Ad5"),Wn=n("5zf8"),zn=n("oe5X"),Qn=n("1/iK"),Yn=n("y5D0"),Kn=n("okS7"),Xn=n("uhBA"),$n=n("TqpA"),Jn=n("jv9u"),Zn=new Xn,ei=j.a.wrap((function(){return Promise.all([n.e(0),n.e(49)]).then(n.bind(null,"ry0r"))}),"BitsCard",{placeholder:null,onRendered:function(){return Zn.emit("bits_card_loaded")}}),ti=function(e){var t=Object(o.useState)(!1),n=t[0],i=t[1];return Object(o.useEffect)((function(){e.eventEmitter.once("bits_card_loaded",(function(){return i(!0)}))}),[e.eventEmitter]),o.createElement(o.Fragment,null,e.visible&&!n&&o.createElement($n.a,{onUserClose:e.onUserClose},o.createElement(Jn.a,null)),o.createElement(ei,Object(a.__assign)({},e)))},ni=function(e){return o.createElement(ti,Object(a.__assign)({},e,{eventEmitter:Zn}))},ii=ei.Preload,ai=n("lZCe"),ri=n("IZXT"),oi=n("GuJR"),si=n("SaoI");n("NgDb");!function(e){e.NotifIcon="gem-notification-icon"}(Un||(Un={}));var ci="target",li=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={targetNotificationID:""},t.onClick=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:if(this.props.onClick(),T.p.experiments.getAndTrackAssignment(st.c.BitsGemNotification)!==ci||!this.state.targetNotificationID)return[2];if(e={notificationID:this.state.targetNotificationID},!(this.props.data&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.bitsGemNotifications))return[2];if(!(t=this.props.data.user.self.bitsGemNotifications.find((function(t){return t.id===e.notificationID}))))return[2];n={checkGemNotification:{__typename:"CheckGemNotificationPayload",updatedNotification:Object(a.__assign)(Object(a.__assign)({__typename:"BitsGemNotification"},t),{isChecked:!0})}},i=Object(on.b)(e,n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.markGemNotificationAsChecked(i)];case 2:return o.sent(),this.setState({targetNotificationID:""}),[3,4];case 3:return r=o.sent(),Object(ri.d)()?T.k.warn("[BitsChatIconButton] Failed to clear gem notification"):T.k.errorAndReport(r,"[BitsChatIconButton] Failed to clear gem notification"),[3,4];case 4:return[2]}}))}))},t}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.data,i=T.p.experiments.getAndTrackAssignment(st.c.BitsGemNotification);if(!n||n.loading||!n.user||!n.user.self||!n.user.self.bitsGemNotifications)return null;if(n.user.self.bitsGemNotifications.length>0){var a=n.user.self.bitsGemNotifications.find((function(e){return!e.isChecked}));if(!t.targetNotificationID&&a)return i===ci&&e.onGemNotification(!0),{targetNotificationID:a.id};if(t.targetNotificationID&&!a)return e.onGemNotification(!1),{targetNotificationID:""}}return null},t.prototype.render=function(){if(Object(qe.c)())return null;var e=this.state.targetNotificationID?o.createElement("span",{className:"gem-notif-icon__body","data-test-selector":Un.NotifIcon}):null;return o.createElement(Qe.a,{position:ze.j.Relative,display:ze.d.Inline},o.createElement(Xe.a,{icon:$e.a.Bits,ariaLabel:Object(T.d)("Bits","ChatInput"),type:Xe.c.Secondary,onClick:this.onClick,"data-a-target":"bits-button"}),o.createElement(Qe.a,{position:ze.j.Absolute,className:"gem-notif-icon"},o.createElement(ai.a,{name:st.c.BitsGemNotification,assignments:{fallback:function(){return null},target:function(){return e}}})))},t}(o.Component),di=Object(c.d)(Object(l.a)(oi,{skip:function(e){return!e.channelID||Object(qe.c)()||T.p.experiments.getAndTrackAssignment(st.c.BitsGemNotification)!==ci},options:function(e){return{variables:{channelID:e.channelID||""}}}}),Object(l.a)(si,{name:"markGemNotificationAsChecked"}),Object(u.a)((function(e){return{query:oi,topic:e.data&&e.data.currentUser?Object(p.Q)(e.data.currentUser.id):"",type:m.PubsubMessageType.UserBitsGemNotification,skip:!e.data||e.data.loading||!!e.data.error||!e.data.user||!e.data.currentUser,variables:{channelID:e.channelID},mutator:function(e,t){return t&&t.user&&t.user.self&&t.user.self.bitsGemNotifications&&e.message_type===Bn.b.BitsGemNotification?t=r(t,(function(e){return e.user.self.bitsGemNotifications}),(function(t){return t.map((function(t){return t.id===e.data.id?Object(a.__assign)(Object(a.__assign)({},t),{isChecked:e.data.checked}):t}))})):t}}})))(li),ui=n("uu1w"),mi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=ui.a.Hashtag,t.canBeTriggeredByTab=!1,t.getMatches=function(e){return e.startsWith("#")&&null!==t.props.hashTags.edges?t.props.hashTags.edges.filter((function(t){return t.node.id.includes(e)})).map((function(n){return{current:e,replacement:n.node.id,element:t.genearateHashtagDisplay(n.node.id)}})):null},t.genearateHashtagDisplay=function(e){return o.createElement(Qe.a,{padding:{right:.5},key:"hashtag:"+e},o.createElement(Ye.a,null,e))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t}(o.Component),pi=Object(Kn.g)((function(e){return e}))(mi),hi=n("ebRM"),fi=n("RiD7"),gi=n("tFCv"),vi=n("QVaV"),bi=5,ki=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=ui.a.Mention,t.canBeTriggeredByTab=!0,t.getMatches=function(e,n){return n||e.startsWith("@")?t.getMentions(e,n):null},t.getMentions=function(e,n){if(!t.props.activeChattersAPI)return[];var i=n?e:e.substring(1);return t.props.activeChattersAPI.getActiveChatters(i,bi).map((function(i){return{current:e,replacement:(n?"":"@")+(i.displayName||i.login),element:t.renderMention(i)}}))},t.renderMention=function(e){return o.createElement(Qe.a,{padding:.5},Object(vi.a)(e.login,e.displayName||null))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t}(o.Component),yi=Object(c.d)(Object(Kn.g)((function(e){return e})),R.a)(ki),Si=n("WytW"),Ci=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=ui.a.Command,t.canBeTriggeredByTab=!1,t.getMatches=function(e,n,i){return 0===i&&e.startsWith("/")?t.getCommands(e):null},t.getCommands=function(e){var n=t.props.getCommands(t.props.permissionLevel);if(!n||0===n.length)return null;var i=e.substring(1),a=n.filter((function(e){return t.doesCommandMatchTerm(e,i)}));return a.sort(t.sortCommands),a.map((function(e){return{current:"/"+i,replacement:t.determineReplacement(e),element:t.renderCommandSuggestion(e,i),group:t.determineGroup(e),selection:Object(Si.m)(e)}}))},t.doesCommandMatchTerm=function(e,t){var n=new RegExp("^"+Object(nt.a)(t.toLowerCase()),"i");return e.name.match(n)},t.renderCommandSuggestion=function(e,t){var n=t.length,i=null;return e.commandArgs&&(i=e.commandArgs.map((function(t,n){return o.createElement(Qe.a,{key:e.name+"-arg-"+n,margin:{right:.5}},o.createElement(Ye.a,{type:Ye.e.Span},"["+t.name+"]"))}))),o.createElement(Qe.a,{padding:.5},o.createElement(Qe.a,{display:ze.d.Flex},o.createElement(Qe.a,{margin:{right:.5}},o.createElement(Ye.a,{type:Ye.e.Span},"/"+t),o.createElement(Ye.a,{type:Ye.e.Span,bold:!0},e.name.substring(n))),i),o.createElement(Ye.a,{color:We.c.Alt2,fontSize:We.d.Size7},e.description))},t.sortCommands=function(e,n){var i=t.getPriorityLevel(e.permissionLevel),a=t.getPriorityLevel(n.permissionLevel);if(i===a){var r=t.trimStart(e.name),o=t.trimStart(n.name);return r.localeCompare(o)}return a-i},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t.prototype.determineReplacement=function(e){var t=Object(Si.m)(e);return t?"/"+e.name+" "+t:"/"+e.name},t.prototype.determineGroup=function(e){if(this.props.permissionLevel!==ae.b.Viewer&&this.props.permissionLevel!==ae.b.Vip)return e.permissionLevel===ae.b.Moderator||e.permissionLevel===ae.b.Broadcaster?"channel management":"twitch"},t.prototype.getPriorityLevel=function(e){return e===ae.b.Viewer||e===ae.b.Vip?0:1},t.prototype.trimStart=function(e){return e.startsWith("un")&&!e.startsWith("unique")?e.substring(2):e},t}(o.Component);var Ei,wi=Object(c.d)(Object(Kn.g)((function(e){return e})),Object(g.b)((function(e){return{getCommands:e.getCommands}})))(Ci),_i=n("HH5h"),Ni=(n("HECQ"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickConfirm=function(){t.markRoomSeen(),T.o.track(dt.SpadeEventType.ChatRulesAccepted,{channel_id:t.props.channelID,channel_login:t.props.channelLogin}),t.props.onCloseChatRules()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){T.o.track(dt.SpadeEventType.ChatRulesViewed,{channel_login:this.props.channelLogin,channel_id:this.props.channelID})},t.prototype.render=function(){return o.createElement(Ge.a,{fullWidth:!0,position:ze.j.Absolute,zIndex:ze.o.Above,attachBottom:!0,attachLeft:!0},o.createElement(Ge.a,{background:We.a.Base,attachBottom:!0,borderRadius:We.b.Large,display:ze.d.Block,elevation:3,className:"chat-rules-container",padding:.5},o.createElement(Qe.a,{position:ze.j.Relative,display:ze.d.Flex,flexDirection:ze.e.Row,alignItems:ze.b.Start,padding:1},o.createElement(Qe.a,{textAlign:ze.l.Left,display:ze.d.Flex,flexDirection:ze.e.Row,alignItems:ze.b.Center},o.createElement(Qe.a,{padding:{right:1}},o.createElement(_i.a,{userLogin:this.props.channelLogin,alt:this.props.channelDisplayName?this.props.channelDisplayName:"",size:40,src:this.props.channelProfileImageUrl})),o.createElement(Qe.a,{display:ze.d.Flex,flexDirection:ze.e.Column},o.createElement(Qe.a,null,o.createElement(Ye.a,{"data-test-selector":"chat-rules-display-name",color:We.c.Alt2},this.props.channelDisplayName)),o.createElement(Qe.a,null,o.createElement(Ye.a,{fontWeight:We.e.SemiBold,transform:Ye.d.Uppercase,type:Ye.e.H4},Object(T.d)("Chat Rules","ChatInputRevampChatRules"))))),o.createElement(Qe.a,{attachRight:!0,attachTop:!0,position:ze.j.Absolute,margin:{top:.5,right:.5}},o.createElement(Xe.a,{"data-test-selector":"chat-rules-close-button",ariaLabel:Object(T.d)("Close","ChatInputRevampChatRules"),type:Xe.c.Secondary,icon:$e.a.Close,onClick:this.props.onCloseChatRules}))),o.createElement(Qe.a,{padding:.5},o.createElement(Qe.a,{"data-test-selector":"chat-rules-list",padding:{x:1,bottom:1}},o.createElement("ul",null,this.props.chatRules&&this.props.chatRules.map((function(e,t){return o.createElement("li",{key:t},e)})))),o.createElement(Qe.a,{display:ze.d.Flex,justifyContent:ze.h.Center},o.createElement(Ke.a,{"data-test-selector":"chat-rules-ok-button",fullWidth:!0,size:Ke.b.Large,onClick:this.onClickConfirm},o.createElement(Ye.a,{fontSize:We.d.Size5},Object(T.d)("Okay, Got It!","ChatRules")))))))},t.prototype.markRoomSeen=function(){var e=T.m.get("chat_rules_shown",{});this.props.channelLogin&&(e[this.props.channelLogin]=!0,T.m.set("chat_rules_shown",e))},t}(o.Component)),Oi=n("9MrB");n("ZuCe");!function(e){e.AUTOMOD="automod",e.ANONYMOUS_CHEERING="anonymous-cheering",e.UNKNOWN="unknown"}(Ei||(Ei={}));var Di,Ii=function(e){var t=e.moderatedReason,n=void 0===t?Ei.UNKNOWN:t,i=e.moderatedMessageParts,a=wn("moderated-message-fake-input__container",n);return o.createElement(Ge.a,{position:ze.j.Relative,borderRadius:We.b.Medium,className:a},o.createElement(Ge.a,{className:"moderated-message-fake-input__content",display:ze.d.Block,overflow:ze.i.Auto,color:We.c.Alt,background:We.a.Alt,fullWidth:!0},o.createElement(We.f,{padding:{y:.5,left:1},fullHeight:!0},o.createElement("div",{style:{paddingRight:"6rem"}},Object(Mn.f)(i)))),o.createElement(Ge.a,{position:ze.j.Absolute,display:ze.d.Flex,flexDirection:ze.e.Row,attachRight:!0,attachTop:!0},o.createElement(Qe.a,{display:ze.d.InlineFlex,alignItems:ze.b.Center,className:"moderated-message-fake-input__icon",padding:.5},o.createElement(Fn.a,{asset:$e.a.Bits,type:Fn.b.Inherit})),o.createElement(Qe.a,{display:ze.d.InlineFlex,alignItems:ze.b.Center,className:"moderated-message-fake-input__icon",padding:.5},o.createElement(Fn.a,{asset:$e.a.Emoticons,type:Fn.b.Inherit}))))},Mi=n("ilCE");n("MVDO");function Ti(e,t){var n=t.action?{action:t.action}:{},i=Object(a.__assign)({raid_upsell_source_id:Number(t.sourceChannelID),raid_upsell_target_id:Number(t.targetChannelID)},n);T.o.track(e,i)}!function(e){e.Host="host",e.Raid="raid",e.Dismiss="dismiss"}(Di||(Di={}));var Pi="raid-now-upsell";var ji={"data-test-selector":"dismiss"},Fi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDismissUpsell=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Ti(dt.SpadeEventType.RaidUpsellClick,Object(a.__assign)(Object(a.__assign)({},e),{action:Di.Dismiss})),t.props.closeRaidUpsell()},t.handleSendHostMsgFromUpsell=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Ti(dt.SpadeEventType.RaidUpsellClick,Object(a.__assign)(Object(a.__assign)({},e),{action:Di.Host})),t.handleSendHostMsg()},t.handleSendHostMsg=function(){t.props.send("/host "+t.props.targetChannelLogin),t.props.closeRaidUpsell()},t.handleSendRaidMsg=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Ti(dt.SpadeEventType.RaidUpsellClick,Object(a.__assign)(Object(a.__assign)({},e),{action:Di.Raid})),t.props.send("/raid "+t.props.targetChannelLogin),t.props.closeRaidUpsell()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data.refetch()},t.prototype.componentDidUpdate=function(e){if(e.data.loading!==this.props.data.loading&&!this.props.data.loading){if(!this.channelDisplayName||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf)return this.handleSendHostMsg();t={sourceChannelID:this.props.data.sourceChannel.id,targetChannelID:this.props.data.targetChannel.id},Ti(dt.SpadeEventType.RaidUpsellImpression,t),T.m.set(Pi,!0)}var t},t.prototype.render=function(){var e=this.props.data.loading,t=this.channelDisplayName;return e||!t||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf?null:o.createElement(Qe.a,{className:"raid-upsell-prompt",padding:1,margin:{x:2}},o.createElement(Qe.a,{display:ze.d.Flex,justifyContent:ze.h.Between},o.createElement(Qe.a,{display:ze.d.Flex},o.createElement(Qe.a,{className:"raid-upsell-prompt__notification",margin:{top:.5}},o.createElement(Fn.a,{asset:$e.a.NotificationInfo})),o.createElement(Qe.a,{margin:{x:1}},o.createElement(Ye.a,{type:Ye.e.H6,bold:!0},Object(T.d)("How about raiding {channelDisplayName}?",{channelDisplayName:t},"RaidUpsellPrompt")),o.createElement(Ye.a,{type:Ye.e.P,color:We.c.Alt2},Object(T.d)("Now you can raid whenever you want instead of waiting 30 seconds.","RaidUpsellPrompt")))),o.createElement(Ge.a,{color:We.c.OverlayAlt},o.createElement(Xe.a,Object(a.__assign)({},ji,{icon:$e.a.Close,size:Xe.b.Small,ariaLabel:Object(T.d)("Dismiss","RaidUpsellPrompt"),onClick:this.handleDismissUpsell})))),o.createElement(Ri,{onSendHostMsg:this.handleSendHostMsgFromUpsell,onSendRaidMsg:this.handleSendRaidMsg}))},Object.defineProperty(t.prototype,"channelDisplayName",{get:function(){var e=this.props.data.targetChannel;return e&&e.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isViewersCountWithinRange",{get:function(){var e=this.props.data.sourceChannel,t=e&&e.stream&&e.stream.viewersCount;return t&&t>=3&&t<1e5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttemptingToHostSelf",{get:function(){return this.props.targetChannelLogin===this.props.sourceChannelLogin},enumerable:!0,configurable:!0}),t}(o.Component),Ri=function(e){return o.createElement(Qe.a,{display:ze.d.Flex,justifyContent:ze.h.End,margin:{top:1}},o.createElement(Qe.a,{margin:{right:1}},o.createElement(Ke.a,{type:Ke.d.Secondary,size:Ke.b.Small,onClick:e.onSendHostMsg},o.createElement(Qe.a,{padding:{x:2}},Object(T.d)("Host","RaidUpsellPrompt")))),o.createElement(Qe.a,null,o.createElement(Ke.a,{size:Ke.b.Small,onClick:e.onSendRaidMsg},o.createElement(Qe.a,{padding:{x:2}},Object(T.d)("Raid","RaidUpsellPrompt")))))},Li=Object(l.a)(Mi,{options:function(e){return{variables:{targetChannelLogin:e.targetChannelLogin,sourceChannelLogin:e.sourceChannelLogin}}}})(Fi),Ai=n("gTu3"),Ui=n("YXxK"),xi=n("lNGo"),Bi=n("ySk3"),Vi=n("mmRu"),Hi=n("cpJf"),qi=n("GzyO"),Gi=n("Z2sP"),Wi=n("ygYM"),zi=n("EOIh"),Qi=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(Qe.a,{padding:{bottom:2,x:2}},o.createElement(Ge.a,{padding:{bottom:1,x:2},borderTop:!0}),o.createElement(Qe.a,{textAlign:ze.l.Center},o.createElement(Ye.a,{color:We.c.Alt,"data-test-selector":"current-user-banned-text",bold:!0},Object(T.d)("You are currently banned from this channel.","ChatInput"))),this.props.renderButtonContainer(!0,null))},t}(o.Component),Yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.props.inputValue.length>=this.props.maxLength&&(!this.props.tray||this.props.tray&&this.props.tray.type&&this.props.tray.type===kt.a.EmoteOnlyBanner)&&this.updateModifierTray(),this.props.inputValue.length<this.props.maxLength&&this.props.tray&&this.props.tray.type===kt.a.CharacterLimitError&&this.props.clearModifierTray()},t.prototype.render=function(){return null},t.prototype.updateModifierTray=function(){var e={title:Object(T.d)("Reached Character Limit of 500","CharacterLimitErrorTray"),inputValue:this.props.inputValue,icon:o.createElement(ht.a,null),disableClose:!0,type:kt.a.CharacterLimitError};this.props.setModifierTray(e)},t}(o.Component);var Ki,Xi=Object(c.d)(Object(_.b)((function(e){return{setModifierTray:e.setModifierTray,tray:e.tray,clearModifierTray:e.clearModifierTray}})))(Yi),$i=function(e){function t(t){var n=e.call(this,t)||this;return n.showAutocompleteTray=function(e,t,i){n.props.closeCard(),n.props.closeEmotePicker(),n.props.setModifierTray({body:o.createElement(Hn.a,{onClickOut:n.clearAutocompleteTray},o.createElement(Kn.b,{matches:e,onMatchSelect:t,onDismiss:i,containerElement:n.props.containerElement})),disableClose:!0,floating:!0,type:kt.a.AutocompleteTray})},n.clearAutocompleteTray=function(){n.isAutocompleteTray()&&n.props.clearModifierTray()},n.inChatCommandAutocompleteExperiment="variant1"===T.p.experiments.getAndTrackAssignment(st.c.ChatCommandAutocomplete),n}return Object(a.__extends)(t,e),t.prototype.render=function(){return this.inChatCommandAutocompleteExperiment?o.createElement(Kn.c,Object(a.__assign)({},this.props,{onMatch:this.showAutocompleteTray,onReset:this.clearAutocompleteTray})):o.createElement(Kn.d,Object(a.__assign)({},this.props))},t.prototype.isAutocompleteTray=function(){return this.props.tray&&this.props.tray.type===kt.a.AutocompleteTray},t}(o.Component),Ji=n("A4KW"),Zi=n("kqSx");n("MglV");!function(e){e.Tray="chat-input-tray",e.BodyContainer="chat-input-body-container"}(Ki||(Ki={}));var ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.tray!==this.props.tray&&(this.closeTrayTimeout&&clearTimeout(this.closeTrayTimeout),this.props.tray&&this.props.tray.timeout&&(this.closeTrayTimeout=setTimeout(this.props.onClose,this.props.tray.timeout)))},t.prototype.componentWillUnmount=function(){this.closeTrayTimeout&&clearTimeout(this.closeTrayTimeout)},t.prototype.render=function(){var e,t,n={"chat-input-tray__open":!!this.props.tray,"chat-input-tray__open--persistent":this.props.tray&&this.props.tray.persistent,"chat-input-tray__floating":this.props.tray&&this.props.tray.floating},i={"chat-input-container__open":!!this.props.tray,"chat-input-container__open--persistent":this.props.tray&&this.props.tray.persistent},a={"chat-input-container__input-wrapper":!!this.props.tray},r=We.b.Large,s=0,c={left:.5,y:.5};this.props.tray&&(e=We.a.Base,r={bottomLeft:We.b.Large,bottomRight:We.b.Large},this.props.tray.floating&&(t=ze.j.Absolute),this.props.tray.persistent&&(e=We.a.Alt,s={bottom:.5,x:.5}),this.props.tray.type&&this.props.tray.type===kt.a.AutocompleteTray&&(c=0));var l=null;return this.props.tray&&(l=o.createElement(Qe.a,{padding:s,display:ze.d.Flex,flexDirection:ze.e.Row,alignItems:ze.b.Start,"data-test-selector":Ki.Tray},this.props.tray.icon&&o.createElement(Qe.a,{margin:.5,textAlign:ze.l.Center},this.props.tray.icon),o.createElement(Qe.a,{padding:c,flexGrow:1},this.props.tray.title&&o.createElement(Ye.a,{bold:!0,fontSize:this.props.tray.persistent?We.d.Size6:We.d.Size5,color:this.props.tray.persistent?We.c.Alt2:We.c.Alt,type:Ye.e.Span,wordBreak:Ye.g.BreakWord},this.props.tray.title),this.props.tray.pointsCost&&Object(ve.c)("copo_enabled")&&o.createElement(Qe.a,{display:ze.d.InlineFlex,flexDirection:ze.e.Row,verticalAlign:ze.m.Middle,margin:{left:.5}},o.createElement(Qe.a,{display:ze.d.InlineBlock},o.createElement(Ji.b,null)),o.createElement(Ye.a,{color:We.c.Alt2},Object(T.f)(this.props.tray.pointsCost))),this.renderBody(),this.props.checkbox&&o.createElement(Qe.a,{padding:{top:.5}},o.createElement(Zi.a,{label:this.props.checkbox.label,checked:this.props.checkbox.checked,onChange:this.props.checkbox.onChange}))),!this.props.tray.disableClose&&!this.props.tray.persistent&&o.createElement(Ge.a,{attachRight:!0,attachTop:!0},o.createElement(Xe.a,{ariaLabel:Object(T.d)("Close","ChatInputPrompt"),onClick:this.props.onClose,icon:$e.a.Close}))),this.props.tray.onClick&&(l=o.createElement("div",{onClick:this.props.tray.onClick,className:"chat-input-tray__clickable"},l))),o.createElement(Qe.a,null,o.createElement(Ge.a,{background:e,border:!!this.props.tray,borderRadius:We.b.Large,display:ze.d.Block,elevation:this.props.tray&&!this.props.tray.persistent?1:0,padding:this.props.tray&&!this.props.tray.persistent?.5:0,position:t,attachRight:!0,attachLeft:!0,zIndex:ze.o.Below,className:wn(n)},l,this.renderTrayError()),o.createElement(Ge.a,{background:e,borderRadius:r,display:ze.d.Block,padding:this.props.tray&&!this.props.tray.persistent?.5:0,className:wn(i)},o.createElement(Qe.a,{position:ze.j.Relative,className:wn(a)},this.props.children)))},t.prototype.renderTrayError=function(){var e={"chat-input-tray__open":!!this.props.tray};if(this.props.tray&&this.props.tray.error)return o.createElement(Ge.a,{borderTop:!0,borderRadius:We.b.Large,display:ze.d.Block,padding:.5,attachRight:!0,attachLeft:!0,className:wn(e)},o.createElement(Qe.a,{attachLeft:!0,alignItems:ze.b.Center,display:ze.d.Flex},o.createElement(Qe.a,{margin:{x:1}},o.createElement(Fn.a,{asset:$e.a.Warning,type:Fn.b.Warn})),o.createElement(Qe.a,{margin:{bottom:.5}},o.createElement(Ye.a,{color:We.c.Alt2},this.props.tray.error," "))))},t.prototype.renderBody=function(){if(this.props.tray&&this.props.tray.body)return"string"==typeof this.props.tray.body?o.createElement(Qe.a,{"data-test-selector":Ki.BodyContainer,padding:{top:.5}},o.createElement(Ye.a,{color:We.c.Alt2,wordBreak:Ye.g.BreakWord},this.props.tray.body)):this.props.tray.body},t}(o.Component);var ta,na=n("dIU+"),ia=n("Jsra"),aa=j.a.wrap((function(){return n.e(102).then(n.bind(null,"QjI3"))}),"SubscribeButton");!function(e){e.ChatRestrictedHeader="chat-restricted-header"}(ta||(ta={}));var ra=function(e){function t(t){var n=e.call(this,t)||this;return n.renderBalloon=function(e,t){if(!n.props.showBalloon)return null;var i=null;return t&&(i=o.createElement(Qe.a,{display:ze.d.Flex,margin:{top:1}},t,o.createElement(Qe.a,null))),o.createElement(Hn.a,{onClickOut:n.handleBalloonClickOut},o.createElement(Wi.a,{direction:Wi.b.TopLeft,offsetY:"-0.5rem",size:Wi.c.Medium,show:n.props.showBalloon,tailOffset:50},o.createElement(Ge.a,{color:We.c.Base,padding:1},e,i)))},n.onRestrictionsUpdate=function(){if(n.props.chatRestrictionsAPI){var e=n.props.chatRestrictionsAPI.getRestrictions();if(e){var t=null;e.includes(F.H.FOLLOWERS_ONLY)&&(t=n.props.chatRestrictionsAPI.getRemainingFollowSeconds()),n.setState({reasons:e,followSecondsRemaining:t})}else n.setState({reasons:[]})}else n.setState({reasons:[]})},n.handleBalloonClickOut=function(e){n.rootRef&&n.rootRef.contains(e.target)&&e.stopPropagation(),n.props.closeBalloon()},n.handleActionClick=function(){null!==n.firstRelevantReason&&function(e){var t;switch(e.restriction){case F.H.SUBSCRIBERS_ONLY:t="subscribe";break;case F.H.VERIFIED_ONLY:t="go_to_settings";break;case F.H.FOLLOWERS_ONLY:t="follow";break;default:return}var n={action_type:t,channel:e.channelLogin,channel_id:e.channelID};T.o.track(dt.SpadeEventType.ChatInputRestrictedAction,n)}({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,restriction:n.firstRelevantReason})},n.setRootRef=function(e){return n.rootRef=e},n.state={reasons:[],followSecondsRemaining:null},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.showBalloon&&this.trackImpression(),this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.onRestrictionsUpdate())},t.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},t.prototype.componentDidUpdate=function(e){this.props.showBalloon&&!e.showBalloon&&this.trackImpression(),e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.onRestrictionsUpdate()))},t.prototype.render=function(){var e="",t=null,n=null;switch(this.firstRelevantReason){case F.H.SUBSCRIBERS_ONLY:e=Object(T.d)("Subscribers-Only Chat","ChatModeHeader"),t=Object(T.d)("Only {streamer}'s subscribers can chat right now. Subscribe and join in!",{streamer:this.props.channelDisplayName||this.props.channelLogin},"ChatModeHeader"),n=o.createElement("div",{onClick:this.handleActionClick},o.createElement(aa,{balloonDirection:Wi.b.TopRight,channelLogin:this.props.channelLogin,subLocation:"channel_page",forceIcon:!0}));break;case F.H.VERIFIED_ONLY:e=Object(T.d)("Verified Accounts Only Chat","ChatModeHeader"),t=Object(T.d)("Verify your account in Settings to chat!","ChatModeHeader"),n=o.createElement(Ke.a,{onClick:this.handleActionClick,linkTo:"/settings/security",targetBlank:!0},Object(T.d)("Go to Settings","ChatModeHeader"));break;case F.H.FOLLOWERS_ONLY:if(e=Object(T.d)("Followers-Only Chat","ChatModeHeader"),this.props.followerDurationSeconds>0&&null!==this.state.followSecondsRemaining){var i=Object(Wn.b)(this.props.followerDurationSeconds),a=Object(Wn.b)(this.state.followSecondsRemaining);t=Object(T.d)("You need to be a follower for {timeRequired} to chat, and you have {timeRemaining} left.",{timeRequired:i,timeRemaining:a},"ChatModeHeader")}else t=Object(T.d)("You need to be a follower of {streamer} to chat.",{streamer:this.props.channelDisplayName||this.props.channelLogin},"ChatModeHeader"),n=o.createElement(na.FollowButton,{channelLogin:this.props.channelLogin,onFollow:this.handleActionClick,onUnfollow:this.handleActionClick,followUIType:na.FollowButtonUIType.IconAndText,unfollowUIType:na.FollowButtonUIType.IconAndText,balloonDirection:Wi.b.TopRight,hideDropdownWhenFollowing:!0});break;case F.H.SLOW_MODE:default:return null}return o.createElement("div",{ref:this.setRootRef},o.createElement(Ge.a,{borderTop:!0,color:We.c.Alt2,display:ze.d.Flex,fontSize:We.d.Size6,padding:{y:.5},position:ze.j.Relative,"data-test-selector":ta.ChatRestrictedHeader},o.createElement(ia.a,{hoverColorInherit:!0,hoverUnderlineNone:!0,onClick:this.props.openBalloon,type:ia.b.Inherit},o.createElement(Ye.a,{bold:!0},e)),o.createElement(Qe.a,{margin:{left:.5}},o.createElement(Xe.a,{icon:$e.a.NotificationInfo,onClick:this.props.openBalloon,type:Xe.c.Secondary})),this.renderBalloon(t,n)))},Object.defineProperty(t.prototype,"firstRelevantReason",{get:function(){for(var e=0,t=this.state.reasons;e<t.length;e++){var n=t[e];if(!this.props.ignoredRestrictions||!this.props.ignoredRestrictions.has(n))return n}return null},enumerable:!0,configurable:!0}),t.prototype.trackImpression=function(){this.firstRelevantReason&&function(e){var t;switch(e.restriction){case F.H.SUBSCRIBERS_ONLY:t="subscriber_mode";break;case F.H.VERIFIED_ONLY:t="verified_mode";break;case F.H.FOLLOWERS_ONLY:t=e.requiredDuration?"follow_mode_timer":"follow_mode";break;default:return}var n={channel:e.channelLogin,channel_id:e.channelID,impression_type:t};T.o.track(dt.SpadeEventType.ChatInputRestrictedImpression,n)}({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,restriction:this.firstRelevantReason,requiredDuration:this.props.followerDurationSeconds})},t}(o.Component);Object(c.d)(ra);var oa=Object(c.d)(Object(Be.b)((function(e){return{followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode}})),W)(ra),sa=n("JN5s"),ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lastSentMessage:"",lastSentTimestamp:Date.now()},t.key="duplicated-messages",t.isDuplicatedMessage=function(e){return t.condenseWhitespace(e)===t.state.lastSentMessage&&Date.now()-t.state.lastSentTimestamp<3e4&&(t.updateModifierTray(),!0)},t.onMessageSent=function(e){t.setState({lastSentMessage:t.condenseWhitespace(e),lastSentTimestamp:Date.now()})},t.clearDupMessageModifierTray=function(){t.props.tray&&t.props.tray.type===kt.a.DuplicatedMessageError&&t.props.clearModifierTray()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isDuplicatedMessage,onMessageSent:this.onMessageSent},this.key)},t.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},t.prototype.componentDidUpdate=function(){this.condenseWhitespace(this.props.inputValue)!==this.state.lastSentMessage&&this.clearDupMessageModifierTray()},t.prototype.render=function(){return null},t.prototype.condenseWhitespace=function(e){return e.replace(/\s+/g," ").trim()},t.prototype.updateModifierTray=function(){var e={title:Object(T.d)("Message Not Sent","DuplicatedMessageErrorTray"),body:Object(sa.a)(),icon:o.createElement(ht.a,null),type:kt.a.DuplicatedMessageError,timeout:3e4,disableChat:!0};this.props.setModifierTray(e)},t}(o.Component);var la=Object(c.d)(Object(_.b)((function(e){return{setModifierTray:e.setModifierTray,tray:e.tray,clearModifierTray:e.clearModifierTray}})))(ca),da=n("hbnN"),ua=(n("f805"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.key="emote-only-messages",t.trayTitle=Object(T.d)("Emote Only Chat","EmoteOnlyTray"),t.trayDescription=Object(T.d)("This room is in emote only mode. You can find your currently available emoticons using the smiley in the chat text area.","EmoteOnlyTray"),t.buildEmoteLookup=Object(da.a)((function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];a&&a.id&&a.emotes&&(t=t.concat(Object(Et.b)(a.emotes).map((function(e){return e.displayName}))))}return new Set(t)})),t.manageEmoteOnlyTrays=function(){if(t.props.emoteOnlyMode&&!t.props.hasChatRestriction&&!t.props.tray){var e={title:t.trayTitle,icon:o.createElement(Fn.a,{asset:$e.a.NotificationInfo,type:Fn.b.Prime}),body:t.trayDescription},n={title:t.trayTitle,icon:o.createElement(Ge.a,{color:We.c.Alt2,className:"emote-only-error-handler__tray-icon"},o.createElement(Fn.a,{asset:$e.a.NotificationInfo,height:18,width:18})),type:kt.a.EmoteOnlyBanner,persistent:!0,onClick:function(){t.props.setModifierTray(e)}};t.props.setModifierTray(n)}t.props.emoteOnlyMode&&!t.props.hasChatRestriction||!t.props.tray||t.props.tray.type!==kt.a.EmoteOnlyBanner&&t.props.tray.type!==kt.a.EmoteOnlyInfo||t.props.clearModifierTray(),!t.props.emoteOnlyMode&&t.props.tray&&t.props.tray.type===kt.a.EmoteOnlyWarning&&t.props.clearModifierTray()},t.isNotEmoteOnly=function(e){if(!t.props.emoteOnlyMode)return!1;var n=!1,i=t.buildEmoteLookup(t.props.emotes);return e.replace(/\n/g," ").trim().split(" ").some((function(e){return e.length>0&&!i.has(e)&&(n=!0,t.updateModifierTray(),!0)})),n},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isNotEmoteOnly,onMessageSent:function(){return null}},this.key),this.manageEmoteOnlyTrays()},t.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},t.prototype.componentDidUpdate=function(){this.manageEmoteOnlyTrays()},t.prototype.render=function(){return null},t.prototype.updateModifierTray=function(){var e={title:this.trayTitle,body:this.trayDescription,icon:o.createElement(ht.a,null),type:kt.a.EmoteOnlyWarning,timeout:3e4};this.props.setModifierTray(e)},t}(o.Component));var ma=Object(c.d)(Object(_.b)((function(e){return{setModifierTray:e.setModifierTray,tray:e.tray,clearModifierTray:e.clearModifierTray}})))(ua),pa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lastSentTimestamp:null},t.key="message-throughput",t.isSendingMessageTooFast=function(e){if(null===t.state.lastSentTimestamp)return!1;var n=t.state.lastSentTimestamp||0;return Date.now()-n<1e3&&(t.updateModifierTray(),!0)},t.onMessageSent=function(e){t.setState({lastSentTimestamp:Date.now()})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isSendingMessageTooFast,onMessageSent:this.onMessageSent},this.key)},t.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},t.prototype.render=function(){return null},t.prototype.updateModifierTray=function(){var e={title:Object(T.d)("Message Not Sent","MessageThroughputErrorTray"),body:Object(T.d)("You are sending messages too quickly.","MessageThroughputErrorTray"),icon:o.createElement(ht.a,null),type:kt.a.MessageThroughputError,timeout:3e4};this.props.setModifierTray(e)},t}(o.Component);var ha=Object(c.d)(Object(_.b)((function(e){return{setModifierTray:e.setModifierTray,tray:e.tray,clearModifierTray:e.clearModifierTray}})))(pa),fa=function(e){function t(t){var n=e.call(this,t)||this;return n.setTimeRemaining=function(){n.setState((function(e){if(e.remainingTimeSeconds>0)return{remainingTimeSeconds:e.remainingTimeSeconds-1};n.props.onCompletion&&(n.countdownTimer.stop(),n.props.onCompletion())}))},n.state={remainingTimeSeconds:t.timeToCountDownFromSeconds},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.countdownTimer=new jt.a({onInterval:this.setTimeRemaining,intervalMillis:1e3}),this.countdownTimer.start()},t.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},t.prototype.render=function(){return o.createElement(o.Fragment,null,Object(Wn.b)(this.state.remainingTimeSeconds))},t}(o.Component),ga=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=new Date(this.props.timeoutSecondsRemaining),t=new Date,n=Math.floor(Math.abs(e.getTime()-t.getTime())/1e3),i=o.createElement(fa,{timeToCountDownFromSeconds:n,onCompletion:this.props.refetchTimeoutState});return o.createElement(Qe.a,{padding:{bottom:2,x:2}},o.createElement(Ge.a,{padding:{bottom:1,x:2},borderTop:!0}),o.createElement(Qe.a,{textAlign:ze.l.Center},o.createElement(Ye.a,{color:We.c.Base,"data-test-selector":"current-user-timed-out-text",bold:!0},Object(T.d)("You are currently timed out from Chat.","ChatInput")),o.createElement(Ye.a,{color:We.c.Alt2},Object(T.d)("You can chat again in {countDown}.",{countDown:i},"ChatInput"))),this.props.renderButtonContainer(!0,null))},t}(o.Component),va=n("DwV5"),ba=n("O0eq"),ka=n("1qVK"),ya=n("a0DK"),Sa=n("zJj8"),Ca=[kt.a.AutocompleteTray,kt.a.CharacterLimitError,kt.a.CommandWarning,kt.a.CommandInfo,kt.a.DuplicatedMessageError,kt.a.MessageThroughputError],Ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SEND_MESSAGE_ERROR_CHECK_KEY="watch-party-messages",t.getTrayBody=function(){var e=o.createElement(Qe.a,{margin:{top:1,bottom:2}},o.createElement(Ye.a,null,Object(T.d)("Welcome to a Watch Party, where you can watch Prime Video shows and movies together with other Prime viewers.","WatchPartyTrayManager"))),n=o.createElement(Ye.a,null,!t.canChat()&&Object(T.d)("To participate in chat, you must be in the Watch Party with Prime and the title must be available in your region.","WatchPartyTrayManager"),Object(T.d)("Watch Parties currently do not support Subs, Cheers, Clips, VODs, Raiding, and ads due to content licensing restrictions.","WatchPartyTrayManager"));return o.createElement(Qe.a,null,e,o.createElement(Qe.a,{margin:{top:1,bottom:2}},n))},t.manageWatchPartyTrays=function(e){t.props.isTrayActive?e?t.props.setModifierTray(e):t.props.setModifierTray(t.getPersistentTray()):t.props.tray&&t.isWatchPartyTrayType(t.props.tray)&&t.props.clearModifierTray()},t.getInfoTray=function(){return{icon:t.props.data&&t.props.data.loading||t.props.primeCheck&&t.props.primeCheck.loading?o.createElement(wt.a,null):t.canChat()?o.createElement(Fn.a,{asset:$e.a.NotificationInfo,type:Fn.b.Prime}):o.createElement(Fn.a,{asset:$e.a.Warning,type:Fn.b.Warn}),title:t.getTrayTitle(),body:t.getTrayBody(),callOnClose:function(){return t.props.setModifierTray(t.getPersistentTray())},type:kt.a.WatchPartyInfo,disableBits:!0}},t.getPersistentTray=function(){var e=t.canChat()?$e.a.NotificationInfo:$e.a.Warning;return{icon:o.createElement(Ge.a,{color:We.c.Alt2},o.createElement(Fn.a,{asset:e})),title:t.getTrayTitle(),persistent:!0,onClick:function(){return t.props.setModifierTray(t.getInfoTray())},type:kt.a.WatchPartyBanner,disableBits:!0}},t.suppressNonPrimeMessages=function(){if(!t.props.isTrayActive)return!1;var e=!t.canChat()||t.props.isChatDisabledOnPage;return e&&t.manageWatchPartyTrays(t.getInfoTray()),e},t.canChat=function(){if(!t.props.data||t.props.data.loading||!t.props.primeCheck||t.props.primeCheck.loading||!t.props.data.currentUser||!t.props.primeCheck.primeVideoBenefit)return!1;var e=t.props.data.currentUser.isModerator,n=t.props.data.currentUser.id===t.props.channelID,i=t.props.primeCheck.primeVideoBenefit.isValid;return!t.props.isChatDisabledOnPage&&(e||n||i)},t.shouldOverrideCurrentTray=function(e){return void 0===e.type||!1===Ca.includes(e.type)},t.isWatchPartyTrayType=function(e){return e.type===kt.a.WatchPartyBanner||e.type===kt.a.WatchPartyInfo||e.type===kt.a.WatchPartyError},t.getTrayTitle=function(){return Object(T.d)("Watch Party Chat","WatchPartyTray")},t.didFinishLoadingGQLData=function(e){var n=e.primeCheck&&!0===e.primeCheck.loading&&t.props.primeCheck&&!1===t.props.primeCheck.loading;return e.data&&!0===e.data.loading&&t.props.data&&!1===t.props.data.loading&&n},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){Object(ya.g)()&&(this.manageWatchPartyTrays(),this.props.registerSendMessageErrorCheck({check:this.suppressNonPrimeMessages,onMessageSent:function(){return null}},this.SEND_MESSAGE_ERROR_CHECK_KEY))},t.prototype.componentDidUpdate=function(e){if(Object(ya.g)()){var t=this.props.isTrayActive&&this.props.tray&&this.shouldOverrideCurrentTray(this.props.tray)&&!this.isWatchPartyTrayType(this.props.tray);(e.isTrayActive!==this.props.isTrayActive||!this.props.tray||t||this.didFinishLoadingGQLData(e))&&this.manageWatchPartyTrays()}},t.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.SEND_MESSAGE_ERROR_CHECK_KEY)},t.prototype.render=function(){return null},t}(o.Component);var wa=Object(c.d)(Object(_.b)((function(e){return{clearModifierTray:e.clearModifierTray,setModifierTray:e.setModifierTray,tray:e.tray}})),Object(I.withWatchPartyContext)((function(e){return{isTrayActive:e.isWatchPartyActive,isChatDisabledOnPage:!e.canChatOnPageDuringWatchParty}})),Object(l.a)(Sa,{options:function(e){return{variables:{channelID:e.channelID}}},skip:function(e){return!e.isTrayActive||!e.channelID||!Object(ya.g)()}}),Object(ba.a)(ka,{name:"primeCheck",skip:function(e){return!(Object(ya.g)()&&e.isTrayActive&&e.channelID&&Object(va.c)()&&e.data&&e.data.currentUser)}}))(Ea),_a=n("FS60"),Na=(n("QY5S"),"chat-input-buttons-container"),Oa="chat-viewer-list",Da="pending_chat_message",Ia=/\S/,Ma=91,Ta="chat_rules_shown",Pa=/version\/([\w\.]+).+?(mobile\s?safari|safari)/i,ja=j.a.wrap((function(){return Promise.all([n.e(0),n.e(56)]).then(n.bind(null,"tPnS"))}),"ChatPrivateCalloutQueue",{placeholder:null}),Fa=j.a.wrap((function(){return Promise.all([n.e(0),n.e(74)]).then(n.bind(null,"falg"))}),"RewardCenter",{placeholder:null}),Ra=function(e){function t(t){var n=e.call(this,t)||this;return n.cancelDelayedSend=null,n.confirmDelayedSend=null,n.hasConfirmedInEmbed=!1,n.hasSeenConfirmationPrompt=!1,n.sendMessageErrorChecks={},n.shouldClearModifierTrayTypes=new Set([kt.a.CharacterLimitError,kt.a.DuplicatedMessageError,kt.a.MessageThroughputError,kt.a.CommandWarning]),n.renderButtonContainer=function(e,t){return void 0===e&&(e=!1),o.createElement(Qe.a,{className:"chat-input__buttons-container","data-test-selector":Na,display:n.props.hideChatInputButtons?ze.d.Hide:ze.d.Flex,justifyContent:ze.h.Between,margin:{top:1}},o.createElement(Qe.a,{display:ze.d.Flex,flexDirection:ze.e.Row},!n.inChatInputRevampExperiment&&o.createElement(Xe.a,{ariaLabel:Object(T.d)("Users in Chat","ChatInput"),"data-a-target":Oa,"data-test-selector":Oa,icon:$e.a.ViewerList,onClick:n.onShowViewersList}),o.createElement(qn.a,{name:"copo_enabled"},o.createElement(Qe.a,{position:ze.j.Relative,zIndex:ze.o.Default},n.props.firstPageLoaded&&o.createElement(Fa,null)))),o.createElement(Qe.a,{display:ze.d.Flex,alignItems:ze.b.Center,alignContent:ze.a.Center,flexDirection:ze.e.Row},o.createElement(Qe.a,{margin:{right:1}},o.createElement(Ye.a,{color:We.c.Alt2},t)),o.createElement(Qe.a,{position:ze.j.Relative},!n.props.hideChatSettings&&o.createElement(gi.a,{onShowChatRules:n.props.onShowChatRules,channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,authToken:n.props.authToken,isCurrentUserModerator:n.props.isCurrentUserModerator,onChatCommand:n.onChatCommand,isPopout:n.props.isPopout,isEmbedded:n.props.isEmbedded,channelID:n.props.channelID,containerElement:n.props.containerElement})),o.createElement(Qe.a,{margin:{left:.5}},n.renderSendButton(e))))},n.refetchTimeoutState=function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return this.props&&this.props.data?[4,this.props.data.refetch()]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}}))}))},n.renderSlowModeProgressBar=function(){if(n.state.chatRestrictedReasons[0]===F.H.SLOW_MODE&&!n.ignoreSlowMode){var e=n.state.slowModeSecondsRemaining/n.props.slowModeDuration*100;return o.createElement(Qe.a,{position:ze.j.Absolute,attachBottom:!0,fullWidth:!0},o.createElement(Gi.a,{borderRadius:We.b.Small,size:Gi.c.Small,value:e,mask:!0}))}return null},n.setLocalChatInputRef=function(e){n.chatInputRef=e,n.props.setChatInputRef(e)},n.setLocalAutocompleteInputRef=function(e){n.autocompleteInputRef=e,n.props.setAutocompleteInputRef(e)},n.onCheerInvalid=function(e){n.state.bitsCardError!==e&&(n.setState({bitsCardError:e}),e&&n.trackBitsCardInteraction(fi.c.UserViewingCheerError,{bitsCardError:e}))},n.onSendCheerWhenSendDisabled=function(){n.trackBitsCardInteraction(fi.c.SendInvalidCheerAttemptButtonDisabled,{bitsCardError:n.state.bitsCardError})},n.onAnonymousCheerToggle=function(e){n.setState({isAnonymousCheer:e})},n.onKeyDown=function(e){var t=e.charCode||e.keyCode;switch(n.props.onKeyDown&&t!==Gn.a.Enter&&n.props.onKeyDown(e),n.props.bitsSendHasError&&n.props.clearBitsSendError(),t){case Gn.a.Enter:return void(e.shiftKey||(e.preventDefault(),n.onMessageSend(Ui.b.Enter)));case Gn.a.Esc:return void(n.state.showBitsCard&&n.setState({showBitsCard:!1}));default:return}},n.onMessageValueUpdate=function(e){n.inChatInputRevampExperiment&&n.resizeInput(),n.setState({value:e})},n.resizeInput=function(){Pa.test(navigator.userAgent)||n.chatInputRef&&(n.chatInputRef.style.height="auto",n.chatInputRef.style.height=n.chatInputRef.scrollHeight+"px",n.chatInputRef.scrollHeight<Ma?n.chatInputRef.style.overflowY="hidden":n.chatInputRef.style.overflowY="auto")},n.onInputFocus=function(){n.props.onInputFocus&&n.props.onInputFocus(),n.setState({hasInteracted:!0})},n.onMouseEnterInput=function(){n.setState({hasInteracted:!0})},n.onChatCommand=function(e){n.props.onChatCommand(e),n.trackChatEvent(n.props.emotePickerSessionID,Ui.b.Click)},n.confirmEmbedAction=function(e,t,i){var a=n,r=a.hasConfirmedInEmbed;if(a.hasSeenConfirmationPrompt)return r;var o=window.confirm(n.confirmationMessage(e,t,i));return n.hasSeenConfirmationPrompt=!0,n.hasConfirmedInEmbed=o,n.setState({hasSeenAndRejectedEmbedPrompt:!o}),o},n.confirmationMessage=function(e,t,n){return Object(T.d)('Hi {displayName}. You are attempting to send "{message}" in {channelLogin}\'s chat via an embedded version of Twitch Chat. Are you sure you want to do this? This setting will persist until you refresh the page',{displayName:e,message:t,channelLogin:n},"ChatInput")},n.onMessageSend=function(e){return Object(a.__awaiter)(n,void 0,void 0,(function(){var t,n,i,r,o,s,c,l=this;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(!this.bypassDisable){if(!this.bypassRestrictionDisable&&this.state.chatRestrictedReasons.length)return this.setState({showChatRestrictionCard:!0,showBitsCard:!1}),[2];if(this.inputRevampDisableChatConditions()||this.props.tray&&this.props.tray.disableChat)return[2]}if(!this.props.authToken)return this.handleLogin(),[2];if(!this.props.channelID)return T.k.warn("[ChatInput] Attempt to send a message before channel ID"),[2];if(!this.props.tray||!this.props.tray.sendMessageHandler)return[3,8];switch(this.closeCard(),t=this.props.tray.sendMessageHandler,t.type){case kt.c.Custom:return[3,1];case kt.c.ShareResub:return[3,4]}return[3,7];case 1:return t.handleMessage?[4,t.handleMessage(this.state.value,t.params)]:[3,3];case 2:a.sent()?t.onSuccess&&t.onSuccess(this.state.value,t.params):t.onError&&t.onError(this.state.value,t.params),a.label=3;case 3:return[2];case 4:return t.handleMessage?(t.params=t.params||{},t.params.opt=this.state.shareResubStreak,[4,t.handleMessage(this.state.value,t.params)]):[3,6];case 5:a.sent()?t.onSuccess&&t.onSuccess(this.state.value,t.params):t.onError&&t.onError(this.state.value,t.params),a.label=6;case 6:return this.props.clearTray(),[2];case 7:a.label=8;case 8:return(n=Ia.test(this.state.value))?this.state.isSendingBits?(T.k.debug("[ChatInput] Supressing chat message send. Bits spending is still in progress."),[2]):this.props.isEmbedded&&(this.props.isCurrentUserModerator||this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.isPartner)&&this.props.sessionUser&&!this.confirmEmbedAction(this.props.sessionUser.displayName,this.state.value||"",this.props.channelLogin)?(T.k.debug("[ChatInput] Embed Confirmation check failed. Not sending message"),[2]):(this.resetAndUpdateRenderSentChatMessageEvent(),this.state.value.split(/\s+/).forEach((function(e){l.props.emoteMap&&l.props.emoteMap.hasOwnProperty(e)&&Object(qi.a)(l.props.emoteMap[e])})),this.props.data&&this.props.data.currentUser?this.isTypingCommand()?(this.sendRegularMessage(e),[2]):(i=Object(hi.a)(this.state.messageCheers),r=Object(ot.b)(),0===i.total?(this.sendRegularMessage(e),this.state.messageCheers.length&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.ZeroBits),[2]):this.props.data.channel?this.props.data.channel.cheer?this.props.data.channel.cheer.settings?this.props.tray&&this.props.tray.disableBits?(T.k.warn("[Chat Input] Bits are disabled due to an input tray."),[2]):this.props.bitsConfig?(this.state.bitsCardError&&(this.onSendCheerWhenSendDisabled(),this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.BitsCardDisabled)),(o=Object(hi.g)({messageBits:i,balance:this.props.data.currentUser.bitsBalance||0,cheerMinimumBits:this.props.data.channel.cheer.settings.cheerMinimumBits,emoteMinimumBits:this.props.data.channel.cheer.settings.emoteMinimumBits,inputValue:this.state.value,bitsConfig:this.props.bitsConfig})).canSpend?this.props.sendCheer?(this.setState({isSendingBits:!0}),i.total>=Dn.q?[4,new Promise((function(e){var t=setTimeout(e,Dn.u.UNDO_PROMPT_DURATION),n=function(n){void 0===n&&(n=!1),clearTimeout(t),l.cancelDelayedSend=null,l.confirmDelayedSend=null,e(n)};l.cancelDelayedSend=function(){return n(!0)},l.confirmDelayedSend=function(){return n(!1)}}))]:[3,10]):(T.k.warn("[Chat Input] No GraphQL mutation for sending cheers attached."),[2]):(T.k.warn("[Chat Input] Spending bits forbidden.",o),o.cheerAboveMaxBitsPerEmote&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.AboveMaxEmote),o.totalAboveBalance&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.BitsUnavailable),o.totalBelowCheerMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.BelowMin),o.totalBelowEmoteMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.BelowMinEmote),o.inputLongerThanMaxBitsMessage&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.InputAboveMaxLength),o.inputStartsWithCommand&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.InputCommandStart),o.cheerContainsInvalidDisplayOnlyCheermotes&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.InvalidBitsMessage),[2])):(T.k.warn("[Chat Input] Bits Config is undefined"),this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.MissingBitsConfig),[2]):(T.k.warn("[Chat Input] Cheer Settings are undefined."),[2]):(T.k.warn("[Chat Input] Cheer is null."),[2]):(T.k.warn("[Chat Input] User is null."),[2])):(this.sendRegularMessage(e),[2])):(T.k.debug("[ChatInput] Supressing chat message send. Input failed to pass validation.",{hasSendableInput:n,value:this.state.value}),[2]);case 9:if(a.sent())return this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.Canceled),this.setState({isSendingBits:!1}),this.chatInputRef.focus(),[2];a.label=10;case 10:return a.trys.push([10,12,,13]),s={id:r,targetID:this.props.channelID,bits:i.total,content:this.state.value,isAutoModEnabled:!0,shouldCheerAnyway:this.props.forceSendCheer,isAnonymous:this.state.isAnonymousCheer},this.props.clearBitsSendError(),[4,this.props.sendCheer({variables:{input:s}})];case 11:return(c=a.sent()).data.sendCheer&&c.data.sendCheer.validationError?(this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,c.data.sendCheer.validationError),this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Object(xi.a)(c.data.sendCheer.validationError.code)),this.setState({isSendingBits:!1,showBitsCard:!1,showChatRestrictionCard:!1,bitsCardError:c.data.sendCheer.validationError.code}),this.props.closeEmotePicker(),this.chatInputRef&&this.chatInputRef.focus(),[2]):[3,13];case 12:return a.sent(),this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,{code:F.zc.UNKNOWN}),this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Ui.d.Unknown),this.setState({isSendingBits:!1,bitsCardError:F.zc.UNKNOWN}),this.chatInputRef&&this.chatInputRef.focus(),[2];case 13:return this.props.onSendCheerSuccess(),this.trackCheerEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer),this.setState({isSendingBits:!1,bitsCardError:void 0,showBitsCard:!1,showChatRestrictionCard:!1,value:""}),this.chatInputRef&&this.chatInputRef.focus(),this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),[2]}}))}))},n.onEmotePickerToggle=function(){n.setState((function(e){return e.messageCheers.length?e:(n.props.isShowingEmotePicker?n.props.closeEmotePicker():n.props.showEmotePicker(),Object(a.__assign)(Object(a.__assign)({},e),{showBitsCard:!1,showChatRestrictionCard:!1}))}))},n.onClickOut=function(){n.props.isShowingEmotePicker&&n.closeCard()},n.onBitsIconClick=function(){n.state.showBitsCard?n.trackBitsCardInteraction(fi.c.CloseCard):n.trackBitsCardInteraction(fi.c.OpenCard),n.setState((function(e){var t=e.showBitsCard,n=e.showChatRestrictionCard;return t?{showBitsCard:!1,showChatRestrictionCard:n}:{showBitsCard:!0,showChatRestrictionCard:!1}})),n.props.isShowingEmotePicker&&n.props.closeEmotePicker()},n.onShowViewersList=function(){(n.state.showBitsCard||n.state.showChatRestrictionCard||n.props.isShowingEmotePicker)&&n.closeCard(),n.props.showViewersList()},n.onBitsClose=function(){n.state.showBitsCard&&n.closeCard(),n.trackBitsCardInteraction(fi.c.CloseCard)},n.onChatRestrictionBalloonClose=function(){n.state.showChatRestrictionCard&&n.closeCard()},n.onChatRestrictionBalloonOpen=function(){n.setState({showChatRestrictionCard:!0})},n.closeCard=function(){n.setState({showBitsCard:!1,showChatRestrictionCard:!1}),n.props.closeEmotePicker()},n.onClickEmote=function(e){var t=n.state.value;n.state.value&&n.state.value.length>0&&!n.state.value.endsWith(" ")&&(t+=" "),t+=e+" ",n.autocompleteInputRef&&n.autocompleteInputRef.setValue(t)},n.onEmotePickerDataLoaded=function(e){e&&n.setState({showEmotePickerButton:!0})},n.closeTray=function(){n.props.tray&&n.props.tray.callOnClose&&n.props.tray.callOnClose(),n.isErrorTray()||n.isAutocompleteTray()?n.props.clearModifierTray():n.props.tray&&n.props.clearTray()},n.trackCheerEvent=function(e,t,i,a,r){Object(xi.d)({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,emotePickerSessionID:e,isAnonymousCheer:r,isHostMode:n.props.isHostMode,player:n.props.isPopout?Ui.a.Embed:Ui.a.Web,subOnlyMode:n.props.subsOnlyMode,viewerContext:n.props.viewerContext,bitsValue:t,cheermote:i,transactionID:a})},n.trackCheerErrorEvent=function(e,t,i,a,r,o){Object(xi.c)({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,emotePickerSessionID:e,isHostMode:n.props.isHostMode,isAnonymousCheer:r,player:n.props.isPopout?Ui.a.Embed:Ui.a.Web,subOnlyMode:n.props.subsOnlyMode,viewerContext:n.props.viewerContext,bitsValue:t,cheermote:i,transactionID:a,errorType:o})},n.setBitsGemNotificationExists=function(e){n.setState({bitsGemNotificationExists:e})},n.trackBitsCardInteraction=function(e,t){n.setState((function(t){return{bitsTrackingId:e===fi.c.OpenCard||e===fi.c.OpenCardViaCheering?Object(ot.b)():t.bitsTrackingId,bitsCheckoutId:e===fi.c.BuyMain?Object(ot.b)():t.bitsCheckoutId}}),(function(){var i={actionName:e,actionType:t&&t.actionType,trackingId:n.state.bitsTrackingId,checkoutId:n.state.bitsCheckoutId,emoteType:t&&t.emoteType,emoteLevel:t&&t.emoteLevel,location:t&&t.location,displayedBalance:n.props.data&&n.props.data.currentUser&&n.props.data.currentUser.bitsBalance||0,bitsCardError:t&&t.bitsCardError,channelId:n.props.data&&n.props.data.channel&&n.props.data.channel.id||"",userId:n.props.data&&n.props.data.currentUser&&n.props.data.currentUser.id||"",gemNotification:n.state.bitsGemNotificationExists};Object(fi.n)(i)}))},n.resetAndUpdateRenderSentChatMessageEvent=function(){n.props.latencyTracking.resetCustomEvents(ct.a.Chat);var e=n.props.latencyTracking.registerCustomEvent({benchmark:400,group:ct.a.Chat,key:ct.b.ChatRenderSent,label:ct.c.RenderSent,start:ct.d.Registration});n.props.updateRenderSentChatMessageEvent(e)},n.isCurrentUserBanned=function(){if(n.props.data&&!n.props.data.loading&&!n.props.data.error&&n.props.data.channel){var e=n.props.data.channel.self;if(e&&e.banStatus&&e.banStatus.isPermanent)return!0}return!1},n.isCurrentUserTimedOut=function(){if(n.props.data&&!n.props.data.loading&&!n.props.data.error&&n.props.data.channel){var e=n.props.data.channel.self;if(e&&e.banStatus&&null!==e.banStatus.isPermanent&&!e.banStatus.isPermanent)return!0}return!1},n.getRemainingTimedOutSeconds=function(){if(n.props.data&&!n.props.data.loading&&!n.props.data.error&&n.props.data.channel){var e=n.props.data.channel.self;if(e&&e.banStatus&&void 0!==e.banStatus.isPermanent&&!e.banStatus.isPermanent&&e.banStatus.expiresAt)return e.banStatus.expiresAt}return""},n.onRestrictionsUpdate=function(){var e=[],t=0;if(n.props.chatRestrictionsAPI){var i=n.props.chatRestrictionsAPI.getRestrictions();i&&i.length>0&&(e=i,t=n.props.chatRestrictionsAPI.getRemainingSlowModeSeconds())}n.setState({chatRestrictedReasons:e,slowModeSecondsRemaining:t})},n.isTypingCommand=function(){return"/"===n.state.value.substr(0,1)&&"/me"!==n.state.value.substr(0,3)||"."===n.state.value.substr(0,1)&&".me"!==n.state.value.substr(0,3)},n.toggleShareResubStreak=function(){n.setState((function(e){return{shareResubStreak:!e.shareResubStreak}}))},n.isTypingCheer=function(){return n.state.messageCheers.length>0},n.inputRevampDisableChatConditions=function(){var e=T.m.get(Ta,{});return n.inChatInputRevampExperiment&&(n.props.chatConnectionState!==i.CONNECTED||n.props.chatRules&&!e[n.props.channelLogin])},n.inputRevampDisableChatButtonConditions=function(){var e=T.m.get(Ta,{});return n.inChatInputRevampExperiment&&(n.props.chatConnectionState!==i.CONNECTED||n.props.chatRules&&!e[n.props.channelLogin]&&n.props.isShowingChatRules)},n.registerSendMessageErrorCheck=function(e,t){n.sendMessageErrorChecks[t]||(n.sendMessageErrorChecks[t]=e)},n.unregisterSendMessageErrorCheck=function(e){n.sendMessageErrorChecks[e]&&delete n.sendMessageErrorChecks[e]},n.storePendingMessage=function(){T.m.set(Da,n.state.value)},n.state={hasInteracted:!1,hasSeenAndRejectedEmbedPrompt:!1,isSendingBits:!1,messageCheers:[],showBuyBits:!1,showBitsCard:!1,showChatRestrictionCard:!1,showEmotePickerButton:!!t.authToken,value:"",chatRestrictedReasons:[],slowModeSecondsRemaining:0,isAnonymousCheer:!1,shareResubStreak:!1,bitsTrackingId:Object(ot.b)(),bitsGemNotificationExists:!1},n.inChatInputRevampExperiment="variant1"===T.p.experiments.getAndTrackAssignment(st.c.ChatInputRevamp),n.inChatCommandAutocompleteExperiment="variant1"===T.p.experiments.getAndTrackAssignment(st.c.ChatCommandAutocomplete),n}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"bypassDisable",{get:function(){return this.isTypingCommand()||this.isTypingCheer()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bypassRestrictionDisable",{get:function(){var e=this.props.tray;return!(!e||!e.ignoredRestrictions||this.state.chatRestrictedReasons.find((function(t){return!e.ignoredRestrictions.has(t)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autocompleteTextareaRows",{get:function(){if(this.inChatInputRevampExperiment)return Pa.test(navigator.userAgent)?2:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreSlowMode",{get:function(){var e=this.props.tray;return!(!e||!e.ignoredRestrictions)&&e.ignoredRestrictions.has(F.H.SLOW_MODE)},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.getPendingMessage()&&this.restorePendingMessage(),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate)},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.props.forceSendCheer&&this.onMessageSend(Ui.b.Click),this.state.value!==t.value&&this.props.bitsEnabled&&(!this.props.tray||!this.props.tray.disableBits)&&!this.isTypingCommand()){var i=[];Object(lt.g)(this.state.value,this.props.bitsConfig,!1).forEach((function(e){e.type===Bt.a.Emote&&(i.push(e.content),e.content.alt&&Object(lt.e)(e.content.alt)&&n.setState({isAnonymousCheer:!0}))})),i.length&&this.props.isShowingEmotePicker&&this.props.closeEmotePicker(),!this.isTypingCheer()&&i.length&&i.length>=1&&!this.state.showBitsCard&&!this.state.showChatRestrictionCard&&!this.props.showEmotePicker&&this.trackBitsCardInteraction(fi.c.OpenCardViaCheering),this.setState({messageCheers:Object(lt.b)(i,this.props.bitsConfig)})}e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate))},t.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},t.prototype.render=function(){var e=this.isCurrentUserBanned(),t=this.isCurrentUserTimedOut(),n=Object(T.d)("Send a message","ChatInput");if(e)return o.createElement(Qi,{renderButtonContainer:this.renderButtonContainer});if(this.inChatInputRevampExperiment&&t)return o.createElement(ga,{timeoutSecondsRemaining:this.getRemainingTimedOutSeconds(),renderButtonContainer:this.renderButtonContainer,refetchTimeoutState:this.refetchTimeoutState});if(this.state.hasSeenAndRejectedEmbedPrompt)return o.createElement(Qe.a,{className:"chat-input",display:this.props.hidden?ze.d.Hide:ze.d.Block,padding:{x:2,bottom:2}},o.createElement(Ye.a,{"data-test-selector":"chat-embed-denied-text"},Object(T.d)("You rejected the prompt to send messages in this embedded version of Twitch Chat. If this was done in error, please refresh the page.","ChatInput")),this.renderButtonContainer(!0,null));var i=[];!this.props.enableBitsInput||!this.props.bitsEnabled||this.props.tray&&this.props.tray.disableBits||i.push(o.createElement(di,{key:"bits",onClick:this.onBitsIconClick,channelID:this.props.channelID,onGemNotification:this.setBitsGemNotificationExists})),this.state.showEmotePickerButton&&i.push(o.createElement(Vi.b,{key:"emote-picker",onClick:this.onEmotePickerToggle,isActive:this.props.isShowingEmotePicker}));var a=null;(this.props.firstPageLoaded||this.state.hasInteracted)&&(a=o.createElement(Vi.c,{channelOwnerID:this.props.channelID,emotePickerSource:Hi.a.Chat,onClickClose:this.onEmotePickerToggle,onClickEmote:this.onClickEmote,onLoad:this.onEmotePickerDataLoaded,toggleVisibility:this.onEmotePickerToggle,visible:this.props.isShowingEmotePicker&&(!this.inChatInputRevampExperiment||!this.props.isShowingChatRules),size:Wi.c.Auto,direction:Wi.b.TopRight}));var r=o.createElement(ii,null);!this.props.firstPageLoaded&&!this.state.hasInteracted||!this.props.enableBitsInput||!this.props.bitsEnabled||this.props.tray&&this.props.tray.disableBits||(r=o.createElement(ni,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,trackingID:this.state.bitsTrackingId,checkoutID:this.state.bitsCheckoutId,currentCheers:this.state.messageCheers,isSending:this.state.isSendingBits,isStaff:this.props.isStaff,isAnonymous:this.state.isAnonymousCheer,onCancelSend:this.cancelDelayedSend,onClickCheermote:this.onClickEmote,onConfirmSend:this.confirmDelayedSend,onUserClose:this.onBitsClose,trackBitsCardInteraction:this.trackBitsCardInteraction,visible:this.state.showBitsCard&&(!this.inChatInputRevampExperiment||!this.props.isShowingChatRules),cheerMessageAutoModded:this.props.isTextInputDisabled,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,chatMessage:this.state.value,onCheerInvalid:this.onCheerInvalid,onAnonymousToggle:this.onAnonymousCheerToggle}));var s=null;!(this.props.data&&this.props.data.channel&&this.props.data.channel.cheer&&this.props.data.channel.cheer.hashtags&&this.state.messageCheers.length>0)||this.props.tray&&this.props.tray.disableBits||(s=o.createElement(pi,{hashTags:this.props.data.channel.cheer.hashtags}));var c=null;!this.inChatCommandAutocompleteExperiment||this.props.tray&&this.props.tray.disableCommands||(c=o.createElement(wi,{permissionLevel:this.props.commandPermissionLevel}));var l=null;this.props.moderatedMessageParts&&this.props.moderatedMessageParts.length>0&&(l=o.createElement(Ii,{moderatedReason:this.props.moderatedReason,moderatedMessageParts:this.props.moderatedMessageParts}));var d=null;if(this.props.slowMode&&(n=Object(T.d)("Send a message (chat is in slow mode)","ChatInput")),this.state.chatRestrictedReasons[0]===F.H.SLOW_MODE&&!this.ignoreSlowMode){var u=Object(Wn.b)(this.state.slowModeSecondsRemaining,Wn.a.HumanizedShort);d=Object(T.d)("You can chat in {duration}",{duration:u},"ChatInput")}var m=!this.bypassDisable&&(!this.bypassRestrictionDisable&&this.state.chatRestrictedReasons.length>0||this.inputRevampDisableChatButtonConditions()||this.props.tray&&this.props.tray.disableChat),p=wn({"chat-input__textarea":this.inChatInputRevampExperiment,"chat-input__textarea--error":this.inChatInputRevampExperiment&&(this.isErrorTray()||this.trayHasError())}),h=o.createElement(Qe.a,{className:p},o.createElement($i,{clearModifierTray:this.props.clearModifierTray,closeCard:this.closeCard,closeEmotePicker:this.props.closeEmotePicker,componentRefDelegate:this.setLocalChatInputRef,componentType:Kn.a.TextArea,containerElement:this.props.containerElement,"data-a-target":"chat-input","data-test-selector":"chat-input",disabled:this.state.isSendingBits||this.props.isTextInputDisabled||this.props.isShowingChatRules&&this.inChatInputRevampExperiment,htmlAutocomplete:"twitch-chat",maxLength:this.inChatInputRevampExperiment?500:void 0,noResize:!0,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,onValueUpdate:this.onMessageValueUpdate,paddingRight:this.inChatInputRevampExperiment?30*i.length+5:30*i.length,placeholder:n,refDelegate:this.setLocalAutocompleteInputRef,rows:this.autocompleteTextareaRows,setModifierTray:this.props.setModifierTray,suggestionSource:Kn.e.Chat,tray:this.props.tray},o.createElement(Kn.f,{emotes:this.props.emotes}),o.createElement(yi,null),s,c),this.inChatInputRevampExperiment?o.createElement(Qe.a,{position:ze.j.Absolute,attachRight:!0,attachBottom:!0},o.createElement(Ge.a,{padding:{bottom:.5,right:.5}},i)):o.createElement(Qe.a,{position:ze.j.Absolute,attachRight:!0,attachTop:!0},i),this.renderSlowModeProgressBar());h=o.createElement(ea,{checkbox:this.props.tray&&this.props.tray.checkboxLabel?{label:this.props.tray.checkboxLabel,checked:this.state.shareResubStreak,onChange:this.toggleShareResubStreak}:void 0,tray:this.props.tray,onClose:this.closeTray},h);var f=o.createElement(ja,{authToken:this.props.authToken,badgeSets:this.props.badgeSets,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage}),g=[];this.inChatInputRevampExperiment&&(g.push(o.createElement(Xi,{key:"char-limit-handler",inputValue:this.state.value,maxLength:500})),this.props.isCurrentUserModerator||this.props.isCurrentUserVIP||(g.push(o.createElement(la,{key:"dupe-message-handler",inputValue:this.state.value,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})),g.push(o.createElement(ha,{key:"throughput-handler",registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck}))));var v={x:2,bottom:2};return this.inChatInputRevampExperiment&&(v={x:1,bottom:1}),o.createElement(Qe.a,{className:"chat-input",display:this.props.hidden?ze.d.Hide:ze.d.Block,padding:v},this.inChatInputRevampExperiment&&this.props.isShowingChatRules&&this.renderChatRules(),l,this.props.firstPageLoaded&&f,g,this.inChatInputRevampExperiment&&o.createElement(o.Fragment,null,o.createElement(wa,{channelID:this.props.channelID,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck}),o.createElement(ma,{emoteOnlyMode:this.props.emoteOnlyMode,hasChatRestriction:this.state.chatRestrictedReasons.length>0,emotes:this.props.emotes,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})),o.createElement(oa,{channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,closeBalloon:this.onChatRestrictionBalloonClose,ignoredRestrictions:this.props.tray&&this.props.tray.ignoredRestrictions,openBalloon:this.onChatRestrictionBalloonOpen,showBalloon:this.state.showChatRestrictionCard}),o.createElement(Hn.a,{onClickOut:this.onClickOut},o.createElement(We.f,{display:this.props.moderatedMessageParts?ze.d.Hide:ze.d.Block,position:ze.j.Relative,zIndex:ze.o.Default},o.createElement("div",{onMouseEnter:this.onMouseEnterInput},a,r,h)),this.renderButtonContainer(m,d)))},t.prototype.renderChatRules=function(){if(this.props.data&&this.props.data.channel)return o.createElement(Ni,{channelDisplayName:this.props.data.channel.displayName,channelProfileImageUrl:this.props.data.channel.profileImageURL,channelLogin:this.props.channelLogin,channelID:this.props.channelID,chatRules:this.props.chatRules,onCloseChatRules:this.props.closeChatRules})},t.prototype.renderSendButton=function(e){var t=this;void 0===e&&(e=!1);var n=Object(T.d)("Chat","ChatInput");if(this.state.value&&null!==Object(Si.u)(this.state.value))n=Object(T.d)("Whisper","ChatInput");else if(this.props.tray)switch(this.props.tray.sendButtonOverride){case kt.b.ShareBitsBadgeTier:case kt.b.ShareResub:n=Object(T.d)("Share","ChatInput");break;case kt.b.ThankSubGifter:n=Object(T.d)("Send Thanks","ChatInput")}return o.createElement(Ke.a,{onClick:function(){return t.onMessageSend(Ui.b.Click)},"data-a-target":"chat-send-button","data-test-selector":"chat-send-button",disabled:this.state.isSendingBits||this.props.isTextInputDisabled||e},n)},t.prototype.sendRegularMessage=function(e){var t=this;if(this.props.onSendMessage){var n=Object(Si.r)(this.state.value);if(n&&!T.m.get(Pi,!1)&&!this.props.hideOnboardingPrompts)return this.setState({showBitsCard:!1,showChatRestrictionCard:!1},(function(){t.trackChatEvent(t.props.emotePickerSessionID,e),t.autocompleteInputRef&&t.autocompleteInputRef.setValue(""),t.props.openRaidUpsellFromHost(n.recipientLogin)}));if(this.inChatInputRevampExperiment&&!this.props.isCurrentUserModerator&&!this.props.isCurrentUserVIP&&!this.isTypingCommand()){for(var i=0,a=Object.keys(this.sendMessageErrorChecks);i<a.length;i++){var r=a[i];if(this.sendMessageErrorChecks[r].check(this.state.value))return}for(var o=0,s=Object.keys(this.sendMessageErrorChecks);o<s.length;o++){r=s[o];this.sendMessageErrorChecks[r].onMessageSent(this.state.value)}}this.props.onSendMessage(this.state.value)&&(this.trackChatEvent(this.props.emotePickerSessionID,e),this.trackMentions(),this.props.tray&&this.props.tray.sendMessageHandler&&this.props.tray.sendMessageHandler.type===kt.c.Chat&&this.props.tray.sendMessageHandler.onSuccess&&this.props.tray.sendMessageHandler.onSuccess(this.state.value,this.props.tray.sendMessageHandler.params),this.props.tray?this.props.clearTray():this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),this.props.isShowingEmotePicker&&this.props.closeEmotePicker(),this.setState({showBitsCard:!1,showChatRestrictionCard:!1}))}},t.prototype.handleLogin=function(){var e={onComplete:this.storePendingMessage,targetChannel:this.props.channelDisplayName,showContext:!0};this.props.login(e)},t.prototype.isErrorTray=function(){return this.props.tray&&this.props.tray.type&&this.shouldClearModifierTrayTypes.has(this.props.tray.type)},t.prototype.trayHasError=function(){return this.props.tray&&!!this.props.tray.error},t.prototype.isAutocompleteTray=function(){return this.props.tray&&this.props.tray.type===kt.a.AutocompleteTray},t.prototype.trackChatEvent=function(e,t){Object(xi.b)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,emotePickerSessionID:e,isHostMode:this.props.isHostMode,player:this.props.isPopout?Ui.a.Embed:Ui.a.Web,subOnlyMode:this.props.subsOnlyMode,viewerContext:this.props.viewerContext,sendAction:t})},t.prototype.trackMentions=function(){if(this.state.value&&this.props.sessionUser)for(var e=0,t=Object(zn.a)(this.state.value,{mentions:{senderLogin:this.props.sessionUser.login,sessionUser:this.props.sessionUser}});e<t.length;e++){var n=t[e];n.type===Bt.a.Mention&&n.content.currentUserMentionRelation!==Ai.a.Recipient&&Object(Bi.a)({channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode,mentionedUserDisplayName:n.content.recipient,userLogin:this.props.sessionUser.login})}else T.k.warn("[ChatInput] trackMentions was called in a nonsensical state.")},t.prototype.getPendingMessage=function(){return T.m.get(Da,"")},t.prototype.clearPendingMessage=function(){T.m.set(Da,"")},t.prototype.restorePendingMessage=function(){var e=this.getPendingMessage();e&&this.autocompleteInputRef&&(this.autocompleteInputRef.setValue(e),this.clearPendingMessage())},t}(o.Component);var La=Object(c.d)(Object(l.a)(_a,{name:"sendCheer"}),Object(l.a)(zi,{skip:function(e){return!e.firstPageLoaded}}),W,Object(D.withLatencyTracking)("ChatInput",{autoReportInteractive:!0}),Object(s.b)((function(e){return{emotePickerSessionID:e.chat.emotePickerSessionID,sessionUser:Object(h.e)(e)}}),(function(e){return Object(c.b)({login:function(e){return Object(Yn.e)(Qn.a.Chat,e)},updateRenderSentChatMessageEvent:b.Q},e)})),Object(Be.b)((function(e){return{emoteOnlyMode:e.emoteOnlyMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}})),Object(k.b)((function(e){return{hideChatSettings:e.hideChatSettings,hideOnboardingPrompts:e.hideOnboardingPrompts,hideChatInputButtons:e.hideChatInputButtons}})),Object(_.b)((function(e){return{tray:e.tray,clearTray:e.clearTray,setModifierTray:e.setModifierTray,clearModifierTray:e.clearModifierTray,setAutocompleteInputRef:e.setAutocompleteInputRef,setChatInputRef:e.setChatInputRef}})),Object(Oi.b)((function(e){return e})),E((function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}})),Object(N.b)((function(e){return{isShowingChatRules:e.isShowingChatRules,showChatRules:e.showChatRules,closeChatRules:e.closeChatRules,isShowingEmotePicker:e.isShowingEmotePicker,showEmotePicker:e.showEmotePicker,closeEmotePicker:e.closeEmotePicker}})),Object(f.b)((function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled}})))(Ra),Aa=n("SceP"),Ua=n("fxMP");var xa,Ba=n("DLhE"),Va=n("imBb"),Ha=(n("VcSt"),n("i8i4")),qa=n("MJbm"),Ga=n("8/mp"),Wa=n("HAa/"),za=n("Y/1R"),Qa=new Set([et.b.AutoMod,et.b.ChannelPointsReward,et.b.Clear,et.b.Connected,et.b.Disconnected,et.b.EmoteOnlyMode,et.b.FollowerOnlyMode,et.b.Hosted,et.b.Hosting,et.b.Info,et.b.Message,et.b.Moderation,et.b.ModerationAction,et.b.Notice,et.b.PrimeCommunityGiftReceivedEvent,et.b.R9KMode,et.b.Raid,et.b.Ritual,et.b.RoomMods,et.b.SlowMode,et.b.TargetedModerationAction,et.b.Unhost,et.b.Unraid]),Ya=(n("HjUq"),["scroll","wheel","mousewheel","DOMMouseScroll"]),Ka=10,Xa=5e3,$a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isAutoScrolling:!0,isLoadingMore:!1,isPaused:!1,loadMoreEnabled:!0,hoverResumeTimer:null,keyboardResumeLock:!1},t.shouldUpdateMessages=!1,t.inChatInputRevampExperiment="variant1"===T.p.experiments.getAndTrackAssignment(st.c.ChatInputRevamp),t.saveScrollRef=function(e){return t.scroll=e},t.saveLastLineRef=function(e){e&&(t.lastLine=Object(Ha.findDOMNode)(e))},t.handleScrollEvent=function(e){if(t.scroll&&t.scroll.scrollContent&&(e.which>0||"mousewheel"===e.type||"wheel"===e.type)){t.state.isPaused&&(t.clearHoverResumeTimer(),t.setKeyboardResumeLock(!1),t.setLoadMoreEnabled(!0));var n=t.scroll.scrollContent.scrollHeight-t.scroll.scrollContent.scrollTop-t.scroll.scrollContent.offsetHeight;n<=Ka&&!t.state.isAutoScrolling&&!t.props.hasNewerLeft?t.resume():t.state.isAutoScrolling&&n>Ka&&t.pause()}},t.handleResize=function(){t.state.isAutoScrolling&&t.scrollToBottom()},t.loadNewer=function(){return new Promise((function(e){t.setState({isLoadingMore:!0},(function(){t.props.loadNewer(),t.setState({isLoadingMore:!1},e)}))}))},t.hoverPause=function(){t.props.chatPauseSetting&&[F.G.MOUSEOVER,F.G.MOUSEOVER_ALTKEY].includes(t.props.chatPauseSetting)&&!t.props.isShowingCommunityHighlightList&&(t.state.isPaused||(t.pause(),t.setLoadMoreEnabled(!1),t.setHoverResumeTimer()))},t.hoverResume=function(){t.state.isPaused&&null!==t.state.hoverResumeTimer&&t.resume()},t.keyboardPause=function(){t.props.chatPauseSetting&&[F.G.ALTKEY,F.G.MOUSEOVER_ALTKEY].includes(t.props.chatPauseSetting)&&(t.state.isPaused||(t.pause(),t.setLoadMoreEnabled(!1),t.setKeyboardResumeLock(!0)))},t.keyboardResume=function(e){t.state.isPaused&&t.state.keyboardResumeLock&&(e.preventDefault(),t.resume(),t.setKeyboardResumeLock(!1))},t.pause=function(){t.props.chatPauseSetting&&t.props.setPaused&&t.setState({isPaused:!0},(function(){return t.props.setPaused&&t.props.setPaused(!0)})),t.setState({isAutoScrolling:!1})},t.resume=function(){t.props.loadNewest(),t.clearHoverResumeTimer(),t.setState({isAutoScrolling:!0,isPaused:!1},(function(){t.props.setPaused&&t.props.setPaused(!1),t.scrollToBottom()}))},t.setHoverResumeTimer=function(){null===t.state.hoverResumeTimer&&t.setState({hoverResumeTimer:setTimeout(t.resume,Xa)})},t.clearHoverResumeTimer=function(){t.state.hoverResumeTimer&&(clearTimeout(t.state.hoverResumeTimer),t.setState({hoverResumeTimer:null}))},t.setKeyboardResumeLock=function(e){t.state.keyboardResumeLock!==e&&t.setState({keyboardResumeLock:e})},t.setLoadMoreEnabled=function(e){t.state.loadMoreEnabled!==e&&t.setState({loadMoreEnabled:e})},t.scrollToBottom=function(){t.scroll&&t.scroll.scrollContent&&(t.scroll.scrollContent.scrollTop=t.scroll.scrollContent.scrollHeight)},t.scrollDelta=function(e){t.scroll&&t.scroll.scrollContent&&(t.scroll.scrollContent.scrollTop=t.scroll.scrollContent.scrollTop+e)},t.reportChatRenderSent=function(){t.props.chatRenderSentEvent&&t.props.latencyTracking.reportCustomEvent(t.props.chatRenderSentEvent)},t.mapMessageToChatLine=function(e,n,i){return o.createElement(za.a,{badgeSets:t.props.badgeSets,channelID:t.props.channelID,channelLogin:t.props.channelLogin,isCurrentUserModerator:t.props.isCurrentUserModerator,isCurrentUserStaff:t.props.isCurrentUserStaff,message:e,key:e.id,showAutoModActions:t.props.showAutoModActions,showModerationActions:t.props.showModerationActions,showModerationIcons:t.props.showModerationIcons,showTimestamps:t.props.showTimestamps,useHighContrastColors:t.props.useHighContrastColors,deletedMessageDisplay:t.props.deletedMessageDisplay,currentUserDisplayName:t.props.currentUserDisplayName,currentUserLogin:t.props.currentUserLogin,currentUserID:t.props.userID,confirmModerationAction:t.props.confirmModerationAction,forceUpdateMessage:t.shouldUpdateMessages,theme:t.props.theme,onRenderReportChatSent:t.reportChatRenderSent,messageIndex:n,ref:n===i.length-1?t.saveLastLineRef:void 0})},t.mapWatchPartyMessageToChatLine=function(e,n,i){return Qa.has(e.type)?o.createElement(za.a,{badgeSets:t.props.badgeSets,channelID:t.props.channelID,channelLogin:t.props.channelLogin,isCurrentUserModerator:t.props.isCurrentUserModerator,isCurrentUserStaff:t.props.isCurrentUserStaff,message:e,key:e.id,showAutoModActions:t.props.showAutoModActions,showModerationActions:t.props.showModerationActions,showModerationIcons:t.props.showModerationIcons,showTimestamps:t.props.showTimestamps,useHighContrastColors:t.props.useHighContrastColors,deletedMessageDisplay:t.props.deletedMessageDisplay,currentUserDisplayName:t.props.currentUserDisplayName,currentUserLogin:t.props.currentUserLogin,currentUserID:t.props.userID,confirmModerationAction:t.props.confirmModerationAction,forceUpdateMessage:t.shouldUpdateMessages,theme:t.props.theme,onRenderReportChatSent:t.reportChatRenderSent,messageIndex:n,ref:n===i.length-1?t.saveLastLineRef:void 0,hideBroadcasterTooltip:!0}):null},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;Va.bindGlobal("alt",this.keyboardPause,"keydown"),Va.bindGlobal("alt",this.keyboardResume,"keyup"),Ya.forEach((function(t){e.scroll&&e.scroll.scrollContent&&e.scroll.scrollContent.addEventListener(t,e.handleScrollEvent,{passive:!0})}))},t.prototype.componentWillUnmount=function(){var e=this;Va.unbind("alt","keydown"),Va.unbind("alt","keyup"),Ya.forEach((function(t){e.scroll&&e.scroll.scrollContent&&e.scroll.scrollContent.removeEventListener(t,e.handleScrollEvent)}))},t.prototype.getSnapshotBeforeUpdate=function(){return!this.state.isAutoScrolling&&this.lastLine&&{lastLine:this.lastLine,offsetTop:this.lastLine.offsetTop}||null},t.prototype.componentDidUpdate=function(e,t,n){this.shouldUpdateMessages=!1,this.props.messages!==e.messages&&(this.state.isAutoScrolling?this.scrollToBottom():n&&this.scrollDelta(n.lastLine.offsetTop-n.offsetTop))},t.prototype.render=function(){var e=this.props.messages,t=this.props.isCommerceDisabled?e.map(this.mapWatchPartyMessageToChatLine).filter((function(e){return null!==e})):e.map(this.mapMessageToChatLine);return o.createElement(ze.g,{className:"chat-list",display:ze.d.Flex,flexDirection:ze.e.Column,flexWrap:ze.f.NoWrap,overflow:ze.i.Hidden,flexGrow:1},o.createElement("div",{ref:this.props.containerRef,onMouseEnter:this.hoverPause,onMouseLeave:this.hoverResume},o.createElement(qa.a,{onResize:this.handleResize}),o.createElement(ze.g,{flexGrow:1},o.createElement(Ga.b,{className:"chat-list__lines",scrollRef:this.saveScrollRef,"data-a-target":"chat-scroller"},o.createElement(ze.g,{className:"chat-list__list-container",flexGrow:1,fullHeight:!0,padding:{bottom:1}},o.createElement("div",{role:"log"},t,o.createElement(Ga.a,{forceLoadMoreContent:this.props.hasNewerLeft,loadMore:this.loadNewer,pixelThreshold:400,orientation:Wa.b.Up,enabled:this.props.hasNewerLeft&&this.state.loadMoreEnabled,requestCap:2}))))),o.createElement(Qe.a,{className:"chat-list__list-footer-placeholder",position:ze.j.Relative,display:ze.d.Flex,justifyContent:ze.h.Center,margin:{x:2}},this.listFooter())))},t.prototype.listFooter=function(){var e=null;if(this.state.isPaused)e=this.state.hoverResumeTimer?Object(T.d)("Chat paused due to mouseover.","ChatList"):this.state.keyboardResumeLock?Object(T.d)("Chat paused with the alt key.","ChatList"):Object(T.d)("Chat paused due to scroll.","ChatList");else{if(this.state.isAutoScrolling)return null;e=Object(T.d)("More messages below.","ChatList")}return o.createElement(ze.g,{display:ze.d.Flex,justifyContent:ze.h.Center,alignItems:ze.b.Center,position:ze.j.Absolute,padding:this.inChatInputRevampExperiment?{x:2,y:.5}:.5,margin:this.inChatInputRevampExperiment?{bottom:1}:0,attachBottom:!0,fullWidth:!this.inChatInputRevampExperiment},o.createElement(Ge.a,{className:"chat-list__list-footer",borderRadius:We.b.Medium,"data-a-target":"chat-list-footer"},o.createElement("div",{onClick:this.resume},e)))},t}(o.Component),Ja=Object(D.withLatencyTracking)("ChatListPresentation",{autoReportInteractive:!0})($a),Za=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={messages:[]},t.onBufferUpdate=function(){t.syncBufferHandle||(t.syncBufferHandle=setTimeout(t.syncBufferedMessages,0))},t.syncBufferedMessages=function(){t.props.messageBufferAPI&&t.setState({messages:t.props.messageBufferAPI.getMessages()}),t.clearBufferHandle()},t.clearBufferHandle=function(){t.syncBufferHandle&&(clearTimeout(t.syncBufferHandle),t.syncBufferHandle=0)},t.hasNewerLeft=function(){return t.props.messageBufferAPI&&t.props.messageBufferAPI.hasNewerLeft&&t.props.messageBufferAPI.hasNewerLeft()||!1},t.isPaused=function(){return t.props.messageBufferAPI&&t.props.messageBufferAPI.isPaused&&t.props.messageBufferAPI.isPaused()||!1},t.setPaused=function(e){t.props.messageBufferAPI&&t.props.messageBufferAPI.setPaused&&t.props.messageBufferAPI.setPaused(e)},t.loadNewer=function(){t.props.messageBufferAPI&&t.props.messageBufferAPI.loadNewer&&t.props.messageBufferAPI.loadNewer()},t.loadNewest=function(){t.props.messageBufferAPI&&t.props.messageBufferAPI.loadNewest&&t.props.messageBufferAPI.loadNewest()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))},t.prototype.componentDidUpdate=function(e){var t,n,i,a=this.props.pubsub.messages,r=a.chatRichEmbedInfo,o=a.extensionMessage;r&&e.pubsub.messages.chatRichEmbedInfo!==r&&T.p.apollo.client.writeQuery({query:Aa,variables:{slug:r.data.twitch_metadata.clip_metadata.slug},data:(t=r,n=t.data.twitch_metadata.clip_metadata,{clip:n.id?{__typename:"Clip",slug:n.slug,id:n.id,url:t.data.request_url,title:t.data.title,thumbnailURL:t.data.thumbnail_url,curator:n.curator_id?{displayName:t.data.author_name,id:n.curator_id,__typename:"User"}:null,broadcaster:n.channel_display_name?{displayName:n.channel_display_name,id:n.broadcaster_id,__typename:"User"}:null}:null})}),e.messageBufferAPI!==this.props.messageBufferAPI&&(e.messageBufferAPI&&e.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))),o&&e.pubsub.messages.extensionMessage!==o&&e.onPushMessage((i=o.data,{type:et.b.ExtensionMessage,id:i.id,sentAt:i.sent_at,extension:{clientID:i.sender.extension_client_id,version:i.sender.extension_version,displayName:i.sender.display_name,displayBadges:Object(Ua.b)(i.sender.badges),chatColor:i.sender.chat_color},content:{text:i.content.text,fragments:Object(Ua.c)(i.content.fragments)}}))},t.prototype.componentWillUnmount=function(){this.props.messageBufferAPI&&this.props.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.clearBufferHandle()},t.prototype.render=function(){return o.createElement(Ja,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatPauseSetting:this.props.chatPauseSetting,chatRenderSentEvent:this.props.chatRenderSentEvent,confirmModerationAction:this.props.confirmModerationAction,containerRef:this.props.containerRef,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,deletedMessageDisplay:this.props.deletedMessageDisplay,hasNewerLeft:this.hasNewerLeft(),isCommerceDisabled:this.props.isCommerceDisabled,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isEmbedded:this.props.isEmbedded,loadNewer:this.loadNewer,loadNewest:this.loadNewest,messages:this.state.messages,onPushMessage:this.props.onPushMessage,paused:this.isPaused(),setChatPauseSetting:this.props.setChatPauseSetting,setPaused:this.props.messageBufferAPI&&this.props.messageBufferAPI.setPaused&&this.setPaused,showAutoModActions:this.props.showAutoModActions,showModerationActions:this.props.showModerationActions,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,theme:this.props.theme,useHighContrastColors:this.props.useHighContrastColors,isShowingCommunityHighlightList:this.props.isShowingCommunityHighlightList,userID:this.props.userID})},t}(o.Component);var er=Object(c.d)(Object(s.b)((function(e){return{chatRenderSentEvent:Object(Ba.a)(e),showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps}})),Object(d.a)([{skip:function(e){return!e.channelID},topic:function(e){return e.channelID?Object(p.M)(e.channelID):""},mapMessageTypesToProps:(xa={},xa[m.PubsubMessageType.StreamChatRoomChatRichEmbed]="chatRichEmbedInfo",xa[m.PubsubMessageType.StreamChatRoomExtensionMessage]="extensionMessage",xa)}]),Y,Object(He.b)((function(e){return{useHighContrastColors:e.value}})),Object(Ve.d)((function(e){return{deletedMessageDisplay:e.value}})),Object(xe.d)(xe.c),Object(I.withWatchPartyContext)(I.mapWatchPartyStateToChatProps),Object(Le.d)((function(e){return{isShowingCommunityHighlightList:e.listAllView}})))(Za),tr=(n("9Rmp"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickConfirm=function(){t.markRoomSeen(),T.o.track(dt.SpadeEventType.ChatRulesAccepted,{channel_id:t.props.channelID,channel_login:t.props.channelLogin}),t.props.onCloseChatRules()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){T.o.track(dt.SpadeEventType.ChatRulesViewed,{channel_login:this.props.channelLogin,channel_id:this.props.channelID})},t.prototype.render=function(){return o.createElement(Qe.a,{className:"chat-rules",position:ze.j.Relative},o.createElement(Ge.a,{border:!0,background:We.a.Base,margin:{bottom:1}},o.createElement(Qe.a,{padding:1},o.createElement(Qe.a,{margin:{bottom:1}},o.createElement(Ye.a,{type:Ye.e.H6},Object(T.d)("Chat Rules:","ChatRules"))),o.createElement(Qe.a,null,o.createElement("ul",null,this.props.chatRules.map((function(e,t){return o.createElement("li",{key:t},e)})))),o.createElement(Qe.a,{margin:{top:1},display:ze.d.Flex,justifyContent:ze.h.Center},o.createElement(Ke.a,{size:Ke.b.Small,onClick:this.onClickConfirm},Object(T.d)("Ok, got it!","ChatRules"))))))},t.prototype.markRoomSeen=function(){var e=T.m.get("chat_rules_shown",{});e[this.props.channelLogin]=!0,T.m.set("chat_rules_shown",e)},t}(o.Component)),nr=n("8in3"),ir=n("bjUr"),ar=n("j+2s"),rr=(n("kPCN"),"chat_rules_shown"),or=T.k.withCategory("chat-room"),sr=j.a.wrap((function(){return Promise.all([n.e(0),n.e(61)]).then(n.bind(null,"A39y"))}),"ChatViewers"),cr=j.a.wrap((function(){return n.e(65).then(n.bind(null,"Y9qK"))}),"NewChatterRitual",{failSilently:!0,placeholder:null}),lr=j.a.wrap((function(){return Promise.all([n.e(0),n.e(55)]).then(n.bind(null,"DlC9"))}),"CommunityHighlightStackManager",{placeholder:null}),dr=function(e){function t(t){var n=e.call(this,t)||this;n.hasAcceptedModerationConfirmation=!1,n.inChatInputRevampExperiment=!1,n.closeViewersList=function(){n.props.closeChatViewerList()},n.showViewersList=function(){n.props.closeRoomPicker&&n.props.closeRoomPicker(),n.props.showChatViewerList()},n.confirmModerationAction=function(){return!(n.props.isEmbedded&&!n.hasAcceptedModerationConfirmation)||(n.hasAcceptedModerationConfirmation=window.confirm(Object(T.d)("Do you want to enable the ability to timeout and ban on embedded version of Twitch Chat? This setting will persist until you refresh the page.","ChatRoom")),n.hasAcceptedModerationConfirmation)},n.onChatInputFocus=function(){var e=T.m.get(rr,{});n.props.chatRules&&n.props.chatRules.length>0&&!e[n.props.channelLogin]&&(n.onShowChatRules(),n.inChatInputRevampExperiment&&n.props.showChatRules())},n.onShowChatRules=function(){n.props.authToken&&n.props.onShowChatRules()},n.setChatListElement=function(e){n.setState({chatListElement:e})},n.shouldHideChatInput=function(){return n.props.chatView===ir.a.ViewerList},n.openRaidUpsellFromHost=function(e){return n.closeRaidUpsell((function(){n.setState({raidUpsellTarget:e})}))},n.closeRaidUpsell=function(e){return n.setState({raidUpsellTarget:null},(function(){e&&e()}))},n.onSendCheerError=function(e,t){switch(t.code){case F.zc.AUTO_MOD_MESSAGE:n.setState({moderatedReason:Ei.AUTOMOD,forceSendCheer:!1,moderatedMessageParts:Object(Ua.g)(t.messageContent.fragments,!1)});break;case F.zc.INVALID_ANONYMOUS_MESSAGE:n.setState({moderatedReason:Ei.ANONYMOUS_CHEERING,forceSendCheer:!1,anonymousCheerMessageParts:Object(Ua.g)(t.messageContent.fragments,!1,n.props.currentUserLogin,n.props.bitsConfig),moderatedMessageParts:[Object(Nn.a)(e)]});break;default:n.setState({bitsSendErrorCode:t.code,bitsSendHasError:!0}),n.clearCheerErrorPrompts()}},n.clearBitsSendError=function(){n.setState({bitsSendErrorCode:F.zc.UNKNOWN,bitsSendHasError:!1})},n.clearCheerErrorPrompts=function(){n.setState({forceSendCheer:!1,moderatedReason:null,moderatedMessageParts:null,anonymousCheerMessageParts:null})},n.onBitsAutoModCheerAnyway=function(){n.setState({moderatedReason:null,forceSendCheer:!0})},n.onInvalidAnonymousCheerPromptCheerAnyway=function(){n.setState({moderatedReason:null,forceSendCheer:!0})};var i=new On.c([],[],n.props.channelLogin);return n.state={raidUpsellTarget:null,badgeSets:i,forceSendCheer:!1,bitsSendErrorCode:F.zc.UNKNOWN,bitsSendHasError:!1,moderatedMessageParts:null,anonymousCheerMessageParts:null},n.inChatInputRevampExperiment="variant1"===T.p.experiments.getAndTrackAssignment(st.c.ChatInputRevamp),n}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e){var t={};if(e.data&&e.data.badges&&e.data.user&&e.data.user.broadcastBadges&&(t.badgeSets=new On.c(e.data.badges,e.data.user.broadcastBadges,e.channelLogin)),e.data&&e.data.user&&e.data.user.self&&!e.data.user.squadStream&&e.data.user.self.displayBadges){var n={};e.data.user.self.displayBadges.forEach((function(e){e&&(n[e.setID]=e.version)})),T.p.tmi.client.updateChannelBadges(e.channelLogin,n,e.userBadgeDynamicData||{})}return Object.keys(t).length>0?t:null},t.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.props.onCloseChatRules()},t.prototype.componentWillUnmount=function(){this.props.onCloseChatRules()},t.prototype.render=function(){if(this.props.isBackground)return null;if(this.props.isHidden&&!this.props.isPopout)return o.createElement(Ge.a,{alignItems:ze.b.Center,borderLeft:!0,display:ze.d.Flex,flexDirection:ze.e.Column,fullHeight:!0,fullWidth:!0,justifyContent:ze.h.Center,color:We.c.Base,position:ze.j.Relative},o.createElement(Qe.a,{margin:{bottom:1}},o.createElement(Ye.a,{fontSize:We.d.Size5},Object(T.d)("Chat is hidden.","ChatRoom"))),o.createElement(Ke.a,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button","data-test-selector":"show-chat-button"},Object(T.d)("Show Chat","ChatRoom")));var e=this.props.bitsEnabled&&this.props.firstPageLoaded&&this.props.channelID&&o.createElement(xn,{channelID:this.props.channelID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,userID:this.props.userID}),t=this.props.chatView===ir.a.ViewerList&&o.createElement(Ge.a,{attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,background:We.a.Alt2,position:ze.j.Absolute,zIndex:ze.o.Above},o.createElement(Qe.a,{padding:{y:1}},o.createElement(Qe.a,{position:ze.j.Absolute,attachLeft:!0,margin:{left:1}},o.createElement(Xe.a,{icon:$e.a.Close,ariaLabel:Object(T.d)("Close","ChatRoom"),onClick:this.closeViewersList,"data-test-selector":"close-viewer-list"}))),o.createElement(sr,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,closeViewersList:this.closeViewersList,isCurrentUserBanned:this.props.currentUserBannedStatusData&&this.props.currentUserBannedStatusData.channel&&this.props.currentUserBannedStatusData.channel.self&&this.props.currentUserBannedStatusData.channel.self.banStatus&&this.props.currentUserBannedStatusData.channel.self.banStatus.isPermanent||!1,"data-test-selector":"chat-viewers"})),n=!!this.props.authToken&&!this.props.isEmbedded,i=null;this.props.isChatRulesOpen&&this.props.chatRules&&this.props.chatRules.length&&!this.inChatInputRevampExperiment&&(i=o.createElement(Qe.a,{padding:{x:2}},o.createElement(tr,{chatRules:this.props.chatRules,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onCloseChatRules:this.props.onCloseChatRules})));var a=wn({"chat-room":!0,"chat-room__base-background":!!this.props.useBaseBackground});return o.createElement(ze.g,{"data-test-selector":"chat-room-component-layout","data-a-target":this.props.theme===$.a.Dark?"chat-theme-dark":"chat-theme-light",flexShrink:1,flexGrow:1,display:ze.d.Flex,flexDirection:ze.e.Column,fullWidth:!0},o.createElement("section",{"data-test-selector":"chat-room-section",className:a,role:"complementary","aria-labelledby":"chat-room-header-label"},this.props.isShowingCommunityHighlightList&&o.createElement(ze.g,{position:ze.j.Absolute,zIndex:ze.o.Above,className:"chat-room__overlay",fullHeight:!0,fullWidth:!0},o.createElement("div",{onClick:this.props.closeCommunityHighlightList})),o.createElement(Ge.a,{display:ze.d.Flex,flexDirection:ze.e.Column,flexWrap:ze.f.NoWrap,position:ze.j.Relative,flexGrow:1,fullHeight:!0,color:We.c.Base,className:"chat-room__content"},this.props.chatRoomHeader,e,this.props.channelID&&this.props.firstPageLoaded&&o.createElement(lr,{key:this.props.channelID,channelID:this.props.channelID,channelLogin:this.props.channelLogin}),o.createElement(er,{badgeSets:this.state.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,containerRef:this.setChatListElement,confirmModerationAction:this.confirmModerationAction,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isEmbedded:this.props.isEmbedded,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,onPushMessage:this.props.onPushMessage,theme:this.props.theme,userID:this.props.userID}),o.createElement(Qe.a,{className:"chat-room__notifications",position:ze.j.Absolute,zIndex:ze.o.Above,fullWidth:!0},this.props.children),i,t,this.state.raidUpsellTarget&&o.createElement(Ue.a,null,o.createElement(Li,{send:this.props.onSendMessage,targetChannelLogin:this.state.raidUpsellTarget,sourceChannelLogin:this.props.channelLogin,closeRaidUpsell:this.closeRaidUpsell})),this.props.firstPageLoaded&&this.props.channelID&&o.createElement(cr,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,onPushMessage:this.props.onPushMessage,onSendMessage:this.props.onSendMessage}),this.state.moderatedReason===Ei.AUTOMOD&&o.createElement(Rn,{badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onBitsAutoModCheerAnyway}),this.state.moderatedReason===Ei.ANONYMOUS_CHEERING&&o.createElement(Tn,{messageParts:this.state.anonymousCheerMessageParts||[],badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onInvalidAnonymousCheerPromptCheerAnyway}),o.createElement(La,{authToken:this.props.authToken,enableBitsInput:n,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,chatRules:this.props.chatRules,channelLogin:this.props.channelLogin,commandPermissionLevel:this.props.commandPermissionLevel,emotes:this.props.emotes,emoteMap:this.props.emoteMap,firstPageLoaded:this.props.firstPageLoaded,hidden:this.shouldHideChatInput(),isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatCommand:this.props.onSendMessage,onShowChatRules:this.props.authToken&&this.props.chatRules&&this.props.chatRules.length?this.onShowChatRules:void 0,badgeSets:this.state.badgeSets,userBadges:this.props.userBadges,showViewersList:this.showViewersList,onSendMessage:this.props.onSendMessage,onPushMessage:this.props.onPushMessage,onInputFocus:this.onChatInputFocus,containerElement:this.state.chatListElement,openRaidUpsellFromHost:this.openRaidUpsellFromHost,onSendCheerError:this.onSendCheerError,onSendCheerSuccess:this.clearCheerErrorPrompts,isTextInputDisabled:!!this.state.moderatedReason,forceSendCheer:this.state.forceSendCheer,moderatedReason:this.state.moderatedReason,moderatedMessageParts:this.state.moderatedMessageParts,bitsSendErrorCode:this.state.bitsSendErrorCode,bitsSendHasError:this.state.bitsSendHasError,clearBitsSendError:this.clearBitsSendError}),o.createElement(Qe.a,{className:"chat-room__viewer-card",fullHeight:!0,fullWidth:!0,position:ze.j.Absolute,"data-a-target":"chat-user-card"},o.createElement(nr.a,{isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,confirmModerationAction:this.confirmModerationAction,onSendMessage:this.props.onSendMessage,channelID:this.props.channelID,channelLogin:this.props.channelLogin,isModerator:!!this.props.isCurrentUserModerator&&this.props.isCurrentUserModerator,isOwner:this.props.isOwnChannel})))))},t}(o.Component);var ur=Object(c.d)(Object(l.a)(ar,{name:"data",skip:function(e){return!e.firstPageLoaded},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(N.b)((function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList,isShowingChatRules:e.isShowingChatRules,showChatRules:e.showChatRules,closeChatRules:e.closeChatRules}})),Object(l.a)(O,{name:"currentUserBannedStatusData",options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin||!e.firstPageLoaded}}),Object(u.a)((function(e){return{query:ar,variables:{channelLogin:e.channelLogin},topic:Object(p.Q)(e.userID),type:m.PubsubMessageType.UserBitsBadgeUpdate,skip:!e.firstPageLoaded||!e.userID,mutator:function(t,n){if(or.debug("Received bits-user-update-v1 pubsub update",{data:n,event:t}),!n.badges||t.message_type===Bn.b.Balance||null===t.data.newest_version||t.data.channel_id!==e.channelID)return n;var i=n.badges.find((function(e){return!!e&&e.setID===t.data.set_id&&e.version===t.data.newest_version}));return i&&n.user&&n.user.self&&n.user.self.displayBadges?r(n,(function(e){return e.user.self}),(function(e){var t=e.displayBadges.map((function(e){return e&&e.setID===i.setID&&e.version!==i.version?Object(a.__assign)({},i):e})),n=e.selectedBadge;return(!e.selectedBadge||i.setID===Bn.a.Bits&&e.selectedBadge.setID===Bn.a.Bits)&&(n=Object(a.__assign)({},i)),e.selectedBadge&&(i.setID!==Bn.a.Leaderboard||e.selectedBadge.setID!==Bn.a.Bits&&e.selectedBadge.setID!==Bn.a.Leaderboard)||(n=Object(a.__assign)({},i)),Object(a.__assign)(Object(a.__assign)({},e),{displayBadges:t,selectedBadge:n})})):n}}})),_n.j,Object(f.b)((function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled}})),Object(Le.d)((function(e){return{isShowingCommunityHighlightList:e.listAllView}})),Object(Le.e)((function(e){return{closeCommunityHighlightList:function(){return e(Object(Vn.b)())}}})))(dr),mr="(?:\\W|^)",pr="(?:$|\\W)",hr="PowerUpL DarkMode PowerUpR",fr={failSilently:!0,placeholder:null},gr=j.a.wrap((function(){return n.e(60).then(n.bind(null,"q7q0"))}),"BountyBoardNotification",fr),vr=j.a.wrap((function(){return n.e(64).then(n.bind(null,"KSjr"))}),"NativeBroadcastNotification",fr),br=j.a.wrap((function(){return n.e(66).then(n.bind(null,"T3fw"))}),"Orbis",fr),kr=j.a.wrap((function(){return n.e(67).then(n.bind(null,"rg60"))}),"RitualsOnboardingSticky",fr),yr=j.a.wrap((function(){return n.e(59).then(n.bind(null,"miqE"))}),"ShareToChat",fr),Sr=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasReceivedInitialRoomState:!1,hostedChannelLogin:null,prevPropsChannelLogin:n.props.channelLogin,userBadges:null,userBadgeDynamicData:null},n.renderNotifications=function(){var e=[];return!n.props.hostedChannelDisplayName||n.props.isPopout&&!n.props.isFullPopoutPlayer||e.push(o.createElement(Je,{key:"hosting-notification-"+n.state.hostedChannelLogin,isFullPopoutPlayer:n.props.isFullPopoutPlayer,hostedChannelDisplayName:n.props.hostedChannelDisplayName||"",hostedChannelLogin:n.state.hostedChannelLogin||""})),n.props.firstPageLoaded&&n.props.channelID&&e.push(o.createElement(gr,{key:"bounty-board-notification",channelID:n.props.channelID})),e},n.sendMessage=function(e){if(!e||0===e.length||!n.props.authToken)return!1;if(!n.props.chatConnectionAPI)return!1;var t=n.props.chatConnectionAPI.sendMessage(e);return(!t||!t.preserveInput)&&(n.parseOutgoingMessage(e),!0)},n.pushMessage=function(e){n.props.messageHandlerAPI&&n.props.messageHandlerAPI.handleMessage(e)},n.onChatEvent=function(e){switch(e.type){case et.b.Hosting:n.hostingHandler(e.hostedChannel);break;case et.b.Unhost:n.hostingHandler(null);break;case et.b.RoomState:n.onRoomStateUpdated(e.state);break;case et.b.BadgesUpdated:n.onBadgesUpdated(e)}},n.hostingHandler=function(e){n.setState({hostedChannelLogin:e}),n.props.onHostingChange&&n.props.onHostingChange(e)},n.createOutgoingTokenMatchers=function(e){n.outgoingTokenMatchers=e.map((function(e){return{token:e,regex:new RegExp(""+mr+e+pr)}}))},n.parseOutgoingMessage=function(e){n.outgoingTokenMatchers.forEach((function(t){t.regex.test(e)&&n.onOutgoingTokenMatch(t.token,e)}))},n.onOutgoingTokenMatch=function(e,t){switch(e){case hr:var i=n.props.theme===$.a.Light?$.a.Dark:$.a.Light;n.props.onThemeChange(i);break;default:return}},n.onBadgesUpdated=function(e){n.setState({userBadges:e.badges,userBadgeDynamicData:e.badgeDynamicData||null})},n.onRoomStateUpdated=function(e){n.props.onRoomStateUpdate(e),n.setState({hasReceivedInitialRoomState:!0})},n.determineCommandPermissionLevel=function(){return n.props.userLogin&&n.props.userLogin===n.props.channelLogin?ae.b.Broadcaster:n.props.isCurrentUserModerator?ae.b.Moderator:n.props.isCurrentUserVIP?ae.b.Vip:ae.b.Viewer},n.createOutgoingTokenMatchers([hr]),n}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.prevPropsChannelLogin?{prevPropsChannelLogin:e.channelLogin,hostedChannelLogin:null}:null},t.prototype.componentDidMount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent)},t.prototype.componentWillUnmount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent)},t.prototype.componentDidUpdate=function(e){var t,n;this.state.hasReceivedInitialRoomState&&(e.followerModeDuration===this.props.followerModeDuration&&e.followerModeEnabled===this.props.followerModeEnabled||this.pushMessage((t=this.props.followerModeEnabled,n=this.props.followerModeDuration,{type:et.b.FollowerOnlyMode,id:Object(tt.a)("follower-only"),enabled:t,length:n})),e.slowModeEnabled===this.props.slowModeEnabled&&e.slowModeDuration===this.props.slowModeDuration||this.pushMessage(function(e,t){return{type:et.b.SlowMode,id:Object(tt.a)("slowmode"),enabled:e,length:t}}(this.props.slowModeEnabled,this.props.slowModeDuration))),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},t.prototype.render=function(){var e,t=this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],n=this.props.isHidden||!this.props.rightColumnExpanded&&!this.props.inlineRightColumnExpanded,i=!(!this.props.isEmbedded&&!this.props.isPopout&&n&&!this.props.shouldConnectChat),a=this.determineCommandPermissionLevel();return this.props.firstPageLoaded&&(e=o.createElement(br,{channelLogin:this.props.channelLogin,sendMessage:this.sendMessage})),o.createElement(o.Fragment,null,o.createElement(ur,{authToken:this.props.authToken,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRoomHeader:e,chatRules:this.props.chatRules,closeRoomPicker:this.props.closeRoomPicker,commandPermissionLevel:a,currentUserDisplayName:this.props.userDisplayName,currentUserLogin:this.props.userLogin,emotes:t,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap||{},firstPageLoaded:this.props.firstPageLoaded,hostedChannelLogin:this.state.hostedChannelLogin,isBackground:this.props.isBackground,isChatRulesOpen:this.props.isChatRulesOpen,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHidden:this.props.isHidden,isHostMode:!!this.state.hostedChannelLogin,isOwnChannel:this.isOwnChannel,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatUnhide:this.props.onChatUnhide,onCloseChatRules:this.props.onCloseChatRules,onPushMessage:this.pushMessage,onSendMessage:this.sendMessage,onShowChatRules:this.props.onShowChatRules,theme:this.props.theme,userBadges:this.state.userBadges,userBadgeDynamicData:this.state.userBadgeDynamicData,userID:this.props.userID,useBaseBackground:this.props.useBaseBackground},this.props.firstPageLoaded&&this.props.authToken&&!this.props.isEmbedded&&o.createElement(yr,{authToken:this.props.authToken,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,"data-test-selector":"share-to-chat"}),this.renderNotifications(),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&o.createElement(vr,{key:this.props.channelLogin.toLowerCase(),channelLogin:this.props.channelLogin}),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&this.props.channelID&&o.createElement(Ue.a,null,o.createElement(kr,{channelID:this.props.channelID,channelLogin:this.props.channelLogin}))),this.renderCommandHandlers(),o.createElement(rt,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin}),o.createElement(Lt,{channelLogin:this.props.channelLogin}),o.createElement(Nt,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,commandPermissionLevel:a,emoteSets:this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:!!this.state.hostedChannelLogin,shouldConnect:i,userID:this.props.userID}),o.createElement(zt,{channelLogin:this.props.channelLogin,shouldSeeBlockedAndDeletedMessages:this.props.shouldSeeBlockedAndDeletedMessages,isBackground:!!this.props.isBackground,isCurrentUserModerator:this.props.isCurrentUserModerator,unhideIgnoredUsers:this.props.unhideIgnoredUsers}),o.createElement(Yt,null),o.createElement(Xt,{channelID:this.props.channelID}))},t.prototype.renderCommandHandlers=function(){if(this.props.isBackground)return null;var e=this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap||{},t=this.props,n=t.channelID,i=t.isPopout,a=t.userLogin;return o.createElement(o.Fragment,null,o.createElement(te.a,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,suppressLocalSuccessMessage:!0}),o.createElement(ne.a,{channelLogin:this.props.channelLogin,isPopout:i}),o.createElement(re,{channelLogin:this.props.channelLogin}),o.createElement(oe.a,{channelLogin:this.props.channelLogin}),o.createElement(se,{channelLogin:this.props.channelLogin,isPartner:this.props.isPartner}),o.createElement(ce.a,{channelLogin:this.props.channelLogin}),o.createElement(le,{channelLogin:this.props.channelLogin}),o.createElement(de.a,{channelLogin:this.props.channelLogin,permissionLevel:this.determineCommandPermissionLevel()}),o.createElement(ue,{channelLogin:this.props.channelLogin}),o.createElement(me.a,{currentUserLogin:a,channelLogin:this.props.channelLogin}),o.createElement(pe.a,{channelLogin:this.props.channelLogin}),o.createElement(he.a,{channelID:n,channelLogin:this.props.channelLogin}),o.createElement(ge,{channelLogin:this.props.channelLogin}),o.createElement(Se,{channelID:n,channelLogin:this.props.channelLogin}),this.props.chatRules&&!!this.props.chatRules.length&&o.createElement(_e,{channelLogin:this.props.channelLogin}),o.createElement(Ne.a,{channelLogin:this.props.channelLogin}),o.createElement(Oe,{channelLogin:this.props.channelLogin}),o.createElement(De,{channelLogin:this.props.channelLogin,sendMessage:this.sendMessage}),o.createElement(Ie.a,{channelLogin:this.props.channelLogin,userLogin:a,userID:this.props.userID,isEmbedded:this.props.isEmbedded,isPopout:i}),o.createElement(Fe,{channelID:n,channelLogin:this.props.channelLogin}),o.createElement(Re.a,{channelLogin:this.props.channelLogin,isEmbedded:this.props.isEmbedded,isPopout:i,userLogin:a,userID:this.props.userID,emoteMap:e}),o.createElement(Cn.a,{channelLogin:this.props.channelLogin},o.createElement(fe.a,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,userID:this.props.userID})))},Object.defineProperty(t.prototype,"isOwnChannel",{get:function(){return this.props.userID===this.props.channelID},enumerable:!0,configurable:!0}),t}(o.Component);var Cr=Object(Be.b)((function(e){return{followerModeDuration:e.followerDuration,followerModeEnabled:e.followerMode,slowModeDuration:e.slowModeDuration,slowModeEnabled:e.slowMode,onRoomStateUpdate:function(t){return e.updateRoomState(t)}}}))(Sr),Er=Object(c.d)(Object(s.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isHidden:e.chat.isHidden,isLoggedIn:Object(h.f)(e),rightColumnExpanded:e.ui.rightColumnExpanded,inlineRightColumnExpanded:e.ui.inlineRightColumnExpanded,theme:Object(ee.a)(e),unhideIgnoredUsers:e.chat.unhideIgnoredUsers}}),(function(e){return Object(c.b)({onCloseChatRules:function(){return b.z()},onShowChatRules:function(){return b.O()},onChatUnhide:function(){return b.N()},onThemeChange:function(e){return Object(Z.b)(e,{trackingSource:Z.a.TypedCommand})}},e)})),Object(D.withLatencyTracking)("ChatRoom",{autoReportInteractive:!0}),Object(J.a)(),x,K.a)((function(e){return o.createElement(Be.a,null,o.createElement(Ze.a,null,o.createElement(Ae.a,null,o.createElement(He.a,null,o.createElement(Ve.b,{channelID:e.channelID},o.createElement(xe.a,{channelID:e.channelID||void 0},o.createElement(Sn,{channelLogin:e.channelLogin},o.createElement(Le.a,{key:e.channelLogin},o.createElement(En.a,{channelLogin:e.channelLogin},o.createElement(Cr,Object(a.__assign)({},e)))))))))))})),wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.channelData.channel,t=this.props.userData&&this.props.userData.user,n=!1,i=!1,a=!1,r=!1,s=!1;if(t&&e&&e.self){var c=t.login===e.login,l=t.roles&&t.roles.isGlobalMod||!1,d=t.roles&&t.roles.isSiteAdmin||!1;a=t.roles&&t.roles.isPartner||!1,r=t.roles&&t.roles.isStaff||!1,s=e.self.isModerator||c||l,n=e.self.isModerator||c||l||d,i=e.self.isVIP||!1}var u=void 0;return e&&e.chatSettings&&e.chatSettings.rules&&e.chatSettings.rules.filter((function(e){return e.trim().length})).length&&(u=e.chatSettings.rules),o.createElement(Er,{key:this.props.channelLogin,authToken:this.props.sessionUser&&this.props.sessionUser.authToken,channelDisplayName:e&&e.displayName,channelID:e&&e.id,channelLogin:this.props.channelLogin,chatRules:u,clientID:this.props.clientID,isBackground:this.props.isBackground,isCurrentUserModerator:n,isCurrentUserVIP:i,isEmbedded:!!this.props.isEmbedded,isPopout:!!this.props.isPopout,hostedChannelDisplayName:this.props.hostedChannelDisplayName,closeRoomPicker:this.props.closeRoomPicker,onHostingChange:this.props.onHostingChange,userDisplayName:this.props.sessionUser&&this.props.sessionUser.displayName,userID:this.props.sessionUser&&this.props.sessionUser.id.toString(),userLogin:this.props.sessionUser&&this.props.sessionUser.login,isPartner:a,isStaff:r,shouldSeeBlockedAndDeletedMessages:s,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isFullPopoutPlayer:!!this.props.isFullPopoutPlayer})},t}(o.Component),_r=n("9P+5");var Nr=Object(c.d)(Object(s.b)((function(e){return{sessionUser:Object(h.e)(e)}})),Object(l.a)(X,{name:"channelData",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(l.a)(_r,{name:"userData",skip:function(e){return!e.sessionUser}}),Object(D.withLatencyTracking)("Chat"))(wr),Or=Object(c.d)(R.b,U,Q,K.b,G)(Nr),Dr=n("YG6c"),Ir=n("b7S+"),Mr=n("wp5a"),Tr=(n("eZF0"),"Stream Chat"),Pr=j.a.wrap((function(){return n.e(92).then(n.bind(null,"+k6+"))}),"ActiveRoomButton"),jr=function(e){function t(t){var n=e.call(this,t)||this;return n.showViewersList=function(){n.props.activeRoomName!==Tr?n.props.isShowingRoomMemberList?n.props.closeRoomMemberList():n.props.showRoomMemberList():n.props.chatView===ir.a.ViewerList?n.props.closeChatViewerList():n.props.showChatViewerList()},n.roomsHeaderTitleStreamChatString=function(){return Object(T.d)("Stream Chat","RoomsHeaderTitle")},n.usersInChatString=function(){return Object(T.d)("Users in Chat","ChatRoomsHeader")},n.inChatInputRevampExperiment="variant1"===T.p.experiments.getAndTrackAssignment(st.c.ChatInputRevamp),n}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=o.createElement(Ge.a,{className:"rooms-header",background:We.a.Base,borderBottom:!0,display:ze.d.Flex,fullWidth:!0,justifyContent:ze.h.Between,alignItems:ze.b.Center,flexShrink:0,padding:{left:2,right:1}},o.createElement("div",{id:"chat-room-header-label"},this.renderActiveRoomName()),o.createElement(Qe.a,{display:ze.d.Flex,alignItems:ze.b.Center,"data-test-selector":"room-picker"},this.renderRoomsIngress())),t=o.createElement(Ge.a,{className:"rooms-header",background:We.a.Base,borderBottom:!0,display:ze.d.Flex,fullWidth:!0,justifyContent:ze.h.Center,alignItems:ze.b.Center,flexShrink:0,padding:{left:1,right:1}},o.createElement(Qe.a,{display:ze.d.Flex,alignItems:ze.b.Center,"data-test-selector":"room-picker"},this.renderExperimentRoomsIngress()),o.createElement(Ge.a,{position:ze.j.Absolute,attachRight:!0,margin:{right:1}},o.createElement(Ir.a,{align:Ir.b.Right,label:this.props.activeRoomName!==Tr?Object(T.d)("Member List","RoomsHeader"):this.usersInChatString(),direction:Ir.c.Bottom},o.createElement(Xe.a,{ariaLabel:this.usersInChatString(),"data-test-selector":Oa,icon:$e.a.Friends,onClick:this.showViewersList}))));return this.props.isRoomPickerOpen&&(e=o.createElement(Qe.a,{className:"rooms-header__open-header-wrapper","data-test-selector":"open-header-wrapper"},this.inChatInputRevampExperiment?t:e)),this.inChatInputRevampExperiment?t:e},t.prototype.renderRoomsIngress=function(){if(this.props.isEmbedded)return null;var e=o.createElement(Qe.a,{alignItems:ze.b.Center,"data-test-selector":"rooms-ingress",display:ze.d.Flex},!this.props.isRoomPickerOpen&&Object(T.d)("Rooms","RoomsHeaderClosedLabel"),o.createElement(Qe.a,{display:ze.d.Flex,alignItems:ze.b.Center},this.renderAlertText(),!this.props.isRoomPickerOpen&&o.createElement(Qe.a,{padding:{left:.5},display:ze.d.Flex},o.createElement(Fn.a,{asset:$e.a.RoomList})),this.props.isRoomPickerOpen&&o.createElement(Xe.a,{ariaLabel:"RoomListOpen",icon:$e.a.RoomListOpen,"data-test-selector":"close-room-picker-button",onClick:this.props.onClick,blurAfterClick:!0})));return this.props.isRoomPickerOpen||(e=o.createElement(Qe.a,{position:ze.j.Relative},o.createElement(Ke.a,{"data-a-target":"room-selector-button","data-test-selector":"open-room-picker-button",onClick:this.props.onClick,type:Ke.d.Text},e))),Object(Dr.a)()&&(e=this.renderRoomsIngressAsText()),e},t.prototype.renderExperimentRoomsIngress=function(){if(this.props.isEmbedded)return null;var e="open-room-picker-button";return this.props.isRoomPickerOpen&&(e="close-room-picker-button"),Object(Dr.a)()||!this.props.hasRooms&&!this.props.isOwnChannel?this.renderRoomsIngressAsText():o.createElement(Qe.a,{position:ze.j.Relative},o.createElement(Ke.a,{ariaLabel:"View Rooms","data-test-selector":e,onClick:this.props.onClick,type:Ke.d.Text,dropdown:!0},this.renderAlertText(),this.props.activeRoomName))},t.prototype.renderRoomsIngressAsText=function(){return o.createElement(Ye.a,{fontSize:We.d.Size6,fontWeight:We.e.SemiBold,transform:Ye.d.Uppercase,type:Ye.e.H5},this.renderActiveRoomName())},t.prototype.renderAlertText=function(){return this.props.alertText?o.createElement(Qe.a,{display:ze.d.InlineBlock,padding:{left:.5},position:ze.j.Relative},o.createElement(Mr.a,{label:this.props.alertText,type:Mr.b.Alert})):null},t.prototype.renderActiveRoomName=function(){return this.props.isRoomPickerOpen?o.createElement(Ye.a,{color:We.c.Alt,"data-test-selector":"chat-room-header-label"},this.props.activeRoomName!==Tr?this.roomsHeaderTitleStreamChatString():this.props.activeRoomName):this.props.activeRoomName===Tr?this.props.channelDisplayName?o.createElement(Ye.a,{color:We.c.Alt,"data-test-selector":"chat-room-header-label"},Object(T.d)("<x:bold>{displayName}</x:bold>'s Chat",{displayName:this.props.channelDisplayName,"x:bold":function(e){return o.createElement(Ye.a,{type:Ye.e.Span,bold:!0},e)}},"RoomsHeaderUserChat")):o.createElement(Ye.a,{color:We.c.Alt,"data-test-selector":"chat-room-header-label"},this.roomsHeaderTitleStreamChatString()):this.props.isActiveRoomDeleted?o.createElement(Ye.a,{color:We.c.Alt,"data-test-selector":"chat-room-header-label"},this.props.activeRoomName):o.createElement(Pr,{roomID:this.props.activeRoomID,roomName:this.props.activeRoomName})},t}(o.PureComponent);var Fr,Rr=Object(c.d)(Object(N.b)((function(e){return{chatView:e.chatView,isShowingRoomMemberList:e.isShowingRoomMemberList,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList,showRoomMemberList:e.showRoomMemberList,closeRoomMemberList:e.closeRoomMemberList}})))(jr),Lr=(n("zWFo"),"Stream Chat"),Ar=j.a.wrap((function(){return Promise.all([n.e(0),n.e(93)]).then(n.bind(null,"Xf1I"))}),"Room"),Ur=j.a.wrap((function(){return n.e(94).then(n.bind(null,"cs/o"))}),"RoomPicker"),xr=function(e){function t(t){var n=e.call(this,t)||this;return n.state={activeRoomID:Lr,activeRoomName:Lr,isActiveRoomDeleted:!1,showRoomPicker:!1},n.componentDidUpdate=function(e){var t=n.props.data&&!1===n.props.data.loading,i=e.canChatOnPageDuringWatchParty!==n.props.canChatOnPageDuringWatchParty,a=Object(ya.d)(e.activeWatchParty&&e.activeWatchParty.user&&e.activeWatchParty.user.watchParty&&e.activeWatchParty.user.watchParty.session||null)!==Object(ya.d)(n.props.activeWatchParty&&n.props.activeWatchParty.user&&n.props.activeWatchParty.user.watchParty&&n.props.activeWatchParty.user.watchParty.session||null);(t||i||a||n.props.pubsub.messages.primeVideoWatchPartyStateUpdate)&&n.updateCommercePermissions()},n.updateShowRoomPicker=function(e){null===n.updateFrame&&(n.setState((function(t){return Object(a.__assign)(Object(a.__assign)({},t),e)})),n.updateFrame=setTimeout((function(){n.updateFrame=null}),0))},n.isChannelLive=function(e){return!(e.error||!e.channel)&&!!(e.channel.stream&&e.channel.stream.id||e.channel.hosting&&e.channel.hosting.id)},n.updateCommercePermissions=function(){var e=n.props.activeWatchParty&&n.props.activeWatchParty.user&&n.props.activeWatchParty.user.watchParty&&n.props.activeWatchParty.user.watchParty.session,t=n.props.pubsub.messages.primeVideoWatchPartyStateUpdate&&n.props.pubsub.messages.primeVideoWatchPartyStateUpdate.data.state;if(t)n.props.disableCommerce(t===F.rd.HYPE_IN||t===F.rd.IN_PROGRESS);else if(e){var i=Object(ya.d)(e);n.props.disableCommerce(i)}else n.props.disableCommerce(!1);n.props.allowChatOnPageDuringWatchParty(n.props.canChatOnPageDuringWatchParty||!1)},n.headerClick=function(){n.updateShowRoomPicker({showRoomPicker:!n.state.showRoomPicker})},n.handleRoomSelect=function(e,t){n.setState({activeRoomID:e,activeRoomName:t,isActiveRoomDeleted:!1,showRoomPicker:!1})},n.onActiveRoomDelete=function(){n.state.activeRoomID!==Lr&&n.setState({isActiveRoomDeleted:!0})},n.goToStreamChat=function(){n.handleRoomSelect(Lr,Lr)},n.closeRoomPicker=function(){n.updateShowRoomPicker({showRoomPicker:!1})},n.updateFrame=null,n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.updateChatConfigState({hideChatSettings:!!this.props.hideChatSettings,hideOnboardingPrompts:!!this.props.hideOnboardingPrompts,hideChatInputButtons:!!this.props.hideChatInputButtons}),this.updateCommercePermissions()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;if(this.props.data&&e.data&&this.props.data.channel&&e.data.channel&&this.props.data.channel.self&&e.data.channel.self&&!e.data.channel.self.isChannelMember&&this.props.data.channel.self.isChannelMember!==e.data.channel.self.isChannelMember&&this.goToStreamChat(),e.data&&e.data.channel&&e.data.channel.self){var n=e.data.channel.self;(!n.isChannelMember||n.banStatus&&n.banStatus.isPermanent)&&this.state.activeRoomID!==Lr&&this.goToStreamChat()}if(this.props.sessionUser&&this.props.routedRoomName&&this.props.data&&this.props.data.loading&&!this.props.data.channel&&e.data&&!e.data.loading&&e.data.channel&&e.data.channel.channelRooms&&e.data.channel.self&&e.data.channel.self.isChannelMember){var i=e.data.channel.channelRooms.find((function(e){return null!==e&&e.name===t.props.routedRoomName}));i&&this.setState({activeRoomID:i.id,activeRoomName:i.name})}else this.props.channelLogin!==e.channelLogin&&this.state.activeRoomID!==Lr&&this.goToStreamChat()},t.prototype.render=function(){return o.createElement(Qe.a,{className:"room-selector",fullWidth:!0,fullHeight:!0,display:ze.d.Flex,flexDirection:ze.e.Column,flexGrow:1,flexWrap:ze.f.NoWrap,position:ze.j.Relative},this.renderHeader(),this.renderRoomPicker(),this.renderHiddenState(),this.renderChat(),this.renderCurrentRoom())},t.prototype.renderChat=function(){if(this.props.isHidden&&!this.props.isPopout)return null;var e=this.props.isBackground||this.state.activeRoomID!==Lr;return o.createElement(Or,{channelLogin:this.props.channelLogin,clientID:T.a.authSettings.clientID,isBackground:e,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,closeRoomPicker:this.closeRoomPicker,onHostingChange:this.props.onHostingChange,hostedChannelDisplayName:this.props.hostedChannelDisplayName,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isFullPopoutPlayer:this.props.isFullPopoutPlayer})},t.prototype.renderCurrentRoom=function(){return(!this.props.isHidden||this.props.isPopout)&&this.props.data&&this.props.data.channel&&this.props.data.channel.id&&this.state.activeRoomID!==Lr?o.createElement(Ar,{isDeleted:this.state.isActiveRoomDeleted,isPopout:this.props.isPopout,channelLogin:this.props.channelLogin,channelID:this.props.data.channel.id,roomID:this.state.activeRoomID,closeRoomPicker:this.closeRoomPicker,handleStreamChatClick:this.goToStreamChat,onDelete:this.onActiveRoomDelete,isHostMode:!!this.props.hostedChannelDisplayName,useBaseBackground:this.props.useBaseBackground}):null},t.prototype.renderHeader=function(){var e=this;if(!this.props.disableRooms){var t=this.props.data,n=void 0;if(t&&!t.error&&t.channel&&t.channel.self&&t.channel.self.isChannelMember&&t.channel.channelRooms){var i=t.channel.channelRooms.reduce((function(t,n){return n&&n.self&&!n.self.isMuted&&n.id!==e.state.activeRoomID?t+n.self.unreadMentionCount:t}),0);n=i>0?i.toString():void 0}var a=!1;t&&t.channel&&t.channel.channelRooms.length>0&&(a=!0);var r=void 0;return this.props.renderChannelName&&this.props.data&&this.props.data.channel&&this.props.data.channel.displayName&&(r=this.props.data.channel.displayName),o.createElement(Rr,{activeRoomName:this.state.activeRoomName,activeRoomID:this.state.activeRoomID,alertText:n,channelDisplayName:r,onClick:this.headerClick,isActiveRoomDeleted:this.state.isActiveRoomDeleted,isEmbedded:this.props.isEmbedded,isRoomPickerOpen:this.state.showRoomPicker,hasRooms:a,isOwnChannel:this.isOwnChannel})}},Object.defineProperty(t.prototype,"isOwnChannel",{get:function(){return!!this.props.sessionUser&&this.props.sessionUser.id===this.props.channelID},enumerable:!0,configurable:!0}),t.prototype.renderRoomPicker=function(){if(!this.props.disableRooms)return this.state.showRoomPicker&&this.props.data&&this.props.data.channel&&this.props.data.channel.id?o.createElement(P.a,{onClickOut:this.closeRoomPicker},o.createElement(Ge.a,{attachLeft:!0,attachRight:!0,background:We.a.Alt,borderBottom:!0,borderLeft:!0,borderRight:!0,elevation:2,position:ze.j.Absolute,zIndex:ze.o.Above},o.createElement(Ur,{channelID:this.props.data.channel.id,channelLogin:this.props.channelLogin,handleRoomSelect:this.handleRoomSelect,isChannelLive:this.isChannelLive(this.props.data),renderChannelName:this.props.renderChannelName,activeRoomID:this.state.activeRoomID,"data-test-selector":"room-picker"}))):void 0},t.prototype.renderHiddenState=function(){return!this.props.isHidden||this.props.isPopout?null:o.createElement(Ge.a,{alignItems:ze.b.Center,borderLeft:!0,"data-test-selector":"room-selector-hidden-state",display:ze.d.Flex,flexDirection:ze.e.Column,fullHeight:!0,fullWidth:!0,justifyContent:ze.h.Center,color:We.c.Base,position:ze.j.Relative},o.createElement(Qe.a,{margin:{bottom:1}},o.createElement(Ye.a,{fontSize:We.d.Size5},Object(T.d)("Chat is hidden.","RoomSelector"))),o.createElement(Ke.a,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button"},Object(T.d)("Show Chat","RoomSelector")))},t}(o.Component),Br=n("Qdho");var Vr=Object(k.b)((function(e){return{updateChatConfigState:function(t){return e.updateChatConfigState(t)}}}))(xr),Hr=Object(c.d)(Object(s.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isHidden:e.chat.isHidden,sessionUser:Object(h.e)(e)}}),(function(e){return Object(c.b)({onChatUnhide:function(){return b.N()}},e)})),Object(l.a)(Br,{skip:function(e){return!e.firstPageLoaded},props:function(e){return{data:e.data,channelID:e.data&&e.data.channel&&e.data.channel.id}},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(l.a)(M,{options:function(e){return{variables:{channelID:e.channelID}}},skip:function(e){return!e.channelID},name:"activeWatchParty"}),Object(u.a)((function(e){return{query:Br,skip:!e.firstPageLoaded||!e.data||!e.data.channel,variables:{login:e.channelLogin},topic:Object(p.m)(""+(e.data&&e.data.channel&&e.data.channel.id)),types:[m.PubsubMessageType.ChatRoomCreated,m.PubsubMessageType.ChatRoomDeleted],mutator:function(e,t){if(e.type===m.PubsubMessageType.ChatRoomDeleted&&t.channel&&t.channel.channelRooms)return r(t,(function(e){return e.channel.channelRooms}),(function(t){return t.filter((function(t){return null!==t&&t.id!==e.data.room.room_id}))}));if(e.type===m.PubsubMessageType.ChatRoomCreated&&t.channel&&t.channel.channelRooms){var n=function(e){return{id:e.data.room.room_id,minimumAllowedRole:e.data.room.minimum_allowed_role,name:e.data.room.name,topic:e.data.room.topic,isPreviewable:e.data.room.is_previewable,self:{isArchived:!1,isMuted:!1,isUnread:!1,unreadMentionCount:0,__typename:"RoomView"},__typename:"Room"}}(e);return r(t,(function(e){return e.channel.channelRooms}),(function(e){return Object(a.__spreadArrays)(e,[n])}))}return t}}})),Object(u.a)((function(e){return{query:Br,skip:!(e.firstPageLoaded&&e.sessionUser&&e.data&&e.data.channel),variables:{login:e.channelLogin},topic:Object(p.n)(""+(e.sessionUser&&e.sessionUser.id)),types:[m.PubsubMessageType.UserMention,m.PubsubMessageType.ChatRoomsRoomViewUpdated],mutator:function(e,t){switch(e.type){case m.PubsubMessageType.UserMention:if(!t.channel||!t.channel.channelRooms||t.channel.id!==e.data.channel_id)break;var n=e.data.room_id;return r(t,(function(e){return e.channel.channelRooms}),(function(e){return e.filter((function(e){return e&&e.self})).map((function(e){return e.id===n&&e.self?r(e,(function(e){return e.self.unreadMentionCount}),(function(e){return e+1})):e}))}));case m.PubsubMessageType.ChatRoomsRoomViewUpdated:if(!t.channel||t.channel.id!==e.data.room_view.room.owner_id||!t.channel.self)break;return r(t,(function(e){return e.channel.self.isModerator}),(function(){return e.data.room_view.permissions.moderate}))}return t}}})),Object(d.a)([{topic:function(e){return e.channelID?Object(p.G)(e.channelID):""},mapMessageTypesToProps:(Fr={},Fr[m.PubsubMessageType.PrimeVideoWatchPartyStateUpdate]="primeVideoWatchPartyStateUpdate",Fr),skip:function(e){return!e.channelID}}]),Object(u.a)((function(e){return{variables:{channelLogin:e.channelLogin},query:O,skip:!e.sessionUser||!e.channelID||!e.firstPageLoaded,topic:e.sessionUser&&e.channelID?Object(p.n)(""+(e.sessionUser&&e.sessionUser.id)):"",type:m.PubsubMessageType.ChatRoomsUserModAction,mutator:function(t,n){return e.sessionUser&&e.channelID&&n.channel&&n.channel.self&&t.data.target_id===e.sessionUser.id&&t.data.channel_id===e.channelID&&("ban"===t.data.action?n=r(n,(function(e){return e.channel.self.banStatus}),(function(){return{isPermanent:!0,expiresAt:t.data.expires_at||null,__typename:"ChatRoomBanStatus"}})):"unban"===t.data.action?n=r(n,(function(e){return e.channel.self.banStatus}),(function(){return null})):"timeout"===t.data.action&&(n=r(n,(function(e){return e.channel.self.banStatus}),(function(){return{isPermanent:!1,expiresAt:t.data.expires_at||null,__typename:"ChatRoomBanStatus"}})))),n}}})),I.withWatchPartyContextManager,Object(I.withWatchPartyContext)(I.mapWatchPartyContextToProviderProps),Object(D.withLatencyTracking)("RoomSelector",{autoReportInteractive:!0}))((function(e){return o.createElement(N.a,{viewManager:e.viewManager},o.createElement(k.a,null,o.createElement(w,null,o.createElement(g.a,{channelLogin:e.channelLogin},o.createElement(_.a,{channelLogin:e.channelLogin},o.createElement(v.a,{key:e.channelLogin,channelLogin:e.channelLogin},o.createElement(f.a,{channelLogin:e.channelLogin,isCommerceDisabled:e.isCommerceDisabled},o.createElement(Vr,Object(a.__assign)({},e)))))))))}));n.d(t,"a",(function(){return Hr}))},VFp6:function(e,t,n){},VIQE:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsBalanceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"canRedeemRewardsForFree"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"fragment communityPointsBalanceFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\nbalance\nactiveMultipliers {\nreasonCode\nfactor\n}\ncanRedeemRewardsForFree\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},VKOn:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("/7QA"),a=n("DMoW"),r="disable_multiview_load";function o(e){if(e&&e.channel&&e.channel.id&&e.channel.chanlets){var t=e.channel,n=t.chanlets,i=t.id;return n.filter((function(e){return i!==e.id}))}return[]}function s(e){return e.every((function(e){var t=e.restriction;if(!t)return!0;var n=new Date(Date.now());return!!t.exemptions&&t.exemptions.filter((function(e){return e.type===a.nc.ALL&&(!e.startsAt||new Date(e.startsAt)<=n)&&(!e.endsAt||new Date(e.endsAt)>=n)})).length>=1}))}function c(e){return e.every((function(e){return!!e.restriction}))}function l(){return i.b.get(r,!1)}},VN3V:function(e,t,n){},VSaV:function(e,t){},VaVM:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.ListRewards=0]="ListRewards",e[e.CustomReward=1]="CustomReward",e[e.UnlockRandomEmote=2]="UnlockRandomEmote",e[e.UnlockChosenSubscriberEmote=3]="UnlockChosenSubscriberEmote",e[e.AlreadySubbed=4]="AlreadySubbed",e[e.ModifyEmote=5]="ModifyEmote",e[e.NotEnoughPoints=6]="NotEnoughPoints",e[e.NotLoggedIn=7]="NotLoggedIn",e[e.NotSubbed=8]="NotSubbed",e[e.NotSubOnlyMode=9]="NotSubOnlyMode",e[e.OutOfStock=10]="OutOfStock",e[e.EarnRates=11]="EarnRates"}(i||(i={}))},"Vl9+":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"thread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhisperThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"fragment thread on WhisperThread {\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n}\n}\ndeletedAt\neditedAt\nsentAt\nfrom {\nid\n}\n}\n}\n}\nunreadMessagesCount\nuserLastMessageRead {\nid\nsentAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},VrOd:function(e,t,n){},"W/3w":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var i=n("/7QA"),a=30,r=[0,10,30,60,1440,10080,43200,129600];function o(e){switch(e){case 0:return Object(i.d)("0 minutes (Any followers)","FollowersOnlyLabel");case 10:return Object(i.d)("10 minutes (Most used)","FollowersOnlyLabel");case 30:return Object(i.d)("30 minutes","FollowersOnlyLabel");case 60:return Object(i.d)("1 hour","FollowersOnlyLabel");case 1440:return Object(i.d)("1 day","FollowersOnlyLabel");case 10080:return Object(i.d)("1 week","FollowersOnlyLabel");case 43200:return Object(i.d)("1 month","FollowersOnlyLabel");case 129600:return Object(i.d)("3 months","FollowersOnlyLabel");default:return i.k.warn("[FollowersOnlyLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 0:return Object(i.d)("0 min","FollowersOnlyShorthand");case 10:return Object(i.d)("10 min","FollowersOnlyShorthand");case 30:return Object(i.d)("30 min","FollowersOnlyShorthand");case 60:return Object(i.d)("1 hr","FollowersOnlyShorthand");case 1440:return Object(i.d)("1 day","FollowersOnlyShorthand");case 10080:return Object(i.d)("1 wk","FollowersOnlyShorthand");case 43200:return Object(i.d)("1 mo","FollowersOnlyShorthand");case 129600:return Object(i.d)("3 mo","FollowersOnlyShorthand");default:return Object(i.d)("custom","FollowersOnlyShorthand")}}},W1jp:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u}));var i=n("/7QA"),a=n("DMoW"),r=n("XIEs");function o(e){return"CommunityPointsAutomaticReward"===e.__typename?e.backgroundColor||e.defaultBackgroundColor:e.backgroundColor}function s(e){return"CommunityPointsAutomaticReward"===e.__typename?e.cost||e.defaultCost:e.cost}function c(e){return e.image?{src:e.image.url,srcSet:Object(r.a)(e.image)}:{src:e.defaultImage.url,srcSet:Object(r.a)(e.defaultImage)}}function l(e){if("CommunityPointsCustomReward"===e.__typename)return e.title;switch(e.type){case a.T.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Highlight My Message","CommunityPointsRewards");case a.T.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Send a Message in Sub-Only Mode","CommunityPointsRewards");case a.T.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Choose an Emote to Unlock","CommunityPointsRewards");case a.T.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Unlock a Random Sub Emote","CommunityPointsRewards");case a.T.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Modify a Single Emote","CommunityPointsRewards");default:return Object(i.d)("Reward","CommunityPointsRewards")}}function d(e){if("CommunityPointsCustomReward"===e.__typename)return!1;switch(e.type){case a.T.RANDOM_SUB_EMOTE_UNLOCK:case a.T.CHOSEN_SUB_EMOTE_UNLOCK:case a.T.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return!0;default:return!1}}function u(e){if("CommunityPointsCustomReward"===e.__typename)return e.prompt;switch(e.type){case a.T.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Write something special below and give it some glitz in chat!","CommunityPointsRewards");case a.T.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Type your message below and sneakily bypass chat restrictions.","CommunityPointsRewards");case a.T.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to unlock for 24 hours:","CommunityPointsRewards");case a.T.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to modify & unlock for 24 hours:","CommunityPointsRewards");case a.T.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Click below to unlock one random emote to chat with for 24 hours!","CommunityPointsRewards");default:return Object(i.d)("Unlock this reward.","CommunityPointsRewards")}}},W7Hf:function(e,t,n){"use strict";var i=n("9sGC");n.d(t,"a",(function(){return i.a}))},W8Fi:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m}));var i=n("WgyX"),a=n("a5fV");function r(e){return e.some((function(e){return!Object(i.a)(e)&&(e.self?!!e.self.promotion:!!e.promotion)}))}function o(e){return e.some((function(e){return!!e.giftPromotion}))}function s(e){return e.some((function(e){return!!e.self&&!!e.self.paidUpgradePromotion}))}function c(e){return Object(a.a)(Object(a.d)(e.previewPrice.total,e.previewPrice.exponent),e.previewPrice.currency)}function l(e,t){var n;return(n=t&&"giftPromotion"in e?e.giftPromotion:function(e){return Object(i.a)(e)?null:e.self?e.self.promotion:e.promotion}(e))?c(n):e.price}function d(e,t){var n;return t?n=e.giftPromotion:e.self&&(n=e.self.promotion),n?Math.floor((e.priceInfo.price-n.previewPrice.price)/e.priceInfo.price*100):0}function u(e){return e.self&&e.self.paidUpgradePromotion?e.self.paidUpgradePromotion.newPrice:e.price}function m(e){return e.find((function(e){return!!e.self&&!!e.self.paidUpgradePromotion}))||null}},WJ1t:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductPromotion"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionPromotion"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oldPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}}]}}],loc:{start:0,end:248}};i.loc.source={body:'#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nfragment subscriptionProductPromotion on SubscriptionPromotion {\nnewPrice\noldPrice\ndiscountType\ndiscountValue\npreviewPrice {\n...subscriptionProductPriceInfo\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("35qb").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},WQCf:function(e,t,n){"use strict";n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return u}));var i,a,r,o,s,c,l,d,u,m,p,h={Ads:"ads",BitsLeaderboardEvents:"leaderboard-events-v1",BitsCampaignEvents:"bits-campaigns-v1",CampaignGlobalEvents:"campaign-events",CampaignUserEvents:"user-campaign-events",ChannelBitsEvents:"channel-bits-events-v1",ChannelBitsPinEvents:"channel-bit-events-public",ChannelEventUpdates:"channel-event-updates",ChannelSquadInvites:"channel-squad-invites",ChannelSquadUpdates:"channel-squad-updates",ChannelSubscribeEvents:"channel-subscribe-events-v1",CheerbombEventsTopic:"channel-cheer-events-public-v1",BroadcastSettingsUpdate:"broadcast-settings-update",BountyBoardChatCTA:"channel-bounty-board-events.cta",ChatRoom:"chatrooms-room-v1",ChatRoomsChannel:"chatrooms-channel-v1",ChatRoomsUser:"chatrooms-user-v1",CommunityPointsBroadcaster:"community-points-broadcaster-v1",CommunityPointsChannel:"community-points-channel-v1",CommunityPointsUser:"community-points-user-v1",DashboardActivityFeed:"dashboard-activity-feed",DashboardAlertQueueStatus:"dashboard-alert-status",ExtensionAssets:"extension-control.upload",Follows:"follows",Friendship:"friendship",HypeTrain:"hype-train-events-v1",ImageUpload:"user-image-update",ModerationActionsByUserAndChannel:"chat_moderator_actions",MultiviewChanletUpdate:"multiview-chanlet-update",MysteryGift:"channel-sub-gifts-v1",OnsiteNotifications:"onsite-notifications",PayoutOnboardingEvents:"payout-onboarding-events",PollEvents:"polls",Presence:"presence",PrimeGiftingStatus:"channel-prime-gifting-status",PrimeVideoWatchPartyEvents:"pv-watch-party-events",PurchaseFulfillmentEvents:"purchase-fulfillment-events",Raid:"raid",SquadUpdates:"squad-updates",StreamChange:"stream-change-v1",StreamChangeByChannel:"stream-change-by-channel",StreamChatRoom:"stream-chat-room-v1",SubscribersCSV:"subscribers-csv-v1",UploadService:"upload",UserBitsUpdates:"user-bits-updates-v1",UserCommerceEvents:"user-commerce-events",UserCrateEvents:"user-crate-events-v1",UserPropertiesUpdates:"user-properties-update",UserSubscribeEvents:"user-subscribe-events-v1",VideoPlayback:"video-playback",VideoPlaybackById:"video-playback-by-id",VideoThumbnailProcessing:"video-thumbnail-processing",Whispers:"whispers"},f={AdsMidrollRequest:"midroll_request",BitsBadgeTierEmoteCreate:"bits-badge-tier-emote-create",BitsChannelSettingsEvent:"channel_settings_update",BitsCampaignAddCheermoteEvent:"sponsored-cheermote-add",BitsCampaignRemoveCheermoteEvent:"sponsored-cheermote-remove",BitsCampaignTotalUpdate:"sponsored-cheermote-update-used",BitsCampaignComplete:"sponsored-cheermote-campaign-complete",BitsPinEvent:"bits-pin-event",BitsLeaderboardEvent:"bits-leaderboard-event",BountyBoardChatCTAShow:"bounty_board_show_chat_cta",ChannelStreamDown:"stream-down",ChannelStreamUp:"stream-up",BroadcastSettingsUpdate:"broadcast_settings_update",ChatNotification:"chat-notification",ChatRoomCreated:"created_room",ChatRoomDeleted:"deleted_room",ChatRoomUpdated:"updated_room",ChatRoomsUserModAction:"user_moderation_action",ChatRoomMessageCreated:"created_room_message",ChatRoomMessageEdited:"edited_room_message",ChatRoomMessageDeleted:"deleted_room_message",ChatRoomsRoomViewUpdated:"updated_room_view",CheerbombEvent:"cheerbomb",Commercial:"commercial",CommunityPointsAutomaticRewardUpdated:"automatic-reward-updated",CommunityPointsClaimAvailable:"claim-available",CommunityPointsClaimUsed:"claim-claimed",CommunityPointsCustomRewardCreated:"custom-reward-created",CommunityPointsCustomRewardDeleted:"custom-reward-deleted",CommunityPointsCustomRewardUpdated:"custom-reward-updated",CommunityPointsEarned:"points-earned",CommunityPointsMultipliersUpdated:"active-multipliers-updated",CommunityPointsRedeemed:"reward-redeemed",CommunityPointsRedemptionUpdated:"redemption-status-update",CommunityPointsSettings:"channel-settings-update",CommunityPointsSpent:"points-spent",DashboardAlertStatus:"dashboard-alert-status",ExtensionUpload:"extension-control-upload",HypeTrainConductorUpdate:"hype-train-conductor-update",HypeTrainEnd:"hype-train-end",HypeTrainLevelUp:"hype-train-level-up",HypeTrainProgression:"hype-train-progression",HypeTrainRewards:"hype-train-rewards",HypeTrainStart:"hype-train-start",ImageUploadSuccess:"imageuploadsuccess",ManagedSquad:"managed-squad",ModerationAction:"moderation_action",ModeratorAdded:"moderator_added",ModeratorRemoved:"moderator_removed",MultiviewChanletUpdate:"chanlet",MysteryGiftPurchase:"mystery-gift-purchase",OnsiteNotificationCreate:"create-notification",OnsiteNotificationDelete:"delete-notification",OnsiteNotificationsRead:"read-notifications",OnsiteNotificationSummaryUpdate:"update-summary",OnsiteNotificationUpdate:"update-notification",PayoutOnboardingEvent:"payout-onboarding-event",PollCreatedEvent:"POLL_CREATE",PollUpdateEvent:"POLL_UPDATE",PollCompletedEvent:"POLL_COMPLETE",PollTerminatedEvent:"POLL_TERMINATE",PollArchivedEvent:"POLL_ARCHIVE",PollModeratedEvent:"POLL_MODERATE",Presence:"presence",PresenceSettings:"settings",PrimeGifting:"prime-gifting",PrimeVideoWatchPartyEventsViewCount:"pv-watch-party-events-view-count",PrimeVideoWatchPartyStateUpdate:"pv-watch-party-events-state-change",PurchaseFulfillmentEvents:"purchase_fulfillment_events",PurgeMessageRequest:"purge_messages_request",RaidCancel:"raid_cancel",RaidUpdate:"raid_update",RaidCancelV2:"raid_cancel_v2",RaidUpdateV2:"raid_update_v2",RaidGoV2:"raid_go_v2",ReceivedSquadInvites:"received-squad-invites",Squad:"squad",StreamChatRoomChatRichEmbed:"chat_rich_embed",StreamChatRoomHostTargetChange:"host_target_change",StreamChatRoomHostTargetChangeV2:"host_target_change_v2",StreamChatRoomExtensionMessage:"extension_message",StreamDown:"stream_down",StreamUp:"stream_up",StreamChangeMetadata:"metadata_change",SubscribersCSVComplete:"subscribers_csv_complete_v1",SubscribersCSVInProgress:"subscribers_csv_in_progress_v1",UpdatedChannelChatProperty:"updated_channel_chat_property",UploadService:"upload",UserBitsBalanceUpdate:"balance_update",UserBitsBadgeNotification:"badge_update_notification",UserBitsBadgeUpdate:"badge_update",UserBitsFirstPurchase:"first_bits_purchase",UserBitsGemNotification:"gem_notification_update",UserCampaignProgressEvent:"progress",UserCampaignMegaCheerRewardEvent:"mega_cheer_reward",UserCampaignRewardEvent:"reward",UserCrateEvent:"crate-event",UserFollowedEvent:"user-followed",UserGiftEvent:"gift-event",UserMention:"user_mention",UserPropertiesUpdate:"user_properties_update",UserUnfollowedEvent:"user-unfollowed",VideoThumbnailProcessingComplete:"processing_complete",VideoThumbnailProcessingError:"processing_error",ViewCount:"viewcount",Vodcast:"watchparty-vod",WhisperAllThreadsUpdate:"threads",WhisperDeleted:"whisper_deleted",WhisperEdited:"whisper_edited",WhisperReceived:"whisper_received",WhisperSent:"whisper_sent",WhisperThreadUpdate:"thread"},g={Accepted:"accepted",Requested:"requested",Removed:"removed",SelfAccepted:"self_accepted",SelfRemoved:"self_removed",SelfRequested:"self_requested"};!function(e){e.AddBlockedTerm="add_blocked_term",e.AddPermittedTerm="add_permitted_term",e.AutoModEnabled="automod_enabled",e.AutoModRejected="automod_rejected",e.DeniedAutoModMessage="denied_automod_message",e.ApprovedAutoModMessage="approved_automod_message",e.AutoModCheerRejected="automod_cheer_rejected",e.Ban="ban",e.Clear="clear",e.Delete="delete",e.DeleteBlockedTerm="delete_blocked_term",e.DeletePermittedTerm="delete_permitted_term",e.EmoteOnly="emoteonly",e.EmoteOnlyOff="emoteonlyoff",e.FollowersOnly="followers",e.FollowersOnlyOff="followersoff",e.Host="host",e.Mod="mod",e.ModifiedAutoModProperties="modified_automod_properties",e.R9kBeta="r9kbeta",e.R9kBetaOff="r9kbetaoff",e.Raid="raid",e.Slow="slow",e.SlowOff="slowoff",e.SubsBeta="subsbeta",e.SubscribersOnly="subscribers",e.SubscribersOnlyOff="subscribersoff",e.Timeout="timeout",e.Unban="unban",e.Unhost="unhost",e.Unmod="unmod",e.Unraid="unraid",e.Untimeout="untimeout"}(i||(i={})),function(e){e.AutoModMessageRejected="automod_message_rejected",e.AutoModMessageApproved="automod_message_approved",e.AutoModMessageDenied="automod_message_denied",e.AutoModCheerDenied="automod_cheer_message_denied",e.AutoModCheerTimeout="automod_cheer_message_timeout",e.DeleteNotification="delete_notification"}(a||(a={})),function(e){e.Archive="archive",e.Highlight="highlight",e.Upload="upload",e.Premiere="premiere",e.Rerun="rerun",e.WatchPartyPremiere="watch_party_premiere",e.WatchPartyRerun="watch_party_rerun"}(r||(r={})),function(e){e.Private="private",e.Public="public"}(o||(o={})),function(e){e.InNetwork="IN_NETWORK",e.OutOfNetwork="OUT_OF_NETWORK"}(s||(s={})),function(e){e.RecipientCannotAccessSquadStream="RECIPIENT_CANNOT_ACCESS_SQUAD_STREAM",e.RecipientCannotBeInvited="RECIPIENT_CANNOT_BE_INVITED",e.RecipientRejected="RECIPIENT_REJECTED"}(c||(c={})),function(e){e.Accepted="ACCEPTED",e.Deleted="DELETED",e.Pending="PENDING",e.Rejected="REJECTED",e.Unknown="UNKNOWN"}(l||(l={})),function(e){e.Pending="PENDING",e.Live="LIVE",e.Ended="ENDED"}(d||(d={})),function(e){e.Success="fulfilled",e.Failure="failed"}(u||(u={})),function(e){e.Subs="subs"}(m||(m={})),function(e){e.ACTIVE="ACTIVE",e.TERMINATED="TERMINATED",e.COMPLETED="COMPLETED",e.ARCHIVED="ARCHIVED",e.MODERATED="MODERATED"}(p||(p={}))},WWj3:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoterChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoterChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pollChoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:277}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoterChoice on PollVoterChoice {\nid\npollChoice {\nid\n}\ntokens {...pollTokenBreakdown}\nvotes {...pollVoteBreakdown}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("/x02").definitions)),i.definitions=i.definitions.concat(r(n("wMQt").definitions)),e.exports=i},WgyX:function(e,t,n){"use strict";function i(e){return!("priceInfo"in e)}n.d(t,"a",(function(){return i}))},WvXh:function(e,t,n){},WytW:function(e,t,n){"use strict";n.d(t,"n",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"u",(function(){return y})),n.d(t,"r",(function(){return C})),n.d(t,"o",(function(){return w})),n.d(t,"t",(function(){return N})),n.d(t,"s",(function(){return D})),n.d(t,"p",(function(){return T})),n.d(t,"q",(function(){return j})),n.d(t,"m",(function(){return F}));var i=n("mr+n"),a=n("4G6/"),r=n("Ff8q");function o(e){return/^[\/]/.test(e)}function s(){return"/clear"}function c(){return"/emoteonly"}function l(){return"/emoteonlyoff"}function d(){return"/subscribers"}function u(){return"/subscribersoff"}function m(){return"/followersoff"}function p(){return"/slowoff"}function h(e){return"/followers "+e}function f(e){return void 0===e&&(e=i.a),"/slow "+e}function g(e){return"/color "+e}function v(){return"/emoteonly"}function b(){return"/emoteonlyoff"}var k=/^\/w(?:$|\s+)(\S+)?\s*(.+)?/i;function y(e){var t=e.trim().match(k);return t?{recipientLogin:t[1]&&Object(r.a)(t[1])||null,body:t[2]||null}:null}var S=/^\/host\s+(\S+)$/i;function C(e){var t=e.trim().match(S);return t?{recipientLogin:Object(r.a)(t[1])}:null}var E=/^\/ban\s+(\S+)(?:\s+(.+))?$/;function w(e){var t=e.trim().match(E);return t&&t[1]?{banTarget:Object(r.a)(t[1]),reason:t[2]||null}:null}var _=/^\/timeout\s+(\S+)(?:\s+(\S+))?(?:\s+(.+))?$/;function N(e){var t=!0,n=e.trim().match(_);if(!n||!n[1])return null;var i=Object(r.a)(n[1]),o=n[2]||null,s=n[3]||null,c=null;if(null!==o){var l=Number(o);if(Number.isNaN(l)){var d=Object(a.b)(o||"");!d||Number.isNaN(d)?t=!1:c=d}else c=l}return{validArguments:t,banTarget:i,rawDuration:o,durationSeconds:c,reason:s}}var O=/^\/slow(?:\s+(\d+)?)?$/;function D(e){var t=e.trim().match(O);return t?{duration:t[1]&&Number(t[1])||null}:null}var I=["blue","blueviolet","cadetblue","chocolate","coral","dodgerblue","firebrick","goldenrod","green","hotpink","orangered","red","seagreen","springgreen","yellowgreen"],M=/^\/color\s+(#[A-Fa-f0-9]{6}|[A-Za-z]+)$/;function T(e){var t=e.trim().match(M);if(!t)return null;var n=t[1];return n.startsWith("#")||-1!==I.indexOf(n.toLowerCase())?{color:n}:null}var P=/^\/help(?:\s+(\S+)?)?$/i;function j(e){var t=e.trim().match(P);return t?{command:t[1]}:null}function F(e){var t=e.commandArgs;if(t&&t.length>0){var n=t[0];if(n.isRequired)return"["+n.name+"]"}}},X31c:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("/MKj"),c=n("fvjX"),l=n("/7QA"),d=n("8Ad5"),u=n("0Log"),m=n("DMoW"),p=n("uIkQ"),h=n("+pBb"),f=n("ZVTe"),g=n("6wGa"),v=n("cys1"),b=n("EE1E"),k=n("fezU"),y=n("ZtEv"),S=n("oK83"),C=n("Jsra"),E=n("hnjF"),w=n("+80q"),_=n("sUnt"),N=(n("uYvD"),"chat-deleted-message-placeholder"),O="chat-hidden-message-placeholder",D="chat-hidden-username-placeholder";!function(e){e.ChatLineMessage="chat-line-message",e.ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",e.ChatHiddenMessagePlaceholder="chat-hidden-message-placeholder",e.ChatHiddenUserNameLink="chat-hidden-username-link",e.ChatHiddenUsernamePlaceholder="chat-hidden-username-placeholder",e.ChatDeletedMessageAttribution="chat-deleted-message-attribution"}(i||(i={}));var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={alwaysShowMessage:!1},t.renderModerationIcons=function(){if(!(t.props.isCurrentUserModerator&&t.props.showModerationIcons&&t.props.message.user.userID&&t.props.channelID))return null;var e=!0;return void 0!==t.props.canDelete&&(e=t.props.canDelete),o.createElement(g.a,{targetUserID:t.props.message.user.userID,canDelete:e,confirmModerationAction:t.props.confirmModerationAction,channelID:t.props.channelID,isMessageDeleted:t.props.message.deleted,isMessageBanned:t.props.message.banned,senderLogin:t.props.message.user.userLogin,messageID:t.props.message.id})},t.renderMessageBody=function(){if(t.props.isHidden&&!t.state.alwaysShowMessage&&t.props.isCurrentUserModerator){var e=Object(l.d)("message hidden from blocked user","ChatLine");return o.createElement("span",{key:"hidden_message",className:"chat-line__message--hidden","data-a-target":O},o.createElement(C.a,{linkTo:"",onClick:t.hiddenMessageClickHandler,"data-test-selector":i.ChatHiddenMessagePlaceholder},"<"+e+">"))}if(t.props.isDeleted)return t.renderDeletedMessage();var n={chatChannelID:t.props.channelID,chatChannelLogin:t.props.channelLogin,messageAuthorID:t.props.message.user.userID,messageSourceID:t.props.message.id,emoteSourceType:S.a.chat,isHighlighted:t.props.isHighlighted},a=Object(v.f)(t.props.message.messageParts,n);return t.props.isHighlighted?o.createElement("span",{className:"chat-line__message-body--highlighted"},a):a},t.renderDeletedMessage=function(){var e=t.props,n=e.isCurrentUserModerator,a=e.isCurrentUserStaff,r=e.deletedMessageDisplay;if(n||a){var s={chatChannelID:t.props.channelID,chatChannelLogin:t.props.channelLogin,messageAuthorID:t.props.message.user.userID,messageSourceID:t.props.message.id,emoteSourceType:S.a.chat,disableChatCard:!0};if(r===m.pb.DETAILED&&n){var c=t.props.message,d=c.modLogin,p=c.modActionType,h=c.duration,f=Object(l.d)("(Deleted)","ChatLine");return p&&p===u.ModerationActions.Ban&&d&&(f=Object(l.d)("(Banned by {modLogin})",{modLogin:d},"ChatLine")),p&&p===u.ModerationActions.Timeout&&(d&&h?f=Object(l.d)("({duration}s Timeout by {modLogin})",{duration:h,modLogin:d},"ChatLine"):d&&(f=Object(l.d)("(Timeout by {modLogin})",{modLogin:d},"ChatLine"))),p&&p===u.ModerationActions.Delete&&d&&(f=Object(l.d)("(Deleted by {modLogin})",{modLogin:d},"ChatLine")),o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":N,"data-test-selector":i.ChatDeletedMessagePlaceholder},o.createElement("span",{className:"chat-line__message--deleted-detailed"},Object(v.f)(t.props.message.messageParts,s)),o.createElement(E.g,{padding:{left:.5}},o.createElement(w.a,{type:w.e.Span,"data-test-selector":i.ChatDeletedMessageAttribution},f)))}return t.state.alwaysShowMessage?Object(v.f)(t.props.message.messageParts,s):o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":N},o.createElement(C.a,{linkTo:"",onClick:t.alwaysShowMessage,"data-test-selector":i.ChatDeletedMessagePlaceholder},"<"+Object(l.d)("message deleted","ChatLine")+">"))}return o.createElement("span",{key:"deleted",className:"chat-line__message--deleted-notice","data-a-target":N,"data-test-selector":i.ChatDeletedMessagePlaceholder},""+Object(l.d)("message deleted by a moderator.","ChatLine"))},t.renderMessageAuthor=function(){var e=t.props,n=e.badgeSets,a=e.message,r=e.theme,s=e.useHighContrastColors;return t.props.isHidden&&!t.state.alwaysShowMessage&&t.props.isCurrentUserModerator?o.createElement("span",{key:"hidden_username",className:"chat-line__username--hidden","data-a-target":D,"data-test-selectors":i.ChatHiddenUsernamePlaceholder},o.createElement(C.a,{linkTo:"",onClick:t.hiddenMessageClickHandler,"data-test-selector":i.ChatHiddenUserNameLink},Object(l.d)("User Hidden","ChatLine"))):o.createElement(o.Fragment,null,t.renderModerationIcons(),o.createElement(p.b,{badgeSets:n,badgesToRender:a.badges,dynamicData:a.badgeDynamicData,hideBroadcasterTooltip:t.props.hideBroadcasterTooltip}),o.createElement("span",{className:"chat-line__username",onClick:t.openViewerCard,onKeyDown:t.openViewerCard,role:"button",tabIndex:0},o.createElement(f.a,{userData:a.user,highContrastUsernameColor:s,theme:r})))},t.alwaysShowMessage=function(e){e&&e.preventDefault(),t.setState({alwaysShowMessage:!0})},t.hiddenMessageClickHandler=function(e){t.alwaysShowMessage(e),t.props.message.user.userID&&t.props.onHiddenMessageClick(t.props.message.user.userID)},t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==d.a.Space&&e.keyCode!==d.a.Enter||t.props.onUsernameClick(t.props.message.user.userLogin,S.b.chat_message,t.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.message,a=e.showTimestamps,s=e.theme,c=e.useHighContrastColors,d=e.isDeleted,u=e.isCurrentUserModerator,p=e.deletedMessageDisplay,h=e.deletedCount;if(d&&u&&p===m.pb.BRIEF)return h&&h>0?o.createElement(_.a,{className:"chat-line__status"},o.createElement(w.a,{type:w.e.Span,"data-a-target":N,"data-test-selector":i.ChatDeletedMessagePlaceholder},Object(l.d)("{numDeleted, plural, one {# message was deleted by a moderator.} other {# messages were deleted by a moderator.}}",{numDeleted:h},"ChatLine"))):null;var f={},g=": ";if(n.messageType===y.c.Action){var k=n.user.color;c&&k&&(k="#"+Object(b.a)(k,s)),f={color:k},g=" "}var S=null;return a&&(S=Object(v.l)(n.timestamp)),o.createElement("div",{className:r(t,"chat-line__message"),style:f,"data-a-target":"chat-line-message","data-test-selector":i.ChatLineMessage},S,this.renderMessageAuthor(),o.createElement("span",{key:"separator","aria-hidden":"true"},g),this.renderMessageBody())},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(o.Component);var M=Object(c.d)(Object(s.b)(void 0,(function(e){return Object(c.b)({onHiddenMessageClick:h.P},e)})),Object(k.b)((function(e){return{onUsernameClick:e.onShowViewerCard,onEmoteClick:e.onShowEmoteCard}})))(I)},XBQy:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointCustomizationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment pointCustomizationFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nname\nimage {\n...pointsImageFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},XIEs:function(e,t,n){"use strict";function i(e){return{"1x":e.url,"2x":e.url2x,"4x":e.url4x}}n.d(t,"a",(function(){return i}))},XIZb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("q1tI"),r=n("4rCz"),o=n("1rIY");function s(e){var t=Object(o.a)(e,{setServiceAPI:function(){r.l.warn("The "+e+" chat service attempted to register its API without a provider.")}}),n=t.context,s=t.withContext;return{context:n,withChatServiceManager:function(e){return function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e.setServiceAPI=function(t){e.setState({serviceAPI:t})},e}return Object(i.__extends)(r,t),r.prototype.render=function(){return a.createElement(n.Provider,{value:{serviceAPI:this.state.serviceAPI,setServiceAPI:this.setServiceAPI}},a.createElement(e,Object(i.__assign)({},this.props)))},r}(a.Component)},withContext:s}}},XKWF:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));var i=n("vRsq"),a=n("DMoW");function r(e){switch(e.toUpperCase()){case a.kd.VIEWS:return a.kd.VIEWS;case a.kd.TIME:return a.kd.TIME;default:return null}}function o(e){switch(e){case i.f.Newest:return a.kd.TIME;case i.f.Popular:return a.kd.VIEWS;default:return e}}n.d(t,"a",(function(){return a.kd}))},XQnt:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmotePicker_SubUpsell_PriceInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerSubUpsellPriceInfoSubscriptionProduct"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emotePickerSubUpsellPriceInfoSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerUserSubscriptionProduct"},directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerSubUpsellPromotionInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidUpgradePromotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerSubUpsellPromotionInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerSubUpsellPromotionInfo"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emotePickerSubUpsellPromotionInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionPromotion"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oldPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountValue"},arguments:[],directives:[]}]}}],loc:{start:0,end:819}};i.loc.source={body:'#import "twilight/features/emote-picker/components/emote-picker-menu/user-subscription-product-fragment.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nquery EmotePicker_SubUpsell_PriceInfo($channelID: ID!) {\nuser(id: $channelID) {\nid\nsubscriptionProducts {\n...emotePickerSubUpsellPriceInfoSubscriptionProduct\n}\n}\n}\nfragment emotePickerSubUpsellPriceInfoSubscriptionProduct on SubscriptionProduct {\n...emotePickerUserSubscriptionProduct\npriceInfo {\n...subscriptionProductPriceInfo\n}\npromotion {\n...emotePickerSubUpsellPromotionInfo\n}\nself {\npaidUpgradePromotion {\n...emotePickerSubUpsellPromotionInfo\n}\npromotion {\n...emotePickerSubUpsellPromotionInfo\n}\n}\n}\nfragment emotePickerSubUpsellPromotionInfo on SubscriptionPromotion {\nnewPrice\noldPrice\ndiscountType\ndiscountValue\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("ZhU4").definitions)),i.definitions=i.definitions.concat(r(n("35qb").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.EmotePicker_SubUpsell_PriceInfo=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"EmotePicker_SubUpsell_PriceInfo")},XRPh:function(e,t,n){"use strict";var i=n("/MKj"),a=n("fvjX"),r=n("kRBY"),o=n("fezU"),s=n("mrSG"),c=n("q1tI"),l=n("/7QA"),d=n("D7An"),u=n("j0ar"),m="emote_card",p="emote_card_whitelist";var h=n("oK83"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emoteClickHandler=function(e){t.props.emote.emoteID&&t.props.onEmoteClick({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin||"",emoteID:t.props.emote.emoteID,emoteCode:t.props.emote.alt||"",sourceID:t.props.sourceID||"",emoteSourceType:t.props.sourceType?t.props.sourceType:h.a.unknown,referrerID:t.props.referrerID||"",initialTopOffset:e.currentTarget.getBoundingClientRect().bottom})},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props.emote.alt||"";return this.props.emote.cheerAmount&&(n+=" "+this.props.emote.cheerAmount.toString(),e=c.createElement("strong",{className:"chat-line__message--cheer-amount",style:{color:this.props.emote.cheerColor}},this.props.emote.cheerAmount)),t=c.createElement(u.a,{alt:n,cheerText:e,className:"chat-line__message--emote",srcKey:"1x",srcSet:this.props.emote.images}),this.props.emote.cheerAmount||this.props.disableCard||!function(e){var t=l.b.get(m,"off");if("on"===t)return!0;if("staff"===t&&e&&e.roles&&e.roles.isStaff)return!0;var n=l.b.get(p,[]);return!!("whitelist"===t&&e&&e.id&&n.includes(e.id))}(this.props.user)||"treatment"!==l.p.experiments.getAndTrackAssignment(d.c.EmoteCard)?t:c.createElement("div",{onClick:this.emoteClickHandler,className:"chat-line__message--emote-button","data-test-selector":"emote-button"},t)},t}(c.Component);var g=Object(a.d)(Object(i.b)((function(e){return{user:Object(r.e)(e)}})),Object(o.b)((function(e){return{onEmoteClick:e.onShowEmoteCard}})))(f);g.displayName="Emote",n.d(t,"a",(function(){return g}))},XeJ1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("nxZp"),a=n("ehEd"),r={normalizeRecord:function(e){return new i.a({id:e._id,name:e.name,logo:new URL(e.logo||a.a),bio:e.bio,createdAt:new Date(e.created_at),displayName:e.display_name,type:e.type,updatedAt:new Date(e.updated_at)})},serializeRecord:function(e){return{_id:e.id,name:e.name,logo:e.logo.toString(),bio:e.bio,created_at:e.createdAt.toISOString(),display_name:e.displayName,type:e.type,updated_at:e.updatedAt.toISOString()}}}},XmgI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h}));var i=n("wUQP"),a=n("DMoW"),r=n("5zXJ"),o=n("RcPG"),s={indexedActions:{},orderedActions:[]},c=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function l(e,t,n){void 0===n&&(n=!0);var i=[],a=e.split(/\s+/);return a.forEach((function(e,r){var s=d(e,t,n);if(s)i.push(s);else{var c=i.length&&i[i.length-1],l="";if(r<a.length-1&&(l=" "),c&&c.type===o.a.Text)c.content+=e+l;else{var u="";r&&(u=" "),i.push({type:o.a.Text,content:u+e+l})}}})),i}function d(e,t,n){void 0===n&&(n=!0);var i=e.match(c);if(!i)return null;var r=i[1].toLowerCase(),s=Number(i[2]),l=t.indexedActions[r];if(l&&(l.type!==a.K.DISPLAY_ONLY||n)){var d=l.orderedTiers.find((function(e){return e.bits<=s}));if(!d&&s&&(d=l.orderedTiers[0]),d)return{type:o.a.Emote,content:{images:p(d),alt:l.prefix,cheerAmount:s,cheerColor:d.color}}}return null}function u(e,t){var n,i,a=(n=t,i=new Map,n.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),o=new Map;e.forEach((function(e,t){if(e.alt&&a.has(e.alt))if(o.has(e.alt)){(n=o.get(e.alt))&&(n.total+=e.cheerAmount||0,n.lastAppearance=t)}else{var n={total:e.cheerAmount||0,lastAppearance:t,campaign:a.get(e.alt)};o.set(e.alt,n)}}));var s=1;return o.forEach((function(n){var i=0;n.campaign.thresholds.forEach((function(e){n.total>=e.minimumBits&&(i=e.matchedPercent)}));var a=Math.trunc(n.total*i);if(a>0){var o=d(r.r+a,t,!0);o&&e.splice(n.lastAppearance+s++,0,o.content)}})),e}function m(e,t){return l(e,t,!0).reduce((function(e,t){return t.type===o.a.Emote&&e.push(t.content),e}),[]).some((function(e){var n=t.orderedActions.find((function(t){return!!e.alt&&e.alt===t.prefix}));return!!n&&n.type===a.K.DISPLAY_ONLY}))}function p(e,t,n){var i,a;void 0===n&&(n=!0);var r=n?"animated":"static";return t?{themed:!0,dark:(i={},i[t+"x"]=e.indexedImages.DARK[r].get(t),i),light:(a={},a[t+"x"]=e.indexedImages.LIGHT[r].get(t),a)}:{themed:!0,dark:{"1x":e.indexedImages.DARK[r].get(1),"1.5x":e.indexedImages.DARK[r].get(1.5),"2x":e.indexedImages.DARK[r].get(2),"3x":e.indexedImages.DARK[r].get(3),"4x":e.indexedImages.DARK[r].get(4)},light:{"1x":e.indexedImages.LIGHT[r].get(1),"1.5x":e.indexedImages.LIGHT[r].get(1.5),"2x":e.indexedImages.LIGHT[r].get(2),"3x":e.indexedImages.LIGHT[r].get(3),"4x":e.indexedImages.LIGHT[r].get(4)}}}function h(e){return!!Object(i.c)(r.a)&&e.toLowerCase()===r.b.toLowerCase()}},"Y/1R":function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("/7QA"),s=n("DMoW"),c=n("IArS"),l=n("/MKj"),d=n("fvjX"),u=n("fezU"),m=n("5zC2"),p=n("k8pZ"),h=n("uIkQ"),f=n("cys1"),g=n("fxMP"),v=n("sUnt"),b=n("+80q");!function(e){e.Timestamp="extension-message-timestamp",e.ExtensionName="extension-message-name"}(i||(i={}));var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onExtensionNameClick=function(e){var n=t.props.message;t.props.onExtensionNameClick(n.extension.clientID,n.extension.version,n.id,e.currentTarget.getBoundingClientRect().bottom)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){if(!this.props.installedExtensions)return null;var e=this.props.message;if(!this.props.installedExtensions.some((function(t){var n=t.extension;return n.clientId===e.extension.clientID&&n.version===e.extension.version})))return null;var t=this.props.message.extension.displayBadges;return r.createElement(v.a,{padding:{x:2,y:.5}},r.createElement("div",{id:this.props.message.id,className:"room-message"},this.renderTimestamp(),r.createElement(h.b,{badgeSets:this.props.badgeSets,badgesToRender:t}),this.renderMessageAuthor(this.props.message.extension),r.createElement("span",null,": "),this.renderMessageBody()))},t.prototype.renderTimestamp=function(){return this.props.showTimestamps?r.createElement("span",{key:"timestamp",className:"room-message__timestamp","data-test-selector":i.Timestamp},Object(f.a)(new Date(this.props.message.sentAt))):null},t.prototype.renderMessageBody=function(){var e=Object(g.f)(this.props.message);return Object(f.f)(e,{forceClipsNetworkRequest:!0})},t.prototype.renderMessageAuthor=function(e){return r.createElement("button",{onClick:this.onExtensionNameClick,"data-test-selector":i.ExtensionName},r.createElement("span",{key:e.clientID+"-"+e.version+"-messageauthor"},r.createElement("span",{key:"username-display",style:{color:e.chatColor}},r.createElement(b.a,{bold:!0},e.displayName))))},t}(r.Component);var y=Object(d.d)(Object(l.b)((function(e,t){return{installedExtensions:t.channelID?Object(p.a)(e,t.channelID):null}})),Object(u.b)((function(e){return{onExtensionNameClick:e.onShowExtensionMessageCard}})),Object(m.c)({name:"extensionsForChannel",skip:function(e){return!e.channelID||!!e.installedExtensions},options:function(e){return{variables:{channelID:e.channelID||""}}}}))(k),S=n("KGti"),C=n("ZtEv"),E=n("0WFu"),w=n("hnjF"),_=n("X2PJ"),N=n("QVaV"),O=n("8SX2"),D=n("oK83"),I=n("Ws8v"),M=n("7uM4"),T=n("C7sF"),P=function(e){var t=e.event,n=t.promoGiftTotal,i=t.promoName,a=t.user,s=r.createElement(O.a,{contentID:a.id,login:a.username,sourceType:D.b.chat_message},Object(N.a)(a.username,a.displayName)),c=i&&n?Object(o.d)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!        They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{promoGiftTotal:n,promoName:i,recipientButton:s},"AnonGiftPaidUpgradeNoticeLine"):Object(o.d)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!",{recipientButton:s},"AnonGiftPaidUpgradeNoticeLine");return r.createElement(v.a,{alignItems:w.b.Start,display:w.d.Flex},r.createElement(I.a,{color:_.c.Alt2,display:w.d.Flex,flexDirection:w.e.Column,flexShrink:0,margin:{right:.5}},r.createElement(M.a,{asset:T.a.Ghost})),r.createElement(b.a,{color:_.c.Alt2,type:b.e.Span},c))};P.displayName="AnonGiftPaidUpgradeNoticeLine";var j=function(e){var t=e.event,n=r.createElement(O.a,{contentID:t.recipientID,login:t.recipientLogin,sourceType:D.b.chat_message},Object(N.a)(t.recipientLogin,t.recipientDisplayName));return r.createElement(v.a,{alignItems:w.b.Start,display:w.d.Flex},r.createElement(I.a,{color:_.c.Alt2,display:w.d.Flex,flexDirection:w.e.Column,flexShrink:0,margin:{right:.5}},r.createElement(M.a,{asset:T.a.Ghost})),r.createElement(b.a,{color:_.c.Alt2,type:b.e.Span},function(e,t){return"custom"===e.plan?Object(o.d)("An anonymous gifter gave {recipientButton} a Sub!",{recipientButton:t},"AnonSubGiftNoticeLine"):Object(o.d)("An anonymous gifter gave {recipientButton} a Tier {tierNumber} Sub!",{recipientButton:t,tierNumber:Object(E.c)(e.plan)||1},"AnonSubGiftNoticeLine")}(t.methods,n)))};j.displayName="AnonSubGiftNoticeLine";var F=function(e){var t=e.event,n=t.channel,i=t.massGiftCount,a=t.plan,s="custom"===a?Object(o.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:n,massGiftCount:i},"AnonSubMysteryGiftNoticeLine"):Object(o.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,massGiftCount:i,tierNumber:Object(E.c)(a)||1},"AnonSubMysteryGiftNoticeLine");return r.createElement(v.a,{alignItems:w.b.Start,display:w.d.Flex},r.createElement(I.a,{color:_.c.Alt2,display:w.d.Flex,flexDirection:w.e.Column,flexShrink:0,margin:{right:.5}},r.createElement(M.a,{asset:T.a.Ghost})),r.createElement(b.a,{color:_.c.Alt2,type:b.e.Span},s))};F.displayName="AnonSubMysteryGiftNoticeLine";var R=n("xZ3y"),L=function(e){var t=e.event.threshold,n=e.badgeSets.getBadge(R.a,t.toString()),i=Object(o.d)("{text} Bits badge!",{text:Object(R.b)(n,t)},"BitsBadgeTierNotification");return r.createElement(v.a,{display:w.d.Flex},r.createElement(M.a,{height:20,width:20,asset:T.a.Bits,type:M.b.Alt2}),r.createElement(I.a,{color:_.c.Alt2,padding:{left:.5},display:w.d.Inline},Object(o.d)("{userLogin} just earned a new <x:bold>{boldedBadgeText}</x:bold>",{userLogin:r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},Object(N.a)(e.event.user.userID,e.event.user.displayName)),boldedBadgeText:i,"x:bold":function(e){return r.createElement(b.a,{color:_.c.Base,bold:!0,type:b.e.Span},e)}},"BitsBadgeTierNotification")))};L.displayName="BitsBadgeTierNoticeLine";var A,U=n("Jsra"),x="https://www.twitch.tv/settings/connections";!function(e){e.Kickback="msg_blizzard",e.Enabled="blizzard_connect_on",e.Disabled="blizzard_connect_off",e.AlreadyEnabled="already_blizzard_mode_on",e.AlreadyDisabled="already_blizzard_mode_off"}(A||(A={}));var B=function(e){var t=null;switch(e.type){case A.Kickback:var n=r.createElement(U.a,{targetBlank:!0,to:x},x);t=Object(o.d)("You must connect your Blizzard account to send messages in this room. You can connect your Blizzard account in your Twitch settings at {settingsLink}",{settingsLink:n},"BlizzardConnectModeNoticeLine");break;case A.Enabled:t=Object(o.d)("This room now requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case A.Disabled:t=Object(o.d)("This room no longer requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case A.AlreadyEnabled:t=Object(o.d)("This room already requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case A.AlreadyDisabled:t=Object(o.d)("This room does not require a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;default:return null}return r.createElement(v.a,null,t)};B.displayName="BlizzardConnectNoticeLine";var V=n("wUQP"),H=n("4rCz"),q=n("tiJ6"),G=n("A4KW"),W=n("YV90"),z=n("m7Uh"),Q=n("PkcC"),Y=(n("ZhMv"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=Object(V.c)("dashboard_settings_color_form");if(!this.props.event.reward||!this.props.isChannelPointsFeatureFlagOn)return this.props.children?r.createElement(r.Fragment,null,this.props.children):null;var t=Object(H.d)("{user} redeemed {reward}",{user:this.props.event.displayName,reward:this.props.event.reward.name},"ChannelPointsRewardLine");this.props.children&&(t=Object(H.d)("Redeemed {reward}",{reward:this.props.event.reward.name},"ChannelPointsRewardLine"));var n=this.props.children;if(this.props.children){var i=r.Children.only(this.props.children);n=r.cloneElement(i,{className:"chat-line--inline",isHighlighted:this.props.event.reward.isHighlighted})}return r.createElement(Q.a,{inputColorHex:e&&this.props.primaryColorHex&&Object(z.b)("#"+this.props.primaryColorHex)?"#"+this.props.primaryColorHex:null},r.createElement(v.a,{className:"channel-points-reward-line",margin:{y:.5},padding:{right:2,y:.5}},r.createElement(I.a,{color:_.c.Alt2,display:w.d.InlineFlex,flexWrap:w.f.Wrap},t,r.createElement(v.a,{display:w.d.InlineBlock,margin:{x:.5}},r.createElement(G.b,null)),Object(H.f)(this.props.event.reward.cost)),n&&r.createElement(v.a,{margin:{top:.5}},n)))},t}(r.Component));var K=Object(d.d)(Object(q.b)((function(e){return{primaryColorHex:e.primaryColorHex}})),Object(W.a)((function(e){return{isChannelPointsFeatureFlagOn:e.isChannelPointsFeatureFlagOn,pointIcon:e.pointIcon,rewardMap:e.rewardMap}})))(Y),X=function(e){var t=r.createElement(I.a,{display:w.d.Block},r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},r.createElement(b.a,{color:_.c.Link},Object(N.a)(e.event.user.username,e.event.user.displayName)))),n=new Date;n.setDate(1),n.setMonth(parseInt(e.event.benefitEndMonth,10)-1);var i=Object(o.d)("{userLogin} <x:strong> Extended </x:strong> their Tier 1 subscription through {benefitEndMonth}!",{userLogin:t,benefitEndMonth:Object(o.c)(n,{month:"long"}),"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ExtendSubscriptionNoticeLine");return r.createElement(v.a,{display:w.d.Flex},r.createElement(I.a,{color:_.c.Alt2},r.createElement(M.a,{asset:T.a.Star})),r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,i)))};X.displayName="ExtendSubscriptionNoticeLine";var $=function(e){return r.createElement(I.a,{color:_.c.Alt2,display:w.d.Inline},Object(o.d)("{userLogin} just made their first cheer!",{userLogin:r.createElement(O.a,{contentID:e.event.message.id,login:e.event.message.user.userLogin,sourceType:D.b.chat_message},Object(N.a)(e.event.message.user.userLogin,e.event.message.user.userDisplayName))},"FirstCheerNoticeLine"))};$.displayName="FirstCheerNoticeLine";var J=function(e){var t=e.event,n=r.createElement(O.a,{contentID:t.user.id,login:t.user.username,sourceType:D.b.chat_message},Object(N.a)(t.user.username,t.user.displayName)),i=r.createElement(O.a,{contentID:t.user.id,login:t.senderLogin,sourceType:D.b.chat_message},Object(N.a)(t.senderLogin,t.senderName));return r.createElement(b.a,{color:_.c.Alt2,type:b.e.Span},t.promoName&&t.promoGiftTotal?Object(o.d)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!            They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{gifterButton:i,promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,recipientButton:n},"GiftPaidUpgradeNoticeLine"):Object(o.d)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!",{gifterButton:i,recipientButton:n},"GiftPaidUpgradeNoticeLine"))};J.displayName="GiftPaidUpgradeNoticeLine";var Z;n("OBzG");!function(e){e[e.MOD_ICONS=0]="MOD_ICONS",e[e.MESSAGE=1]="MESSAGE"}(Z||(Z={}));var ee=function(e){var t=e.event,n=e.moderationIcons;return r.createElement(I.a,{className:"gift-pay-forward-line",color:_.c.Alt2,margin:{y:.5},padding:{right:2,y:.5}},n&&r.createElement(v.a,{"data-test-selector":Z.MOD_ICONS},n),r.createElement(v.a,{"data-test-selector":Z.MESSAGE},function(e){var t=e.user.displayName,n=e.priorGifter.displayName;if(e.type===C.b.CommunityPayForward)return e.priorGifter.anonymous?Object(H.d)("{sender} is paying forward the Gift they got from an anonymous gifter to the community!",{sender:t},"GiftPayForwardLine"):Object(H.d)("{sender} is paying forward the Gift they got from {priorGifter} to the community!",{sender:t,priorGifter:n},"GiftPayForwardLine");var i=e.recipient.displayName;return e.priorGifter.anonymous?Object(H.d)("{sender} is paying forward the Gift they got from an anonymous gifter to {recipient}!",{sender:t,recipient:i},"GiftPayForwardLine"):Object(H.d)("{sender} is paying forward the Gift they got from {priorGifter} to {recipient}!",{sender:t,priorGifter:n,recipient:i},"GiftPayForwardLine")}(t)))};ee.displayName="GiftPayForwardLine";var te=n("yR8l"),ne=n("HH5h"),ie=n("OvAg"),ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.message.params,t=this.props.data,n=t.channel,i=t.loading,a=t.error;if(i||a||!n||!n.displayName)return null;var s=Object(o.d)("{displayName} is raiding with a party of {viewerCount}.",{displayName:r.createElement("strong",null,n.displayName),viewerCount:r.createElement("strong",null,e.viewerCount)},"RaidIncomingMessage");return r.createElement(v.a,{display:w.d.Flex,alignItems:w.b.Center},r.createElement(ne.a,{alt:n.displayName,src:n.profileImageURL,userLogin:n.login,size:30}),r.createElement(I.a,{color:_.c.Base,margin:{left:1}},s))},t}(r.Component),re=Object(te.a)(ie,{options:function(e){return{variables:{channelLogin:e.message.params.login}}}})(ae),oe=n("u5aL"),se=n("dsMP"),ce=n("amaQ"),le=n("RS58"),de=n("7d/q"),ue=n("k0nM"),me=n("ygYM"),pe=n("dEDE"),he=(n("T84l"),function(e){function t(t){var n=e.call(this,t)||this;return n.state={contextMenuOpen:!1,hideCTA:!1,isHidden:!1},n.toggleContextMenu=function(){var e=n.state.contextMenuOpen;n.setState({contextMenuOpen:!e})},n.onContextMenuClickout=function(){n.setState({contextMenuOpen:!1})},n.hideOnContextMenuAction=function(e){if(void 0!==e)return function(){e(),n.setState({isHidden:!0})}},n.actionClick=n.actionClick.bind(n),n.showCTA=n.showCTA.bind(n),n}return Object(a.__extends)(t,e),t.prototype.render=function(){if(this.state.isHidden)return null;var e=this.props.event.callout,t=void 0===this.props.messageIndex||this.props.messageIndex<6;return r.createElement(I.a,{border:!0,background:_.a.Alt,borderRadius:_.b.Medium,margin:{x:2,y:.5}},r.createElement(v.a,{display:w.d.Flex,flexDirection:w.e.Row,alignItems:w.b.Center,className:"inline-private-callout-line__header"},r.createElement(M.a,{asset:T.a.Lock,width:14,height:14}),r.createElement(v.a,{padding:{left:.5}},r.createElement(b.a,{color:_.c.Alt2}," ",Object(o.d)("Only visible to you","InlineChatPrivateCallout")," "))),r.createElement(I.a,{display:w.d.Flex,alignItems:w.b.Center,padding:1,borderTop:!0},e.icon&&r.createElement(I.a,{className:"inline-private-callout-line__icon",margin:{right:1},padding:e.hideIconBackground?void 0:.5,display:w.d.Flex,flexGrow:0,flexShrink:0,alignItems:w.b.Center,justifyContent:w.h.Center,background:e.hideIconBackground?void 0:_.a.Base,borderRadius:_.b.Rounded,border:!e.hideIconBackground},e.icon),r.createElement(v.a,{flexGrow:1,padding:{right:1}},r.createElement(b.a,{color:_.c.Base,bold:!0,type:b.e.Span},e.title)),e.cta&&this.renderButton(e),e.contextMenuProps&&r.createElement(I.a,{color:_.c.Base,position:w.j.Relative,padding:{top:.5,bottom:1,x:.5}},r.createElement(oe.a,{onClickOut:this.onContextMenuClickout},r.createElement(de.a,{icon:T.a.More,onClick:this.toggleContextMenu,ariaLabel:"more options"}),r.createElement(ue.a,{show:this.state.contextMenuOpen,direction:t?me.b.BottomRight:me.b.TopRight,offsetX:"12px"},r.createElement(se.a,{event:e.contextMenuProps.event,onPin:this.hideOnContextMenuAction(e.contextMenuProps.onPin),onHide:this.hideOnContextMenuAction(e.contextMenuProps.onHide),onSkip:this.hideOnContextMenuAction(e.contextMenuProps.onSkip)}))))),e.withReminderText&&r.createElement(I.a,{borderTop:!0,background:_.a.Base,padding:{left:1}},r.createElement(b.a,{color:_.c.Alt2,type:b.e.Span},Object(o.d)("You will be reminded later","InlinePrivateCallout"))))},t.prototype.renderButton=function(e){var t;return e.action?t=e.action:this.props.event.tray&&(t=this.actionClick),t?r.createElement(I.a,{visibility:this.state.hideCTA?w.n.Hidden:w.n.Visible},r.createElement(pe.a,{onClick:t,size:pe.b.Small,children:e.cta})):null},t.prototype.actionClick=function(){if(this.props.event.tray){var e=this.props.event.tray;e.callOnClose=this.showCTA,e.sendMessageHandler&&e.sendMessageHandler.params&&(e.sendMessageHandler.params.privateCalloutTrackingContext=ce.c.Chat),this.props.setTray(e),this.setState({hideCTA:!0}),Object(ce.f)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.props.event.callout.trackingType,privateCalloutSID:this.props.event.callout.privateSID,clickType:this.props.event.callout.trackingClickType,uiContext:ce.c.Chat})}},t.prototype.showCTA=function(){this.setState({hideCTA:!1})},t}(r.Component));var fe=Object(d.d)(Object(le.b)((function(e){return{setTray:function(t){return e.setTray(t)}}})))(he),ge=n("5zf8"),ve=n("x0+1"),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.moderationActionEvent,t=e.createdByLogin,n=null;if(e.moderationActionType===C.d.AutoModEnabled)n=Object(o.d)("AutoMod has been enabled for this channel.","ModerationActionLine");else if(e.level===S.a.Channel)switch(e.moderationActionType){case C.d.Clear:n=Object(o.d)("{user} cleared chat for this room.",{user:t},"ModerationActionLine");break;case C.d.EmoteOnly:n=Object(o.d)("{user} enabled emote-only mode for this room.",{user:t},"ModerationActionLine");break;case C.d.EmoteOnlyOff:n=Object(o.d)("{user} disabled emote-only for this room.",{user:t},"ModerationActionLine");break;case C.d.FollowersOnly:var i=(e.args||[""]).join(" ").trim(),a=parseInt(i,10);n=a?Object(o.d)("{user} enabled {length} followers-only mode for this room.",{user:t,length:Object(ge.b)(60*a)},"ModerationActionLine"):Object(o.d)("{user} enabled followers-only mode for this room.",{user:t},"ModerationActionLine");break;case C.d.FollowersOnlyOff:n=Object(o.d)("{user} disabled followers-only mode for this room.",{user:t},"ModerationActionLine");break;case C.d.R9kBeta:n=Object(o.d)("{user} enabled unique-chat mode for this room.",{user:t},"ModerationActionLine");break;case C.d.R9kBetaOff:n=Object(o.d)("{user} disabled unique-chat mode for this room.",{user:t},"ModerationActionLine");break;case C.d.Slow:var s=(e.args||["30"]).join(" ").trim(),c=parseInt(s,10);n=Object(o.d)("{user} enabled {slowTime}-second slow mode for this room.",{user:t,slowTime:c},"ModerationActionLine");break;case C.d.SlowOff:n=Object(o.d)("{user} disabled slow mode for this room.",{user:t},"ModerationActionLine");break;case C.d.SubscribersOnly:n=Object(o.d)("{user} enabled subscribers-only mode for this room.",{user:t},"ModerationActionLine");break;case C.d.SubscribersOnlyOff:n=Object(o.d)("{user} disabled subscribers-only mode for this room.",{user:t},"ModerationActionLine");break;default:var l=e.args&&e.args.join(" ").trim(),d=l&&l.length>0?"/"+e.moderationActionType+" "+l:""+e.moderationActionType;n=Object(o.d)("{user} used: {command}.",{user:e.createdByLogin,command:d},"ModerationActionLine")}else{var u=e.targetUserLogin,m=e.duration,p=e.reason,h=e.messageBody;switch(e.moderationActionType){case C.d.Timeout:n=e.level===S.a.User&&this.props.currentUserLogin&&u===this.props.currentUserLogin?m&&p?Object(o.d)("You were timed out for {duration} seconds. Reason: {reason}.",{duration:m,reason:p},"ModerationActionLine"):m?Object(o.d)("You were timed out for {duration} seconds.",{duration:m},"ModerationActionLine"):p?Object(o.d)("You were timed out. Reason: {reason}.",{reason:p},"ModerationActionLine"):Object(o.d)("You were timed out.","ModerationActionLine"):m&&p?Object(o.d)("{user} timed out {target} for {duration} seconds. Reason: {reason}.",{user:t,target:u,duration:m,reason:p},"ModerationActionLine"):m?Object(o.d)("{user} timed out {target} for {duration} seconds.",{user:t,target:u,duration:m},"ModerationActionLine"):Object(o.d)("{user} timed out {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Ban:n=!t&&p?Object(o.d)("You were banned. Reason: {reason}.",{reason:p},"ModerationActionLine"):t?p?Object(o.d)("{user} banned {target}. Reason: {reason}.",{user:t,target:u,reason:p},"ModerationActionLine"):Object(o.d)("{user} banned {target}.",{user:t,target:u},"ModerationActionLine"):Object(o.d)("You were banned.","ModerationActionLine");break;case C.d.Untimeout:n=Object(o.d)("{user} removed time out on {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Unban:n=Object(o.d)("{user} removed ban on {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Mod:n=Object(o.d)("{user} granted moderator privileges to {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Unmod:n=Object(o.d)("{user} removed moderator privileges for {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Delete:var f=h||"";n=r.createElement(ve.a,{targetLogin:u,moderatorLogin:t,messageBody:f});break;default:return null}}return n?r.createElement(v.a,{className:"chat-line__status","data-a-target":"moderation-action"},r.createElement(b.a,{type:b.e.Span},n)):null},t}(r.Component),ke=function(e){var t=Object(o.d)("{receiver} received a {giftName} from the Community Gift Chest, courtesy of {sender}!",{receiver:r.createElement(b.a,{bold:!0,type:b.e.Span},e.event.receiver),giftName:e.event.giftName,sender:r.createElement(b.a,{bold:!0,type:b.e.Span},e.event.sender)},"PrimeCommunityGiftReceivedNoticeLine");return r.createElement(v.a,{display:w.d.Flex},r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,t)))};ke.displayName="PrimePaidUpgradeNoticeLine";var ye=n("3Bft"),Se=n("JbWT"),Ce=function(e){var t=r.createElement(I.a,{display:w.d.Block},r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},r.createElement(b.a,{color:_.c.Link},Object(N.a)(e.event.user.username,e.event.user.displayName)))),n=null;return n=e.event.plan===ye.a.Custom?Object(o.d)("{userLogin} <x:strong>Converted</x:strong> from a <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link> sub to a Paid sub!",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)},"x:twitch-prime-link":function(t){return Ee(e.event.channel,"primetopaid",t)}},"PrimePaidUpgradeNoticeLine"):Object(o.d)("{userLogin} <x:strong>Converted</x:strong> from a <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link> sub to a Tier {tierNumber} sub!",{tierNumber:Object(E.c)(e.event.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)},"x:twitch-prime-link":function(t){return Ee(e.event.channel,"primetopaid",t)}},"PrimePaidUpgradeNoticeLine"),r.createElement(v.a,{display:w.d.Flex},r.createElement(I.a,{color:_.c.Alt2},r.createElement(M.a,{asset:T.a.Star})),r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,n)))},Ee=function(e,t,n){return r.createElement(Se.a,{channel:e,reference:t,text:n})};function we(){return{raid_error_self:Object(o.d)("You cannot raid your own channel.","RaidErrorSelfMessage"),raid_error_forbidden:Object(o.d)("You cannot raid this channel.","RaidErrorAlreadyRaidingMessage"),raid_error_already_raiding:Object(o.d)("You already have a raid in progress.","RaidErrorForbiddenMessage"),raid_error_too_many_viewers_to_raid:Object(o.d)("Sorry, raids can only support up to 20,000 viewers right now.","RaidErrorTooManyViewersMessage"),raid_error_unexpected:Object(o.d)("There was a problem starting the raid. Please try again in a minute.","RaidErrorUnexpectedMessage"),unraid_error_unexpected:Object(o.d)("There was a problem stopping the raid. Please try again in a minute.","UnraidErrorUnexpectedMessage"),unraid_error_no_active_raid:Object(o.d)("You do not have an active raid.","UnraidErrorNoActiveRaidMessage"),raid_notice_restricted_chat:Object(o.d)("This channel has follower or subscriber only chat.","RaidNoticeRestrictedChatMessage"),raid_notice_mature:Object(o.d)("This channel is intended for mature audiences.","RaidNoticeMatureMessage"),raid_notice_owner:Object(o.d)("This channel has started a raid, type {unraidCommand} if you want to cancel.",{unraidCommand:"/unraid"},"RaidNoticeOwnerMessage")}}Ce.displayName="PrimePaidUpgradeNoticeLine";var _e=function(e){return r.createElement("span",null,we()[e.message.msgid])};_e.displayName="RaidNoticeLine";var Ne=function(e){var t=r.createElement(I.a,{display:w.d.Block},r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},r.createElement(b.a,{color:_.c.Link},Object(N.a)(e.event.user.username,e.event.user.displayName)))),n=null;return n=e.event.methods.prime?e.event.cumulativeMonths<2?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)},"x:twitch-prime-link":function(t){return Oe(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)},"x:twitch-prime-link":function(t){return Oe(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)},"x:twitch-prime-link":function(t){return Oe(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):e.event.methods.plan!==ye.a.Custom?e.event.cumulativeMonths<2?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}.",{tierNumber:Object(E.c)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,tierNumber:Object(E.c)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ResubNoticeV2Line"):Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,tierNumber:Object(E.c)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ResubNoticeV2Line"):e.event.cumulativeMonths<2?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong>.",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ResubNoticeV2Line"):Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ResubNoticeV2Line"),r.createElement(v.a,{display:w.d.Flex},r.createElement(I.a,{color:_.c.Alt2},r.createElement(M.a,{asset:e.event.methods.prime?T.a.Crown:T.a.Star})),r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,n)))},Oe=function(e,t,n){return r.createElement(Se.a,{channel:e,reference:t,text:n})};Ne.displayName="ResubNoticeV2Line";var De=n("yZCp"),Ie=function(e){var t=e.event.message,n=t.user.isIntl?t.user.userDisplayName+" ("+t.user.userLogin+")":t.user.userDisplayName,i=Object(o.d)("{user} is new here. Say hello!",{user:r.createElement(O.a,{contentID:t.id,login:t.user.userLogin,sourceType:D.b.chat_message},"@",n)},"NewChatterRitual");return r.createElement(I.a,{color:_.c.Alt2},i)};Ie.displayName="RitualNoticeLine";var Me=function(e){var t=e.event,n=r.createElement(O.a,{contentID:t.user.id,login:t.user.username,sourceType:D.b.chat_message},Object(N.a)(t.user.username,t.user.displayName)),i=r.createElement(O.a,{contentID:t.user.id,login:t.recipientLogin,sourceType:D.b.chat_message},Object(N.a)(t.recipientLogin,t.recipientDisplayName)),a=null;return a="custom"===t.methods.plan?function(e,t,n){return 1===n?Object(o.d)("{gifterButton} gifted a Sub to {recipientButton}! It's their first time gifting a Sub in the channel!",{gifterButton:e,recipientButton:t},"SubGiftNoticeLine"):n>1?Object(o.d)("{gifterButton} gifted a Sub to {recipientButton}! They've gifted {senderCount} Subs in the channel!",{gifterButton:e,recipientButton:t,senderCount:n},"SubGiftNoticeLine"):Object(o.d)("{gifterButton} gifted a subscription to {recipientButton}!",{gifterButton:e,recipientButton:t},"SubGiftNoticeLine")}(n,i,t.senderCount):function(e,t,n,i){return 1===n?Object(o.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:t,tierNumber:i},"SubGiftNoticeLine"):n>1?Object(o.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:t,senderCount:n,tierNumber:i},"SubGiftNoticeLine"):Object(o.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:e,recipientButton:t,tierNumber:i},"SubGiftNoticeLine")}(n,i,t.senderCount,Object(E.c)(t.methods.plan)||1),r.createElement(b.a,{color:_.c.Alt2,type:b.e.Span},a)};Me.displayName="SubGiftNoticeLine";var Te=function(e){var t=e.event,n=r.createElement(O.a,{contentID:t.user.id,login:t.user.username,sourceType:D.b.chat_message},Object(N.a)(t.user.username,t.user.displayName)),i=null;return i="custom"===t.plan?function(e,t,n,i){return 1===i?Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n},"SubMysteryGiftNoticeLine"):i>1?Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,senderCount:i},"SubMysteryGiftNoticeLine"):Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:t,gifterButton:e,massGiftCount:n},"SubMysteryGiftNoticeLine")}(n,t.channel,t.massGiftCount,t.senderCount):function(e,t,n,i,a){return 1===i?Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,tierNumber:a},"SubMysteryGiftNoticeLine"):i>1?Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,senderCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"):Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:t,gifterButton:e,massGiftCount:n,tierNumber:a},"SubMysteryGiftNoticeLine")}(n,t.channel,t.massGiftCount,t.senderCount,Object(E.c)(t.plan)||1),r.createElement(b.a,{color:_.c.Alt2,type:b.e.Span},i)};Te.displayName="SubMysteryGiftNoticeLine";var Pe=function(e){var t=r.createElement(I.a,{display:w.d.Block},r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},r.createElement(b.a,{color:_.c.Link},Object(N.a)(e.event.user.username,e.event.user.displayName)))),n=null;return n=e.event.methods.prime?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)},"x:twitch-prime-link":function(t){return je(e.event.channel,"subscription",t)}},"SubNoticeV2Line"):e.event.methods.plan===ye.a.Custom?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong>",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"SubNoticeV2Line"):Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}",{tierNumber:Object(E.c)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"SubNoticeV2Line"),r.createElement(v.a,{display:w.d.Flex},r.createElement(I.a,{color:_.c.Alt2},r.createElement(M.a,{asset:e.event.methods.prime?T.a.Crown:T.a.Star})),r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,n)))},je=function(e,t,n){return r.createElement(Se.a,{channel:e,reference:t,text:n})};Pe.displayName="SubNoticeV2Line";var Fe=n("+kC+"),Re=n("cr+I"),Le=Object(d.d)(Object(te.a)(Fe,{options:function(e){return{variables:{login:e.channelLogin}}}}))((function(e){var t=e.data;if(t.loading)return null;var n=null;if(!t.error&&t.user&&t.user.subscriptionProducts&&t.user.subscriptionProducts.length>0){var i=t.user.subscriptionProducts.find((function(e){return!!e&&!!e.url}));i&&(n=i.url)}if(!n)return r.createElement(v.a,null,Object(o.d)("This room is in subscribers only mode.","SubsOnlyUpsellLine"));var a=r.createElement(U.a,{targetBlank:!0,to:n+"?"+Re.stringify({ref:"subscriber_only_mode_chat"})},n);return r.createElement(v.a,null,Object(o.d)("This room is in subscribers only mode. To talk, purchase a channel subscription at {productLink}",{productLink:a},"SubsOnlyUpsellLine"))})),Ae=n("0Log"),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.targetedModerationActionEvent,t=null;switch(e.targetedModerationActionType){case Ae.TargetedModerationActions.DeleteNotification:var n=e.messageBody||"";t=r.createElement(ve.a,{messageBody:n,targetIsCurrentUser:!0})}return t?r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},t)):null},t}(r.Component),xe=n("r7KY"),Be=n("X31c"),Ve=n("6wGa"),He=(n("NWfm"),"timeout_success"),qe="untimeout_success",Ge="ban_success",We="unban_success",ze="delete_message_success",Qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isPrimeToPaidEnabled=Object(E.d)(E.a.Prime2Paid),t.isExtendSubscriptionEnabled=o.b.get("tokenization",!1),t}return Object(a.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){if(e.forceUpdateMessage)return!0;if(e.isCurrentUserModerator!==this.props.isCurrentUserModerator)return!0;if(e.showModerationIcons!==this.props.showModerationIcons)return!0;if(e.showTimestamps!==this.props.showTimestamps)return!0;if(e.useHighContrastColors!==this.props.useHighContrastColors)return!0;if(e.theme!==this.props.theme)return!0;switch(e.message.type){case C.b.Message:if(e.message.deleted)return!0;break;case C.b.ChannelPointsReward:case C.b.Resubscription:case C.b.Ritual:if(e.message.message&&e.message.message.deleted)return!0;break;case C.b.AutoMod:if(e.message.autoModType===C.a.MessageRejectedPrompt&&(e.showAutoModActions!==this.props.showAutoModActions||e.message.rejectedMessage.deleted))return!0;break;case C.b.Hosting:case C.b.Unhost:case C.b.SlowMode:case C.b.SubscriberOnlyMode:case C.b.FollowerOnlyMode:case C.b.EmoteOnlyMode:case C.b.R9KMode:case C.b.Clear:case C.b.Unraid:case C.b.Notice:case C.b.ModerationAction:if(e.showModerationActions!==this.props.showModerationActions)return!0;break;case C.b.Moderation:if(e.showModerationActions!==this.props.showModerationActions||e.deletedMessageDisplay!==this.props.deletedMessageDisplay)return!0}return!1},t.prototype.render=function(){var e=this.props.message,t=null;if(this.props.isCurrentUserModerator){if(this.props.showModerationActions)switch(e.type){case C.b.Hosting:case C.b.Unhost:case C.b.SlowMode:case C.b.SubscriberOnlyMode:case C.b.FollowerOnlyMode:case C.b.EmoteOnlyMode:case C.b.R9KMode:case C.b.Clear:case C.b.Unraid:return null}if(this.props.showModerationIcons&&this.props.channelID)switch(e.type){case C.b.Subscription:case C.b.SubGift:case C.b.SubMysteryGift:case C.b.Resubscription:case C.b.GiftPaidUpgrade:case C.b.AnonGiftPaidUpgrade:case C.b.PrimePaidUpgrade:case C.b.CommunityPayForward:case C.b.StandardPayForward:t=r.createElement(Ve.a,{canDelete:!0,channelID:this.props.channelID,renderNewVersion:!0,senderLogin:e.user.username,targetUserID:e.user.userID})}}switch(e.type){case C.b.AutoMod:return e.autoModType!==C.a.MessageRejectedPrompt||this.props.isCurrentUserModerator&&this.props.showAutoModActions?r.createElement(c.d,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,message:e,badgeSets:this.props.badgeSets,currentUserDisplayName:this.props.currentUserDisplayName,isCurrentUserModerator:this.props.isCurrentUserModerator,showModerationIcons:this.props.showModerationIcons,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction}):null;case C.b.ModerationAction:return this.props.isCurrentUserModerator&&this.props.showModerationActions?r.createElement(be,{moderationActionEvent:e,currentUserLogin:this.props.currentUserLogin}):e.level===S.a.User&&e.targetUserLogin&&e.targetUserLogin===this.props.currentUserLogin?r.createElement(be,{moderationActionEvent:e,currentUserLogin:this.props.currentUserLogin}):null;case C.b.TargetedModerationAction:return this.props.isCurrentUserModerator?null:r.createElement(Ue,{targetedModerationActionEvent:e});case C.b.Connected:return r.createElement(v.a,{className:"chat-line__status","data-a-target":"chat-welcome-message"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("Welcome to the chat room!","ChatLine")));case C.b.Disconnected:return e.reason?r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("You have been disconnected from chat for the following reason: {reason}",{reason:e.reason},"ChatLine"))):r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("Sorry, we were unable to connect to chat. Attempting to reconnect...","ChatLine")));case C.b.Hosted:return r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(f.e)(e)));case C.b.Hosting:return r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("Now hosting {channel}",{channel:e.hostedChannel},"ChatLine")));case C.b.Unhost:return r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("No longer hosting.","ChatLine")));case C.b.Message:return this.props.onRenderReportChatSent&&e.user.userLogin===this.props.currentUserLogin&&this.props.onRenderReportChatSent(),r.createElement(Be.a,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,badgeSets:this.props.badgeSets,message:e,isDeleted:e.deleted,isHidden:e.hidden,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction,theme:this.props.theme,deletedCount:e.deletedCount,hideBroadcasterTooltip:this.props.hideBroadcasterTooltip});case C.b.FirstCheerMessage:return r.createElement(xe.a,null,r.createElement($,{event:e}),r.createElement(v.a,null,r.createElement(Be.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay})));case C.b.BitsBadgeTierMessage:var n=void 0;return e.message.messageParts&&e.message.messageParts.length>0&&(n=r.createElement(v.a,{padding:{top:.5}},r.createElement(Be.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay}))),r.createElement(xe.a,null,r.createElement(L,{event:e,badgeSets:this.props.badgeSets}),n);case C.b.Moderation:return this.props.isCurrentUserModerator&&!this.props.showModerationActions?this.props.deletedMessageDisplay===s.pb.BRIEF?null:r.createElement(v.a,{className:"chat-line__moderation"},Object(f.g)(e)):null;case C.b.Subscription:return r.createElement(xe.a,null,r.createElement(v.a,{display:w.d.Flex,justifyContent:w.h.Between},r.createElement(v.a,{alignItems:w.b.Start},r.createElement(Pe,{event:e})),r.createElement(v.a,{alignItems:w.b.End},t)));case C.b.SubGift:if("274598607"===e.user.userID){var i={type:C.b.AnonSubGift,id:e.id,channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientDisplayName,recipientID:e.recipientID,recipientLogin:e.recipientLogin};return r.createElement(xe.a,null,r.createElement(j,{event:i}))}return r.createElement(xe.a,null,t,r.createElement(Me,{event:e}));case C.b.AnonSubGift:return r.createElement(xe.a,null,r.createElement(j,{event:e}));case C.b.SubMysteryGift:if("274598607"===e.user.userID){i={type:C.b.AnonSubMysteryGift,id:e.id,channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount};return r.createElement(xe.a,null,r.createElement(F,{event:i}))}return r.createElement(xe.a,null,t,r.createElement(Te,{event:e}));case C.b.AnonSubMysteryGift:return r.createElement(xe.a,null,r.createElement(F,{event:e}));case C.b.CommunityPayForward:case C.b.StandardPayForward:return r.createElement(ee,{event:e,moderationIcons:t});case C.b.RewardGift:return r.createElement(xe.a,null,r.createElement(De.a,{event:e}));case C.b.BitsCharity:return r.createElement(v.a,{className:"chat-line__bits-charity",padding:{right:2,y:.5}},Object(f.b)(e));case C.b.Resubscription:var a=null;return e.message&&(a=r.createElement(Be.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay})),r.createElement(xe.a,null,r.createElement(v.a,{display:w.d.Flex,justifyContent:w.h.Between},r.createElement(Ne,{event:e}),!a&&r.createElement(v.a,{alignItems:w.b.End},t)),a&&r.createElement(v.a,{margin:{top:.5}},a));case C.b.GiftPaidUpgrade:return r.createElement(xe.a,null,t,r.createElement(J,{event:e}));case C.b.AnonGiftPaidUpgrade:return r.createElement(xe.a,null,t,r.createElement(P,{event:e}));case C.b.PrimeCommunityGiftReceivedEvent:return r.createElement(xe.a,null,r.createElement(ke,{event:e}));case C.b.PrimePaidUpgrade:return r.createElement(r.Fragment,null,this.isPrimeToPaidEnabled&&r.createElement(xe.a,null,r.createElement(v.a,{display:w.d.Flex,justifyContent:w.h.Between},r.createElement(v.a,{alignItems:w.b.Start},r.createElement(Ce,{event:e})),r.createElement(v.a,{alignItems:w.b.End},t))));case C.b.ExtendSubscription:return r.createElement(r.Fragment,null,this.isExtendSubscriptionEnabled&&r.createElement(xe.a,null,r.createElement(v.a,{display:w.d.Flex,justifyContent:w.h.Between},r.createElement(v.a,null,r.createElement(X,{event:e})),r.createElement(v.a,{alignItems:w.b.End},t))));case C.b.RoomMods:return r.createElement(v.a,{className:"chat-line__status"},Object(f.i)(e.moderatorLogins));case C.b.SlowMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.j)(e));case C.b.SubscriberOnlyMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.k)(e));case C.b.FollowerOnlyMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.d)(e));case C.b.EmoteOnlyMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.c)(e));case C.b.R9KMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.h)(e));case C.b.Clear:return r.createElement(v.a,{className:"chat-line__status"},Object(o.d)("Chat was cleared by a moderator","ChatLine"));case C.b.Notice:if(function(e){return e.msgid in we()}(e))return r.createElement(v.a,{className:"chat-line__status"},r.createElement(_e,{message:e}));switch(e.msgid){case"msg_subsonly":return r.createElement(v.a,{className:"chat-line__status"},r.createElement(Le,{channelLogin:this.props.channelLogin}));case A.Kickback:case A.Enabled:case A.Disabled:case A.AlreadyEnabled:case A.AlreadyDisabled:return r.createElement(v.a,{className:"chat-line__status"},r.createElement(B,{type:e.msgid}))}if(this.props.isCurrentUserModerator)switch(e.msgid){case ze:case He:case Ge:return null;case qe:case We:if(this.props.showModerationActions)return null}return r.createElement(v.a,{className:"chat-line__status"},e.message);case C.b.Info:return r.createElement(v.a,{className:"chat-line__status"},e.message);case C.b.InlinePrivateCallout:return this.props.channelLogin&&this.props.currentUserLogin?r.createElement(fe,{event:e,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.currentUserID,messageIndex:this.props.messageIndex}):null;case C.b.Raid:return r.createElement(xe.a,null,r.createElement(re,{message:e}));case C.b.Unraid:return r.createElement(xe.a,null,r.createElement(b.a,{color:_.c.Alt2},Object(o.d)("The raid has been cancelled.","RaidCancelMessage")));case C.b.Ritual:return r.createElement(xe.a,null,r.createElement(Ie,{event:e}),r.createElement(Be.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay}));case C.b.ExtensionMessage:return r.createElement(y,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,currentUserLogin:this.props.currentUserLogin,message:e,showTimestamps:this.props.showTimestamps});case C.b.ChannelPointsReward:var l=void 0;return e.message&&(l=r.createElement(Be.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay})),r.createElement(K,{event:e},l);default:return null}},t}(r.Component);n.d(t,"a",(function(){return Qe}))},Y5lD:function(e,t,n){"use strict";function i(e){return Math.floor((Date.now()-new Date(e).getTime())/1e3)}n.d(t,"a",(function(){return i}))},YG6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("/7QA"),a=function(){return i.b.get("rooms_deprecation_enabled",!1)},r=function(){return a()&&i.b.get("rooms_deprecation_notice",!1)},o=function(){return a()&&i.b.get("rooms_deprecation_selector_hidden",!1)}},YV90:function(e,t,n){"use strict";var i=n("ZaoE");n.d(t,"a",(function(){return i.b}))},YXxK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r}));var i=n("B/KH");n.d(t,"c",(function(){return i.a}));var a,r,o={Embed:"embed",Web:"web"};!function(e){e.Click="click",e.Enter="enter"}(a||(a={})),function(e){e.ZeroBits="zero_bits",e.CheeringDisabled="cheering_disabled",e.BitsUnavailable="bits_unavailable",e.BitsCardDisabled="bits_card_disabled",e.AboveMaxEmote="above_max_emote",e.AboveMaxCheer="above_max_cheer",e.BelowMin="below_min",e.BelowMinEmote="below_min_emote",e.InputAboveMaxLength="input_above_max_length",e.InputCommandStart="input_command_start",e.InvalidBitsMessage="invalid_bits_message",e.Canceled="canceled",e.UserBanned="user_banned",e.AutoModMessage="auto_mod_message",e.AutoModPending="auto_mod_pending",e.ChannelBlockedTerms="channel_blocked_terms",e.ChannelIneligible="channel_ineligible",e.InvalidAnonymousMessage="invalid_anonymous_message",e.InvalidEventId="invalid_event_id",e.RequestThrottled="request_throttled",e.Unknown="unknown",e.UserIneligible="user_ineligible",e.UserSuspended="user_suspended",e.ZalgoMessage="zalgo_message",e.DuplicateEventId="duplicate_event_id",e.MissingBitsConfig="missing_bits_config"}(r||(r={}))},YphD:function(e,t,n){},Z2sP:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return f}));var i,a,r,o=n("pVnL"),s=n.n(o),c=n("q1tI"),l=n("fNzW"),d=n("vCsY"),u=n("hnjF"),m=n("X2PJ"),p=n("2Ob2");n("ulxC");!function(e){e.Default="",e.Small="tw-progress-bar--sm",e.ExtraSmall="tw-progress-bar--xs"}(i||(i={})),function(e){e.Default="tw-progress-bar--default",e.Caution="tw-progress-bar--caution",e.Error="tw-progress-bar--error",e.Success="tw-progress-bar--success"}(a||(a={})),function(e){e.Up="up",e.Down="down"}(r||(r={}));var h=function(e){var t={"tw-progress-bar":!0,"tw-progress-bar--countdown":e.animationDirection===r.Down,"tw-progress-bar--countup":e.animationDirection===r.Up,"tw-progress-bar--inherit":e.inherit,"tw-progress-bar--mask":e.mask,"tw-progress-bar--overlay":e.overlay},n={"tw-progress-bar__fill":!0,"tw-progress-bar__fill--paused":e.paused};return e.size&&(t[e.size]=!0),e.status&&(t[e.status]=!0),c.createElement(m.f,{borderRadius:e.borderRadius},c.createElement("div",s()({className:Object(l.a)(t)},Object(d.a)(e),{role:"progressbar","aria-valuenow":e.value,"aria-valuemin":0,"aria-valuemax":100}),c.createElement(m.f,{borderRadius:{topLeft:e.borderRadius,bottomLeft:e.borderRadius},display:u.d.Block},c.createElement("div",{onAnimationEnd:e.onAnimationEnd,className:Object(l.a)(n),style:{width:e.value+"%",animationDuration:e.animationDuration?e.animationDuration+"s":""},"data-a-target":"tw-progress-bar-animation"}))))};h.displayName="ProgressBarComponent",h.defaultProps={borderRadius:m.b.Large,status:a.Default},h.displayName="ProgressBarComponent";var f=Object(p.c)(h)},ZBeb:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowButton_FollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:218}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nmutation FollowButton_FollowUser($input: FollowUserInput!) {\nfollowUser(input: $input) {\nfollow {\ndisableNotifications\nuser {\n...followButtonFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("V94A").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.FollowButton_FollowUser=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"FollowButton_FollowUser")},ZEQw:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s}));var i="subscribe_to_channel",a="turbo",r="get_bits",o="visit_url",s="broadcaster"},ZGDZ:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.SMALL=28]="SMALL",e[e.MEDIUM=56]="MEDIUM",e[e.LARGE=112]="LARGE"}(i||(i={}))},ZGqV:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelChanlet"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Channel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthorized"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:"fragment channelChanlet on Channel {\nid\nself {\nisAuthorized\n}\nrestriction {\nid\ntype\nexemptions {\nstartsAt\nendsAt\ntype\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},ZTn5:function(e,t,n){},ZUUl:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("4rCz");function a(e,t){return function(n,a){e({dispatch:n,getState:a},t,i.q.apollo.client)}}function r(e,t){return function(n,a){e({dispatch:n,getState:a},t,i.q.apollo.client,i.p)}}},ZVTe:function(e,t,n){"use strict";var i=n("TSYQ"),a=n("q1tI"),r=n("EE1E"),o=(n("2e6W"),function(e){var t,n=e.userData.color;e.highContrastUsernameColor&&n&&(n="#"+Object(r.a)(n,e.theme));var o=[a.createElement("span",{key:"username-display",className:"chat-author__display-name","data-a-target":"chat-message-username","data-a-user":e.userData.userLogin,"data-test-selector":"message-username",style:{color:n}},e.userData.userDisplayName)];if(e.userData.isIntl){var s=i(((t={})["chat-author__intl-login"]=!e.highlighted,t["chat-author__intl-login--highlighted"]=e.highlighted,t));o.push(a.createElement("span",{key:"username-login",style:{color:n},className:s,"data-test-selector":"message-username-canonical"}," ("+e.userData.userLogin+")"))}return a.createElement("span",{key:e.userData.userID+"-authorlabel"},o)});n.d(t,"a",(function(){return o}))},ZaoE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("1rIY"),a=Object(i.a)("ChannelPointsContext",{activeMultipliers:[],automaticRewards:[],balance:0,channelID:null,channelLogin:null,customRewards:[],displayName:null,emoteVariants:[],isChannelPointsEnabled:!1,isChannelPointsFeatureFlagOn:!1,isCurrentUserModerator:!1,isLoaded:!1,pointIcon:null,pointName:null,raidPointAmount:0,rewardMap:{},earning:null}),r=a.context,o=a.withContext},ZhMv:function(e,t,n){},ZhU4:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emotePickerUserSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmote"},directives:[]}]}}]}}],loc:{start:0,end:226}};i.loc.source={body:'#import "twilight/features/subscribe-button/models/subscription-product-emote.gql"\nfragment emotePickerUserSubscriptionProduct on SubscriptionProduct {\nid\nemoteSetID\nname\nprice\ntier\nurl\nemotes {\n...subscriptionProductEmote\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("dq0Q").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},ZtEv:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return c}));var i,a,r,o,s=n("0Log");n.d(t,"d",(function(){return s.ModerationActions})),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Hosting=14]="Hosting",e[e.Unhost=15]="Unhost",e[e.Hosted=16]="Hosted",e[e.Subscription=17]="Subscription",e[e.Resubscription=18]="Resubscription",e[e.GiftPaidUpgrade=19]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=20]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=21]="PrimePaidUpgrade",e[e.PrimeCommunityGiftReceivedEvent=22]="PrimeCommunityGiftReceivedEvent",e[e.ExtendSubscription=23]="ExtendSubscription",e[e.SubGift=24]="SubGift",e[e.AnonSubGift=25]="AnonSubGift",e[e.Clear=26]="Clear",e[e.RoomMods=27]="RoomMods",e[e.RoomState=28]="RoomState",e[e.Raid=29]="Raid",e[e.Unraid=30]="Unraid",e[e.Ritual=31]="Ritual",e[e.Notice=32]="Notice",e[e.Info=33]="Info",e[e.BadgesUpdated=34]="BadgesUpdated",e[e.Purchase=35]="Purchase",e[e.BitsCharity=36]="BitsCharity",e[e.CrateGift=37]="CrateGift",e[e.RewardGift=38]="RewardGift",e[e.SubMysteryGift=39]="SubMysteryGift",e[e.AnonSubMysteryGift=40]="AnonSubMysteryGift",e[e.StandardPayForward=41]="StandardPayForward",e[e.CommunityPayForward=42]="CommunityPayForward",e[e.FirstCheerMessage=43]="FirstCheerMessage",e[e.BitsBadgeTierMessage=44]="BitsBadgeTierMessage",e[e.InlinePrivateCallout=45]="InlinePrivateCallout",e[e.ChannelPointsReward=46]="ChannelPointsReward"}(i||(i={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action",e[e.PostWithMention=2]="PostWithMention"}(a||(a={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(r||(r={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(o||(o={}));var c=new Set(["usage_clear","usage_commercial","usage_host","usage_unhost","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},ZuCe:function(e,t,n){},ZuiC:function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"t",(function(){return o})),n.d(t,"l",(function(){return s})),n.d(t,"s",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"u",(function(){return m})),n.d(t,"p",(function(){return p})),n.d(t,"v",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"z",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"A",(function(){return b})),n.d(t,"f",(function(){return k})),n.d(t,"B",(function(){return y})),n.d(t,"c",(function(){return S})),n.d(t,"y",(function(){return C})),n.d(t,"k",(function(){return E})),n.d(t,"q",(function(){return w})),n.d(t,"i",(function(){return _})),n.d(t,"E",(function(){return N})),n.d(t,"h",(function(){return O})),n.d(t,"D",(function(){return D})),n.d(t,"g",(function(){return I})),n.d(t,"C",(function(){return M})),n.d(t,"a",(function(){return T})),n.d(t,"w",(function(){return P})),n.d(t,"j",(function(){return j})),n.d(t,"F",(function(){return F})),n.d(t,"b",(function(){return R})),n.d(t,"x",(function(){return L}));var i=n("mrSG"),a=n("/7QA"),r="vodChat.comments.DELETED_SUCCESS",o=function(e){return Object(i.__assign)({type:r},e)},s="vodChat.comments.CREATED_SUCCESS",c=function(e){return Object(i.__assign)({type:s},e)},l="vodChat.comments.CREATE_FAILED",d=function(e){return{type:l,createError:e}},u="vodChat.comments.DISPLAY_ERROR",m=function(e){return{type:u,errorMessage:e}},p="vodChat.comments.UPDATED_SUCCESS",h=function(e){return Object(i.__assign)({type:p},e)},f="vodChat.comments.CURSOR_RECEIVED",g=function(e){return Object(i.__assign)({type:f},e)},v="vodChat.comments.OFFSET_RECEIVED",b=function(e){return Object(i.__assign)({type:v},e)},k="vodChat.comments.QUERY_FAILED",y=function(){return{type:k}},S="vodChat.comments.CLEARED",C=function(){return{type:S}},E="vodChat.comments.COOLDOWN_ENDED",w=function(){return{type:E}},_="vodChat.comments.SYNC_ENABLED",N=function(){return{type:_}},O="vodChat.comments.SYNC_DISABLED",D=function(){return{type:O}},I="vodChat.comments.REPLAY_FILTER_CHANGED",M=function(e){return a.m.set("videoChat.is_replay_mode",e),{type:I,isReplayFilterOn:e}},T="vodChat.comments.CHAT_REPLAY_ERROR_HIDE",P=function(){return{type:T}},j="vodChat.comments.TIMESTAMP_MODE_CHANGED",F=function(e){return a.m.set("videoChat.hide_timestamps",e),{type:j,hideTimestamps:e}},R="vodChat.comments.REQUEST_CHAT_SETTINGS",L=function(){return{type:R,isReplayFilterOn:a.m.get("videoChat.is_replay_mode",!1),hideTimestamps:a.m.get("videoChat.hide_timestamps",!1)}}},a0DK:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"f",(function(){return b}));var i=n("mrSG"),a=n("oB8h"),r=n("wUQP"),o=n("DMoW"),s=n("QV0j"),c=n("w09P"),l="cf_do_you_like_tuna",d=function(){return Object(r.c)("cf_secret_agent_big_tuna_2")},u=function(e){var t=Object(s.a)(e);return t===a.a.Live||t===a.a.Premiere||t===a.a.Rerun},m=function(e){return!(!e||e.state===o.rd.OFFLINE||e.state===o.rd.UNKNOWN)},p=function(e){return e&&e.isValid},h=function(e){return!e.canView&&"GEO_RESTRICTED"===e.reason};function f(e,t){return null===e||e<0?0:t&&e>t?t:e}function g(e){return e+"-sunlight.stream_manager.quick_actions_watch_party"}var v=function(e){return c(e,(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{state:o.rd.OFFLINE})}))},b=function(e){void 0===e&&(e=window.navigator.userAgent);return/(android[\w\.\s\-]{0,9});.+build/i.test(e)||/version\/([\w\.]+).+?(mobile\s?safari|safari)/i.test(e)}},a1OF:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f}));var i=n("mrSG"),a=n("/7QA"),r=n("oe5X"),o=n("0FG4"),s=n("kRBY"),c=n("60o1"),l=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],d={};function u(e,t,n,a,r,o,s){void 0===a&&(a=null),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1);var l=Object(c.a)(t.displayName,t.username);return{badges:t.badges||{},badgeDynamicData:t.badgeDynamicData||{},bits:t.bits,user:Object(i.__assign)(Object(i.__assign)({},l),{userLogin:t.username,userID:t.userID,userType:t.userType,color:t.color||m(t.userID)}),messageParts:p(e,t.emotes||{},t.bits,n,t.username,a||void 0),deleted:r,banned:s,hidden:o,timestamp:Date.now()}}function m(e,t){return void 0===t&&(t=15),"number"!=typeof d[e]&&(d[e]=Math.floor(Math.random()*t)),l[d[e]]}function p(e,t,n,i,c,l){var d=Object(s.e)(a.p.store.getState()),u={cheers:n?i:void 0,emotes:{type:o.a.Position,map:t},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:c,sessionUser:d},flags:l};return Object(r.a)(e,u)}function h(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function f(e,t){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/"+Math.min(Math.ceil(t),3)+".0"}},a2UF:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),a=n("yR8l"),r=n("Pub/"),o=n("HzXE"),s=n("1Rv/");function c(e){var t=this;return Object(a.a)(s,{props:function(n){return{unbanUserMutation:function(a){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:a}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.unbanUserFromChatRoom&&t.data.unbanUserFromChatRoom.ban&&t.data.unbanUserFromChatRoom.ban.bannedUser&&t.data.unbanUserFromChatRoom.ban.bannedUser.id){var a=Object(r.a)(e,n,t.data.unbanUserFromChatRoom.ban.bannedUser.id);if(!a)return;e.writeQuery({query:o,variables:{targetUserID:t.data.unbanUserFromChatRoom.ban.bannedUser.id,channelID:n},data:Object(i.__assign)(Object(i.__assign)({},a),{chatRoomBanStatus:null})})}}(e,n,t)}})];case 2:return[2,s.sent().data];case 3:throw s.sent(),new Error("Unable to unban user");case 4:return[3,6];case 5:throw new Error("Unban user mutation is not ready");case 6:return[2]}}))}))}}}})}},a5fV:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var i=n("/7QA"),a=n("WgyX"),r=n("W8Fi");function o(e,t){return e/Math.pow(10,t)}function s(e,t){return Object(i.f)(e,{style:"currency",currency:t})}function c(e,t){return void 0===t&&(t=!1),Object(r.h)([e])||Object(r.f)([e])?Object(r.d)(e,t):l(e)}function l(e){return!Object(a.a)(e)&&e.priceInfo?s(o(e.priceInfo.total,e.priceInfo.exponent),e.priceInfo.currency):e.price}function d(e,t){return t?Object(r.a)(t):s(o(e.total,e.exponent),e.currency)}},a6LY:function(e,t,n){"use strict";var i,a,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),function(e){e.DeleteMessage="delete",e.BanUser="ban",e.UnbanUser="unban",e.TimeoutUser="timeout",e.UntimeoutUser="untimeout",e.ModUser="mod",e.UnmodUser="unmod"}(i||(i={})),function(e){e.QuickModButtons="quick_mod_buttons",e.ChatCommand="chat_command",e.ModerationCard="moderation_card",e.DashboardBannedChatters="dashboard_banned_chatters",e.ModViewPage="mod_view_page"}(a||(a={})),function(e){e.Broadcaster="broadcaster",e.Staff="staff",e.Editor="editor",e.Mod="mod"}(r||(r={}))},aEfP:function(e,t,n){},aF6k:function(e,t,n){"use strict";function i(e){var t=Math.random().toString(36).substring(2,6);return e+"-"+Date.now()+"-"+t}n.d(t,"a",(function(){return i}))},aSQN:function(e,t,n){},ahza:function(e,t,n){"use strict";var i=n("cr+I"),a=n("b6Yk"),r=n("pU2t");n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return b}));var o="content_offset_seconds",s="cursor",c="comment_id";function l(e){return"/v5/videos/"+e+"/comments"}function d(e){return u(e).toString()+"/replies"}function u(e){return"/v5/videos/comments/"+e}function m(e){var t;t=g(e)?d(e.parentId):l(e.contentId);var n={body:Object(r.g)(e)};return a.a.post(t,n)}function p(e){try{if(function(e){return"commentID"in e}(e))return function(e){var t={};void 0!==e.cursor&&(t[s]=e.cursor);var n=d(e.commentID)+"?"+i.stringify(t);return a.a.getOrThrow(n).then((function(e){return Object(r.e)(e.body)}))}(e);var t={};v(e)?t[s]=e.cursor:b(e)&&(t[o]=""+e.offset,void 0!==e.highlightedMessageID&&(t[c]=e.highlightedMessageID));var n=l(e.videoID)+"?"+i.stringify(t);return a.a.getOrThrow(n).then((function(t){return Object(r.d)(t.body,e.bitsConfig)}))}catch(e){return Promise.reject(e)}}function h(e){var t=u(e.comment.id),n={body:{state:e.state}};return a.a.putOrThrow(t,n).then((function(t){return Object(r.f)(t.body,e.comment)}))}function f(e){var t=u(e.id);return a.a.delete(t)}function g(e){return"parentId"in e}function v(e){return"cursor"in e}function b(e){return"offset"in e}},akKH:function(e,t,n){"use strict";var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("fNzW"),s=n("vCsY"),c=n("1H2c"),l=n("hnjF"),d=n("X2PJ"),u=n("sUnt"),m=n("bjr5"),p=n("xfJC"),h=n("ghMw"),f=n("Putr"),g=(n("ZTn5"),function(e){var t;e.required&&(t=r.createElement(f.a,null));return r.createElement("legend",{className:Object(o.a)({"tw-form-legend":!0})},t,e.label)});g.displayName="FormLegend",g.displayName="FormLegend";var v,b;n("rVcl");n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return k})),function(e){e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(v||(v={})),function(e){e[e.Single=1]="Single",e[e.Multiple=2]="Multiple"}(b||(b={}));var k=function(e){var t,n,i,f,k,y=Object(c.a)(),S={"tw-form-group":!0,"tw-form-group--error":e.error};return e.labelOptional&&(n=r.createElement("span",{className:"tw-form-group__optional"},"(",e.labelOptional,")")),e.hint&&!e.error?i=r.createElement(p.a,{hint:e.hint}):e.errorMessage&&e.error&&(i=r.createElement(m.a,{errorMessage:e.errorMessage})),i&&(i=r.createElement(u.a,{margin:{top:.5}},i)),e.controls===b.Multiple?(t=r.createElement(g,{label:e.label}),k="fieldset"):(t=r.createElement(h.a,{id:e.id?e.id:y,required:e.required,label:e.label}),k="div"),t=r.createElement(u.a,{margin:{bottom:1}},t,n),f=e.orientation===v.Horizontal?r.createElement(k,null,r.createElement(u.a,{display:l.d.Flex,flexWrap:l.f.NoWrap},r.createElement(u.a,{className:"tw-form-group__label-container",flexShrink:0,padding:{right:2}},t),r.createElement(u.a,{flexGrow:1},e.children,i))):r.createElement(k,null,r.createElement("div",null,t,e.children,i)),r.createElement(d.f,a()({className:Object(o.a)(S)},Object(s.a)(e),{position:l.j.Relative,flexGrow:1,fontSize:d.d.Size6}),f)};k.displayName="FormGroup",k.displayName="FormGroup"},amaQ:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return m}));var i,a,r,o,s=n("mrSG"),c=n("/7QA"),l=n("2xye");!function(e){e.AppointedModerator="appointed_moderator",e.MegacheerEmoteRecipient="megacheer_emote_recipient",e.Resub="re_sub",e.PinnedResub="pinned_re_sub",e.CheerBadgeGrant="cheer_badge_grant",e.CommunitySubGift="community_sub_gift",e.CommunityPointsReward="community_points_reward",e.PrimeGiftBomb="prime_gift_bomb",e.HypeTrainRewards="hype_train_rewards"}(i||(i={})),function(e){e.Dismiss="dismiss",e.Remind="remind_later",e.Pin="pin_callout",e.SkipMonthlyAlert="skip_monthly_alert",e.Message="chat_message_send"}(a||(a={})),function(e){e.Share="click_share",e.Options="options_menu",e.Thank="click_thank",e.NoAction="no_action",e.ShowReward="click_show_reward",e.Gift="click_gift"}(r||(r={})),function(e){e.PrivateCallout="private_callout",e.Chat="private_callout_chat"}(o||(o={}));var d=function(e){c.o.track(l.SpadeEventType.PrivateCalloutAction,Object(s.__assign)(Object(s.__assign)({},p(e)),{action:e.action,ui_context:e.uiContext,msg_body:e.msgBody,used_prompt:e.usedPrompt}))},u=function(e){c.o.track(l.SpadeEventType.PrivateCalloutClick,Object(s.__assign)(Object(s.__assign)({},p(e)),{click_type:e.clickType,ui_context:e.uiContext}))},m=function(e){c.o.track(l.SpadeEventType.PrivateCalloutImpression,Object(s.__assign)(Object(s.__assign)({},p(e)),{has_cta:e.hasCTA}))};function p(e){return{channel_id:e.channelID,channel_login:e.channelLogin,callout_type:e.calloutType,private_callout_sid:e.privateCalloutSID}}},ati1:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ArchivePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ArchivePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archivePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation ArchivePoll($input: ArchivePollInput!) {\narchivePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ArchivePoll=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ArchivePoll")},b5C3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n("vHGB"),r=function(e){var t=e.badgesToRender,n=e.badgeSets,r=e.hideBroadcasterTooltip;if(!t)return null;var o,s=[];o=t,Array.isArray(o)?s=t.map((function(t){var o=n.getBadge(t.setID,t.version);return null===o?null:e.usesSchemaBadges?i.createElement(a.a,{key:o.setID+"/"+o.version,schemaBadge:o,hideTooltip:"broadcaster"===o.setID&&r}):i.createElement(a.a,{key:o.setID+"/"+o.version,badge:o,hideTooltip:"broadcaster"===o.setID&&r})})):function(e){return!Array.isArray(e)}(t)&&(s=Object.keys(t).map((function(o){var s=t[o],c=n.getBadge(o,s);if(null===c)return null;var l=e.dynamicData&&e.dynamicData[c.setID];return e.usesSchemaBadges?i.createElement(a.a,{key:c.setID+"/"+c.version,schemaBadge:c,dynamicData:l,hideTooltip:"broadcaster"===c.setID&&r}):i.createElement(a.a,{key:c.setID+"/"+c.version,badge:c,dynamicData:l,hideTooltip:"broadcaster"===c.setID&&r})})));var c=s.filter((function(e){return null!==e}));return i.createElement("span",null,c)};r.displayName="BadgeList"},b5vT:function(e,t,n){"use strict";var i=n("TSYQ"),a=n("q1tI"),r=n("/7QA"),o=n("GnwI"),s=n("Ws8v"),c=n("hnjF"),l=n("X2PJ"),d=n("7uM4"),u=n("C7sF"),m=n("b7S+"),p=(n("GOKC"),a.createElement(s.a,{alignItems:c.b.Center,background:l.a.Overlay,borderRadius:l.b.Small,className:"emote-button__lock",color:l.c.Overlay,"data-test-selector":"emote-button-lock",display:c.d.InlineFlex,justifyContent:c.h.Center,position:c.j.Absolute,zIndex:c.o.Above},a.createElement(d.a,{asset:u.a.Lock,height:10,width:10}))),h=function(e){var t=i("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,s=n.displayName,l=n.srcSet;if(!l)return null;var d=l.split(" ")[0],u=a.createElement("img",{className:"emote-picker__image",src:d,srcSet:l,alt:s});if(e.isCriticalImage){for(var h={},f=0,g=l.split(",");f<g.length;f++){var v=g[f].trim().split(" "),b=v[1],k=v[0];h[b]=k}u=a.createElement(o.CriticalImage,{className:"emote-picker__emote-image",src:d,srcSet:h,alt:s||""})}return a.createElement("div",{className:"emote-button"},a.createElement(m.a,{label:s||Object(r.d)("Emote","EmoteButton"),direction:m.c.Bottom},a.createElement(c.g,{display:c.d.Flex,alignItems:c.b.Center,justifyContent:c.h.Center},a.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":s,name:s,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":s},a.createElement("figure",null,e.locked?p:null,u)))))};n.d(t,"a",(function(){return h}))},b6Pe:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("/7QA"),s=n("gcd7"),c=n("D7An"),l=n("6C1D"),d=n("RS58"),u=n("Ws8v"),m=n("IbuL"),p=n("C7sF"),h=(n("i/i4"),function(){return a.createElement(u.a,{className:"info-modifier-tray-icon"},a.createElement(m.a,{asset:p.a.NotificationInfo}))}),f=n("pb7T"),g=n("3kHA"),v=n("zwF8"),b=n("WytW"),k=n("sUnt"),y=n("+80q"),S=n("Jsra"),C=function(e){function t(t){var n=e.call(this,t)||this;return n.showHelp=function(e){if(n.props.ignoreArguments)return n.availableCommandsList();var t=Object(b.q)("/help "+e);return t?t.command?n.commandSpecificFeedback(t.command):(n.props.setModifierTray(n.makeGeneralTray()),{}):{deferred:Promise.resolve({notice:n.helpUsage()})}},n.availableCommandsList=function(){var e=n.props.getCommands(n.props.permissionLevel).map((function(e){return"/"+e.name}));return{deferred:Promise.resolve({notice:Object(o.d)("Available commands: {commands}.",{commands:e.join(", ")},"HelpCommandHandler")})}},n.commandSpecificFeedback=function(e){var t=n.props.getCommands(n.props.permissionLevel).find((function(t){return t.name===e}));return t?(n.props.setModifierTray(n.makeUsageTray(e,t.helpText)),{preserveInput:!0}):(n.props.setModifierTray(n.makeInvalidTray(e)),{})},n.inChatCommandAutocompleteExperiment="variant1"===o.p.experiments.getAndTrackAssignment(c.c.ChatCommandAutocomplete),n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(s.a,{args:[{name:"command",isRequired:!1}],channelLogin:this.props.channelLogin,command:"help",description:Object(o.d)("Get detailed information on using a chat command","HelpCommandHandler"),handler:this.inChatCommandAutocompleteExperiment||this.props.ignoreArguments?this.showHelp:void 0,helpText:this.helpUsage(),permissionLevel:g.b.Viewer})},t.prototype.makeUsageTray=function(e,t){return{title:Object(o.d)("Usage of /{name}",{name:e},"HelpCommandHandler"),body:a.createElement(k.a,{padding:{top:.5}},a.createElement(y.a,{type:y.e.Span},t)," ",a.createElement(S.a,{linkTo:"https://help.twitch.tv/s/article/chat-commands"},this.learnMoreText())),icon:a.createElement(h,null),inputValue:"/"+e+" ",type:v.a.CommandInfo,timeout:3e4}},t.prototype.makeInvalidTray=function(e){return{title:Object(o.d)("Unrecognized Command","HelpCommandHandler"),body:Object(o.d)('/{name} is not a valid command. To see a list of available commands, just type "/" in the input box.',{name:e},"HelpCommandHandler"),icon:a.createElement(f.a,null),type:v.a.CommandWarning,timeout:3e4}},t.prototype.makeGeneralTray=function(){return{title:Object(o.d)("Learn More About Commands","HelpCommandHandler"),body:a.createElement(k.a,{padding:{top:.5}},a.createElement(y.a,{type:y.e.Span},Object(o.d)('You can type "/" in the input box to see a list of available commands.',"HelpCommandHandler"))," ",a.createElement(S.a,{linkTo:"https://help.twitch.tv/s/article/chat-commands"},this.learnMoreText())),icon:a.createElement(h,null),type:v.a.CommandInfo,timeout:3e4}},t.prototype.helpUsage=function(){return Object(o.d)('Usage: "/help" - Lists the commands available to you in this channel.',"HelpCommandHandler")},t.prototype.learnMoreText=function(){return Object(o.d)("Learn more.","HelpCommandHandler")},t}(a.Component);var E=Object(r.d)(Object(l.b)((function(e){return{getCommands:e.getCommands}})),Object(d.b)((function(e){return{setModifierTray:e.setModifierTray}})))(C);n.d(t,"a",(function(){return E}))},b6Yk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("/7QA"),r=n("kRBY"),o=function(){function e(){}return e.get=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"GET"}),n)];case 1:return[2,a.sent()]}}))}))},e.getOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"GET"}),n)];case 1:return[2,a.sent()]}}))}))},e.put=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"PUT"}),n)];case 1:return[2,a.sent()]}}))}))},e.putOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"PUT"}),n)];case 1:return[2,a.sent()]}}))}))},e.post=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"POST"}),n)];case 1:return[2,a.sent()]}}))}))},e.postOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"POST"}),n)];case 1:return[2,a.sent()]}}))}))},e.delete=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"DELETE"}),n)];case 1:return[2,a.sent()]}}))}))},e.deleteOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"DELETE"}),n)];case 1:return[2,a.sent()]}}))}))},e.request=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){var a,r,o,s;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:return t=this.constructOptions(t,n),a=t.headers?t.headers["Content-Type"]:void 0,r=this.serialize(t.body,a),o=Object(i.__assign)(Object(i.__assign)({},t),{body:r}),[4,this._fetch(e,o)];case 1:return s=c.sent(),[4,this.constructLegacyAPIResponse(s)];case 2:return[2,c.sent()]}}))}))},e.requestOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){var a;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.request(e,t,n)];case 1:if((a=r.sent()).requestError)throw a.requestError;if(a.error)throw new Error("Error while sending legacy-api request: "+a.error.status+" - "+a.error.message);return[2,Object(i.__assign)(Object(i.__assign)({},a),{body:a.body})];case 2:throw r.sent();case 3:return[2]}}))}))},e.getAPIURL=function(e){return new URL(e,a.p.config.apiBaseURL)},e.constructLegacyAPIResponse=function(e){return Object(i.__awaiter)(this,void 0,Promise,(function(){var t,n,a,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:t={status:e.status},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return n=i.sent(),e.ok?t.body=n:t.error=n,[3,4];case 3:return a=i.sent(),e.headers&&e.headers.get&&(r=e.headers.get("Content-Type"))&&-1!==r.indexOf("application/json")&&(t.requestError=a),[3,4];case 4:return[2,t]}}))}))},e._fetch=function(e,t){return void 0===t&&(t={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,fetch(this.getAPIURL(e).toString(),t)];case 1:return[2,n.sent()]}}))}))},e.constructOptions=function(e,t){return e=Object.assign({},e,{headers:Object(i.__assign)(Object(i.__assign)({},this.getDefaultHeaders(e,t)),e.headers)})},e.serialize=function(e,t){return"application/json; charset=UTF-8"===t?JSON.stringify(e):"string"==typeof e?e:e&&FormData.prototype.isPrototypeOf(e)?e:e?(this.logger.errorAndReport(new Error("Could not serialize this request body for the content-type provided."),"attempting to serialize object with a non-JSON content-type",{contentType:t}),null):null},e.getDefaultHeaders=function(e,t){var n=a.p.store.getState(),i={Accept:"application/vnd.twitchtv.v"+(t.version||5)+"+json; charset=UTF-8","Accept-Language":"en-us","Client-ID":a.p.config.legacyClientID,"X-Device-Id":a.p.session.deviceID,"X-Requested-With":"XMLHttpRequest"};e.body&&FormData.prototype.isPrototypeOf(e.body)||(i["Content-Type"]="application/json; charset=UTF-8");var o=Object(r.e)(n);return o&&(i.Authorization="OAuth "+o.authToken,o.legacyCSRFToken&&(i["Twitch-Api-Token"]=o.legacyCSRFToken)),t.excludeHeaders&&t.excludeHeaders.forEach((function(e){i[e]&&delete i[e]})),i},e.logger=a.p.logger.withCategory("legacy-api"),e}()},"b7S+":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return h}));var i,a,r=n("lSNA"),o=n.n(r),s=n("q1tI"),c=n("fNzW"),l=n("vCsY"),d=n("1H2c"),u=n("hnjF"),m=n("sUnt");n("lVWK");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}!function(e){e.Top="tw-tooltip--up",e.Bottom="tw-tooltip--down",e.Left="tw-tooltip--left",e.Right="tw-tooltip--right"}(i||(i={})),function(e){e.Left="tw-tooltip--align-left",e.Center="tw-tooltip--align-center",e.Right="tw-tooltip--align-right"}(a||(a={}));var h=function(e){var t,n,r,h,f=Object(d.a)(),g={"tw-tooltip":!0,"tw-tooltip--wrap":!!e.width},v={"tw-tooltip-wrapper":!0,"tw-tooltip-wrapper--show":e.show};e.direction?g[e.direction]=!0:g[i.Top]=!0,e.align&&e.align!==a.Center&&e.direction!==i.Left&&e.direction!==i.Right?g[e.align]=!0:g[a.Center]=!0,e.offsetX&&(e.align===a.Right?n=e.offsetX:t=e.offsetX),e.offsetY&&(e.direction&&e.direction!==i.Top?r=e.offsetY:h=e.offsetY);var b={marginLeft:t,marginRight:n,marginTop:r,marginBottom:h,width:e.width},k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:Object(c.a)(v),display:e.display?e.display:u.d.InlineFlex,position:u.j.Relative},Object(l.a)(e));return e.disabled||Object.assign(k,{"aria-describedby":e.id||f,title:e.title}),s.createElement(m.a,k,e.children,!e.disabled&&s.createElement("div",{className:Object(c.a)(g),style:b,"data-a-target":"tw-tooltip-label",role:"tooltip",id:e.id||f},e.label))};h.displayName="Tooltip",h.displayName="Tooltip"},bBAb:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("fvjX"),o=n("yR8l"),s=n("0Log"),c=n("/aPz"),l=n("1rIY"),d=n("DMoW");function u(e){var t,n,i={__typename:"Cheermote",id:"",prefix:e.prefix,type:m(e.type),campaign:null,tiers:[]},a=e.tiers.map((function(e){var t=[];return p(e.images).forEach((function(e,n){p(e).forEach((function(e,i){p(e).forEach((function(e,a){t.push({__typename:"CheermoteImage",id:"",url:e,theme:n.toUpperCase(),dpiScale:parseFloat(a),isAnimated:"animated"===i})}))}))})),{__typename:"CheermoteTier",id:e.id,bits:e.min_bits,canCheer:e.can_cheer,canShowInBitsCard:e.show_in_bits_card,color:e.color,images:t}}));return i.tiers=a,e.campaign&&(i.campaign=(t=e.campaign,n={__typename:"CheermoteCampaign",id:t.id,brandName:t.brand_name,brandImageURL:t.brand_image_url,minimumBitsAmount:t.min_bits_to_be_sponsored,bitsTotal:t.total_bits,bitsUsed:t.used_bits,bitsPercentageRemaining:t.used_bits/t.total_bits,userLimit:t.user_limit,thresholds:[],self:null},p(t.sponsored_amount_thresholds).forEach((function(e,t){n.thresholds.push({__typename:"CheermoteCampaignThreshold",id:"",minimumBits:t,matchedPercent:e})})),n)),i}function m(e){var t=d.K.UNKNOWN;switch(e){case"channel_custom":t=d.K.CUSTOM;break;case"global_first_party":t=d.K.FIRST_PARTY;break;case"global_third_party":t=d.K.THIRD_PARTY;break;case"sponsored":t=d.K.SPONSORED;break;default:t=d.K.UNKNOWN}return t}var p=function(e){return Object.keys(e).reduce((function(t,n){return t.set(n,e[n])}),new Map)},h=n("4h+t"),f=n("0Lz3"),g=n("w09P"),v=n("jwK5");n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return C}));var b=Object(l.a)("BitsConfigContext",{bitsConfig:Object(h.a)(),bitsEnabled:!1,bitsCardOpen:!1,setBitsCardOpenState:function(e){}}),k=b.context,y=b.withContext,S=function(e){function t(t){var n=e.call(this,t)||this;return n.setBitsCardOpenState=function(e){n.setState({bitsCardOpen:e})},n.state={bitsConfig:Object(h.a)(),bitsEnabled:!1,bitsCardOpen:!1,setBitsCardOpenState:n.setBitsCardOpenState},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=Object(h.a)(),a=!1;return e.data&&(n=Object(f.a)(e.data.channel&&e.data.channel.cheer&&e.data.channel.cheer.emotes||[]),a=!(!e.data.channel||!e.data.channel.cheer||e.isCommerceDisabled)),Object(i.__assign)(Object(i.__assign)({},t),{bitsConfig:n,bitsEnabled:a})},t.prototype.render=function(){return a.createElement(k.Provider,{value:this.state},this.props.children)},t.prototype.componentDidUpdate=function(e,t){this.state.bitsCardOpen&&this.props.channelLogin?(this.updatesUnsubscriber||this.subscribeToUpdates(),this.actionsUnsubscriber||this.subscribeToActions()):this.state.bitsCardOpen&&this.props.channelLogin||this.unsubscribe(),this.state.bitsCardOpen&&!t.bitsCardOpen&&this.props.data&&this.props.data.refetch()},t.prototype.subscribeToUpdates=function(){var e=this;this.updatesUnsubscriber=Object(c.O)({query:v,variables:{login:this.props.channelLogin},topic:Object(c.d)(),types:[s.PubsubMessageType.BitsCampaignTotalUpdate,s.PubsubMessageType.BitsCampaignComplete],mutator:function(e,t){if(t.channel&&t.channel.cheer&&t.channel.cheer.emotes){if(e.type===s.PubsubMessageType.BitsCampaignTotalUpdate)return g(t,(function(e){return e.channel.cheer.emotes}),(function(t){return t.map((function(t){return t&&t.campaign&&t.campaign&&t.campaign.id===e.campaign_id?Object(i.__assign)(Object(i.__assign)({},t),{campaign:Object(i.__assign)(Object(i.__assign)({},t.campaign),{bitsUsed:e.used_amount})}):t}))}));if(e.type===s.PubsubMessageType.BitsCampaignComplete)return g(t,(function(e){return e.channel.cheer.emotes}),(function(t){return t.filter((function(t){return!t||!t.campaign||t.campaign.id!==e.campaign_id}))}))}return t},skipMessage:function(){return!e.state.bitsCardOpen||!e.props.channelLogin}})},t.prototype.subscribeToActions=function(){var e=this;this.actionsUnsubscriber=Object(c.O)({query:v,variables:{login:this.props.channelLogin},topic:Object(c.c)(""+(this.props.data&&this.props.data.channel&&this.props.data.channel.id)),types:[s.PubsubMessageType.BitsCampaignAddCheermoteEvent,s.PubsubMessageType.BitsCampaignRemoveCheermoteEvent],mutator:function(e,t){if(t.channel&&t.channel.cheer&&t.channel.cheer.emotes){if(e.type===s.PubsubMessageType.BitsCampaignAddCheermoteEvent){var n=u(e.action);return g(t,(function(e){return e.channel.cheer.emotes}),(function(e){return Object(i.__spreadArrays)([n],e)}))}if(e.type===s.PubsubMessageType.BitsCampaignRemoveCheermoteEvent){var a=e;return g(t,(function(e){return e.channel.cheer.emotes}),(function(e){return e.filter((function(e){return!e||!e.campaign||e.campaign.id!==a.campaign_id}))}))}}return t},skipMessage:function(){return!e.state.bitsCardOpen||!e.props.channelLogin}})},t.prototype.unsubscribe=function(){this.updatesUnsubscriber&&(this.updatesUnsubscriber(),this.updatesUnsubscriber=null),this.actionsUnsubscriber&&(this.actionsUnsubscriber(),this.actionsUnsubscriber=null)},t}(a.Component),C=Object(r.d)(Object(o.a)(v,{skip:function(e){return!e.channelLogin},options:function(e){return{variables:{login:e.channelLogin},fetchPolicy:"cache-and-network"}}}))(S)},bJDk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h}));var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("GxwZ"),c=n("N0BP"),l=n("1rIY"),d=(n("+Mtq"),100);!function(e){e[e.Resize=0]="Resize",e[e.Scroll=1]="Scroll",e[e.Wheel=2]="Wheel"}(i||(i={}));var u=Object(l.a)("ScrollableProvider",{registerReceiver:function(){return function(){return null}},requestVisibilityCheck:function(){},getScrollContent:function(){return null},scrollToTop:function(){},yScrollTo:function(){}}),m=u.context,p=u.withContext,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.scrollContent=null,t.xScrollContent=null,t.resizeTimeout=0,t.receivers=[],t.scrollTimeout=0,t.wheelTimeout=0,t.scrollToBottom=function(){t.scrollContent&&t.yScrollTo(t.scrollContent.scrollHeight)},t.scrollToTop=function(){t.yScrollTo(0)},t.notifyReceivers=function(e){requestAnimationFrame((function(){if(t.scrollContent){var n=t.scrollContent.getBoundingClientRect();e&&(e.offset=t.scrollContent.scrollTop),t.receivers.forEach((function(t){t.checkVisible(n,e)}))}}))},t.onResize=function(){if(!t.resizeTimeout&&t.scrollContent){var e={type:i.Resize,offset:t.scrollContent.scrollTop};t.props.disableDebounce?t.notifyReceivers(e):t.resizeTimeout=setTimeout((function(){t.resizeTimeout=0,t.notifyReceivers(e)}),d)}},t.onScroll=function(){if(!t.scrollTimeout&&t.scrollContent){var e={type:i.Scroll,offset:t.scrollContent.scrollTop};t.props.disableDebounce?t.notifyReceivers(e):t.scrollTimeout=setTimeout((function(){t.scrollTimeout=0,t.notifyReceivers(e)}),d)}},t.onWheel=function(e){if(!t.wheelTimeout&&t.scrollContent){var n={type:i.Wheel,offset:t.scrollContent.scrollTop,wheelEvent:e};t.props.disableDebounce?t.notifyReceivers(n):t.wheelTimeout=setTimeout((function(){t.wheelTimeout=0,t.notifyReceivers(n)}),d)}},t.setRef=function(e){return t.root=e},t.yScrollTo=function(e){t.scrollContent&&(t.scrollContent.scrollTop=e),t.onScroll()},t.createSimpleBarOptions=function(){return{autoHide:void 0===t.props.autoHide||t.props.autoHide}},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.props.scrollRef&&this.props.scrollRef(this),this.root){if(this.simplebarRef=new s(this.root,this.createSimpleBarOptions()),this.scrollContent=this.simplebarRef.getScrollElement(),this.xScrollContent=this.simplebarRef.getContentElement(),this.props.contentRef&&this.props.contentRef(this.scrollContent),this.props.contentClassName){var e=this.scrollContent.querySelector(".simplebar-content");e&&e.classList.add(this.props.contentClassName)}this.props.scrollContentClassName&&this.scrollContent.classList.add(this.props.scrollContentClassName),window.addEventListener("resize",this.onResize),this.scrollContent.addEventListener("scroll",this.onScroll),this.xScrollContent.addEventListener("scroll",this.onScroll),this.scrollContent.addEventListener("wheel",this.onWheel),this.notifyReceivers()}},t.prototype.componentWillUnmount=function(){this.root&&(delete this.simplebarRef,window.removeEventListener("resize",this.onResize),this.scrollContent&&this.scrollContent.removeEventListener("scroll",this.onScroll),this.xScrollContent&&this.xScrollContent.removeEventListener("scroll",this.onScroll))},t.prototype.render=function(){var e=this,t=this.props,n=(t.disableDebounce,t.suppressScrollX,t.suppressScrollY,t.scrollRef,t.scrollContentClassName,t.contentClassName,Object(a.__rest)(t,["disableDebounce","suppressScrollX","suppressScrollY","scrollRef","scrollContentClassName","contentClassName"])),i={"scrollable-area":!0,"scrollable-area--suppress-scroll-x":this.props.suppressScrollX,"scrollable-area--suppress-scroll-y":this.props.suppressScrollY};return o.createElement(m.Consumer,null,(function(t){return o.createElement(m.Provider,{value:e.contextForChildren(t.registerReceiver)},o.createElement("div",Object(a.__assign)({className:r(n.className,i),"data-test-selector":"scrollable-area-wrapper",ref:e.setRef},Object(c.a)(e.props),{style:e.props.style}),o.Children.only(e.props.children)))}))},t.prototype.contextForChildren=function(e){var t=this,n={registerReceiver:function(i){return e(i),t.receivers.push(i),n.requestVisibilityCheck(i),function(){var e=t.receivers.indexOf(i);t.receivers.splice(e,1)}},requestVisibilityCheck:function(e){requestAnimationFrame((function(){var n=t.scrollContent;if(n){var i=n.getBoundingClientRect();e.checkVisible(i)}}))},getScrollContent:function(){return t.scrollContent},scrollToTop:function(){return t.scrollToTop()},yScrollTo:function(e){return t.yScrollTo(e)}};return n},t}(o.Component)},bTcf:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoShareBox_CollectionTrackingMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"creatorID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"creatorID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:117}};n.loc.source={body:"query VideoShareBox_CollectionTrackingMeta($creatorID: ID!) {\nuser(id: $creatorID) {\nid\nlogin\nroles {\nisPartner\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoShareBox_CollectionTrackingMeta=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoShareBox_CollectionTrackingMeta")},bfuM:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("gcd7"),s=n("fezU"),c=n("3kHA"),l=n("oK83"),d=n("NNSq"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUserCardCommand=function(e){return t.openUserCard(e)},t.openUserCard=function(e){return{deferred:new Promise((function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Object(d.a)(e)];case 1:if(!t.sent())throw new Error("User ID not found");return this.props.onUserCommand(e,l.b.user_command,""),[3,3];case 2:return t.sent(),[2,n({notice:Object(r.d)("No user matching that login.","UserCardCommandHandler")})];case 3:return[2,n({})]}}))}))}))}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(o.a,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"user",description:Object(r.d)("Display profile information about a user on this channel","UserCardCommandHandler"),handler:this.handleUserCardCommand,helpText:Object(r.d)('Usage: "/user <username>" - Displays information about a specific user on this channel.',"UserCardCommandHandler"),permissionLevel:c.b.Moderator})},t}(a.Component);var m=Object(s.b)((function(e){return{onUserCommand:e.onShowViewerCard}}))(u);n.d(t,"a",(function(){return m}))},bhOa:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("gcd7"),s=n("ygQa"),c=n("3kHA"),l=n("WytW"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateChatColor=function(e){var n=Object(l.p)("/color "+e);if(n&&n.color){var i=n.color;return{deferred:t.props.updateChatColorMutation(i).then((function(){return{notice:Object(r.d)("Your color has been changed.","ColorCommandHandler")}})).catch((function(){return{notice:Object(r.d)("Unable to change your color.","ColorCommandHandler")}}))}}return{deferred:Promise.resolve({notice:t.colorUsage(),error:c.a.InvalidParameters})}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(o.a,{args:[{name:"color",isRequired:!0}],channelLogin:this.props.channelLogin,command:"color",description:Object(r.d)("Change your username color, i.e. blue, green, etc.","ColorCommandHandler"),handler:this.updateChatColor,helpText:this.colorUsage(),permissionLevel:c.b.Viewer})},t.prototype.colorUsage=function(){return Object(r.d)('Usage: "/color <color>" - Changes your username color. Color must be in hex (#000000) or one of the following: Blue, BlueViolet, CadetBlue, Chocolate, Coral, DodgerBlue, Firebrick, GoldenRod, Green, HotPink, OrangeRed, Red, SeaGreen, SpringGreen, YellowGreen.',"ColorCommandHandler")},t}(a.Component),u=Object(s.a)()(d);n.d(t,"a",(function(){return u}))},bjUr:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Chat=0]="Chat",e[e.ViewerList=1]="ViewerList"}(i||(i={}))},bjr5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n("+80q"),r=n("X2PJ"),o=function(e){return i.createElement(a.a,{type:a.e.P,fontSize:r.d.Size7,color:r.c.Error},"*",e.errorMessage)};o.displayName="FormError",o.displayName="FormError"},bq0i:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i,a=n("mrSG"),r=n("w09P"),o=n("q1tI"),s=n("f00E"),c=n("rbP/"),l=n("b7S+"),d=n("sUnt"),u=n("hnjF");!function(e){e.BalloonInsideClickDetector="balloon-inside-click-detector",e.MouseEnterDetector="toggle-balloon-wrapper__mouse-enter-detector"}(i||(i={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showBalloon:!!t.props.openByDefault,hasInteracted:!!t.props.openByDefault},t.toggleBalloonId=Object(s.b)(),t.handleButtonClick=function(e){t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.setState((function(e){return{showBalloon:!e.showBalloon,hasInteracted:!0}}),(function(){t.props.onToggle&&t.props.onToggle(!t.state.showBalloon)}))},t.handleGlobalClick=function(e){e.target.matches('[data-toggle-balloon-id="'+t.toggleBalloonId+'"] *')||t.hideBalloon()},t.handleInsideBalloonClick=function(){t.hideBalloon()},t.handleMouseEnter=function(){t.state.hasInteracted||t.setState({hasInteracted:!0})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.openByDefault&&document.addEventListener("click",this.handleGlobalClick,!0)},t.prototype.componentDidUpdate=function(e,t){t.showBalloon!==this.state.showBalloon&&(this.state.showBalloon?document.addEventListener("click",this.handleGlobalClick,!0):document.removeEventListener("click",this.handleGlobalClick,!0))},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleGlobalClick,!0)},t.prototype.render=function(){var e=this,t=o.Children.toArray(this.props.children);if(2!==t.length)throw new Error("ToggleBalloonWrapper should only be given two children: a clickable and a Balloon");var n,s=t[0],m=t[1];if(s.type===c.a){var p=s,h=r(p.props.dropdown,(function(t){return t.onClick=e.handleButtonClick,t}));n=o.cloneElement(p,{dropdown:h})}else n=o.cloneElement(s,{onClick:this.handleButtonClick});var f=null;(this.state.hasInteracted||this.props.alwaysMountBalloonContent)&&(f=o.cloneElement(m,{show:this.state.showBalloon}),this.props.hideBalloonOnInsideClick&&(f=o.createElement("div",{"data-test-selector":i.BalloonInsideClickDetector,onClick:this.handleInsideBalloonClick},f)));var g=n;return this.props.tooltipProps&&(g=o.createElement(l.a,Object(a.__assign)({},this.props.tooltipProps),n)),o.createElement(d.a,{"data-toggle-balloon-id":this.toggleBalloonId,display:this.props.display,position:u.j.Relative},o.createElement("div",{style:{display:"inherit"},onMouseEnter:this.handleMouseEnter,"data-test-selector":i.MouseEnterDetector},g),f)},t.prototype.toggleBalloon=function(e){void 0===e&&(e=!this.state.showBalloon),this.setState({showBalloon:e,hasInteracted:!0})},t.prototype.hideBalloon=function(){var e=this;this.setState({showBalloon:!1},(function(){e.props.onToggle&&e.props.onToggle(!0)}))},t}(o.Component)},br9A:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var i,a=n("mrSG"),r=n("/7QA"),o=n("2xye"),s=n("I6K6"),c=n("RuiO");!function(e){e.ChannelPage="channel_page",e.ChannelPageModal="channel_page_modal",e.EmoteCard="emote_card",e.TheatreMode="theatre_mode",e.SubsManagementPage="subscriptions_management_page",e.SquadPage="squad_page",e.ModsDetailPage="mods_detail_page",e.MinecraftModsDetailPage="minecraft_mods_detail_page",e.MinecraftInstalledModpack="minecraft_installed_modpack",e.ThankSubGifterCallout="thank_sub_gifter_callout",e.MegaGifterCallout="mega_gifter_callout"}(i||(i={}));var l={BuyContinueSub:"buy_continue_sub",BuyCustomMysteryGift:"buy_custom_mystery_gift",BuyGiftSub:"buy_gift_sub",BuyGiftToPaidUpgrade:"buy_gift_to_paid_upgrade",BuyMysteryGift:"buy_mystery_gift",BuyPaidUpgrade:"buy_paid_upgrade",BuyPrimeToPaid:"buy_prime_to_paid",BuyQuickSub:"buy_quick_sub",ChangeTier:"change_tier",ClickAnonymousGiftCheckbox:"anonymous_gift_click",ClickBack:"back_top_level",ClickCancelAndRefund:"click_cancel_and_refund",ClickCancelPaidUpgrade:"click_cancel_paid_upgrade",ClickChangePaymentMethod:"click_change_payment_method",ClickChangeSubTier:"click_change_sub_tier",ClickCheckout:"click_checkout_button",ClickCommunityGift:"click_community_gift",ClickDisableGift:"click_disable_gift_button",ClickDNRSub:"click_dnr_sub_button",ClickGiftSubOptions:"gift_options_click",ClickMoreSubOptions:"more_options_click",ClickPaidUpgrade:"click_paid_upgrade",ClickPrimeFAQ:"click_prime_faq",ClickResubscribe:"click_resubscribe",ClickShowMoreEmotes:"click_show_more_emotes",ClickShowMoreGiftBundles:"click_show_more_gift_bundles",ClickShowMoreGiftBundlesFromBannerCTA:"click_show_more_gift_bundles_from_banner",ClickSignupForPrime:"click_signup_for_prime",ClickSingleGift:"click_single_gift",CloseSubMenu:"close_subscribe_menu",GiftASub:"gift_a_sub",OpenSubMenu:"open_subscribe_menu",SubMenuReady:"sub_menu_ready",SubWithPrime:"samus_spend_credit"};function d(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,i,l,d,u,m,p,h,f,g,v,b;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:t=r.o.getVideoPlayerTrackingData().vodID,n=!!t,i={channelID:e.channelID,withVideo:!1},n&&(i.withVideo=!0,i.videoID=t),l=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.p.apollo.client.query({query:c,variables:i})];case 2:return l=a.sent(),[3,4];case 3:return d=a.sent(),r.k.warn(d,"Failed to make query for channel info in FollowEvent reporting.",{channelID:e.channelID}),[3,4];case 4:return u=l&&l.data&&l.data.user||null,l&&!u&&r.k.warn("Query for channel info in SubEvent reporting returned no data.",{channelID:e.channelID}),m=null,l&&n&&((p=l&&l.data&&l.data.video)?m=Object(s.a)(p.broadcastType):r.k.warn("Query for video info in SubEvent reporting returned no data.",{currentVideoID:t})),h=u&&u.self,f=h?!!h.subscriptionBenefit:null,g=h&&h.subscriptionBenefit&&h.subscriptionBenefit.purchasedWithPrime||!1,v=h?h.canPrimeSubscribe:null,b={action:e.action,button_cta:e.buttonCTA,can_subscribe:v,channel:e.channelLogin,channel_id:e.channelID,checkout_button_tier:e.checkoutButtonTier,cumulative_tenure_months:e.cumulativeTenureMonths,days_to_next_tenure_anniversary:e.daysToNextTenureAnniversary||null,has_sub_credit:e.hasSubCredit||null,host_channel:e.hostChannelLogin,host_channel_id:e.hostChannelID,is_anonymous:e.isAnonymous,is_menu_open:e.isMenuOpen||null,is_single_month:e.isSingleMonth,is_subscribed:f,is_subscribed_current_tier:h&&h.subscriptionBenefit&&h.subscriptionBenefit.tier,mystery_gift_count:e.mysteryGiftCount||null,sub_location:e.sub_location,sub_recipient:e.giftRecipient||null,modal:e.modal,modal_level:e.modalLevel||"",modal_session_id:e.modalSessionId||"",show_prime_content:e.showPrimeContent||!1,show_resub:u?v&&g:null,streak_number:e.streakNumber||null,vod_id:t,vod_type:m,viewport_height:window.innerHeight,viewport_width:window.innerWidth},r.o.track(o.SpadeEventType.Subscription,b),[2]}}))}))}},buTd:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.AppointedModerator="appointed-moderator",e.BitsBadgeTier="bits-badge-tier",e.ShareResub="share-resub",e.ThankSubGifter="thank-sub-gifter",e.MegaBenefactorRewards="mega-benefactor-rewards",e.MegaRecipientRewards="mega-recipient-rewards",e.CommunityPointsRewards="community-points-rewards",e.PrimeGiftBombGifter="prime-gift-bomb-gifter",e.HypeTrainRewards="hype-train-rewards"}(i||(i={}))},cJKN:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("gcd7"),s=n("yR8l"),c=n("3kHA"),l=n("Q8Sx"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setEmoteOnlyMode=function(e){if(t.props.roomID)return e&&e.trim().length>0?{deferred:Promise.resolve({notice:t.emoteOnlyUsage(),error:c.a.InvalidParameters})}:{deferred:t.props.updateRoomModes({variables:{input:{roomID:t.props.roomID,enableEmotesOnlyMode:!0}}}).then((function(){return{notice:Object(r.d)("emote-only mode has been enabled for this room.","EmoteOnlyCommandHandler")}})).catch((function(){return{notice:Object(r.d)("Unable to set emote-only mode.","EmoteOnlyCommandHandler")}}))}},t.unsetEmoteOnlyMode=function(e){if(t.props.roomID)return e&&e.trim().length>0?{deferred:Promise.resolve({notice:t.emoteOnlyOffUsage(),error:c.a.InvalidParameters})}:{deferred:t.props.updateRoomModes({variables:{input:{roomID:t.props.roomID,enableEmotesOnlyMode:!1}}}).then((function(){return{notice:Object(r.d)("emote-only mode has been disabled for this room.","EmoteOnlyCommandHandler")}})).catch((function(){return{notice:Object(r.d)("Unable to unset emote-only mode.","EmoteOnlyCommandHandler")}}))}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(o.a,{channelLogin:this.props.channelLogin,command:"emoteonly",description:Object(r.d)("Restrict Chat to emote-only messages","EmoteOnlyCommandHandler"),handler:this.props.roomID?this.setEmoteOnlyMode:void 0,helpText:this.emoteOnlyUsage(),permissionLevel:c.b.Moderator}),a.createElement(o.a,{channelLogin:this.props.channelLogin,command:"emoteonlyoff",description:Object(r.d)("Turn off emote-only mode","EmoteOnlyCommandHandler"),handler:this.props.roomID?this.unsetEmoteOnlyMode:void 0,helpText:this.emoteOnlyOffUsage(),permissionLevel:c.b.Moderator}))},t.prototype.emoteOnlyUsage=function(){return Object(r.d)('Usage: "/emoteonly" - Enables emote-only mode (only emoticons may be used in chat). Use "/emoteonlyoff" to disable.',"EmoteOnlyCommandHandler")},t.prototype.emoteOnlyOffUsage=function(){return Object(r.d)('Usage: "/emoteonlyoff" - Disables emote-only mode.',"EmoteOnlyCommandHandler")},t}(a.Component),u=Object(s.a)(l,{name:"updateRoomModes"})(d);n.d(t,"a",(function(){return u}))},cMjZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("K/JX");function a(e){return e&&Object(i.c)(e)||""}},cNYe:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return g}));var i,a=n("pVnL"),r=n.n(a),o=n("q1tI"),s=n("vCsY"),c=n("1H2c"),l=n("kqSx"),d=n("xfJC"),u=n("y0tB"),m=n("K/KT"),p=n("hnjF"),h=n("sUnt"),f=n("V6CR");n("wKtC");!function(e){e[e.CheckBox=1]="CheckBox",e[e.Radio=2]="Radio",e[e.Toggle=3]="Toggle"}(i||(i={}));var g=function(e){var t=e.figure&&o.createElement(h.a,{flexShrink:0,padding:{left:e.type===i.Toggle?void 0:1,right:e.type===i.Toggle?.5:void 0}},o.createElement(f.a,e.figure)),n=Object(c.a)();return o.createElement(h.a,{padding:.5},o.createElement(h.a,r()({display:p.d.Flex,alignItems:p.b.Center},Object(s.a)(e)),e.type===i.CheckBox&&o.createElement(h.a,{flexGrow:1},o.createElement(l.a,e)),e.type===i.Radio&&o.createElement(h.a,{flexGrow:1},o.createElement(u.a,e)),t,e.type===i.Toggle&&o.createElement(o.Fragment,null,o.createElement(p.g,{flexGrow:1},o.createElement("label",{className:"tw-drop-down-menu-input-item__label",htmlFor:e.id||n},e.label)),o.createElement(m.a,r()({},e,{id:e.id||n})))),e.hint&&o.createElement(h.a,{padding:{top:.5}},o.createElement(d.a,{hint:e.hint})))};g.displayName="DropDownMenuInputItem",g.displayName="DropDownMenuInputItem"},cex0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("R3G4");function o(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(n,t),n.prototype.render=function(){return a.createElement(r.a,Object(i.__assign)({},this.props),a.createElement(e,Object(i.__assign)({},this.props)))},n}(a.Component)}},cjeK:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsForChannelCurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:127}};n.loc.source={body:"query ExtensionsForChannelCurrentUser($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nsubscriptionBenefit {\nid\ntier\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionsForChannelCurrentUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionsForChannelCurrentUser")},cpJf:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.Chat="stream_chat",e.Feeds="feeds",e.Room="chatroom",e.Whisper="whisper",e.VodChat="vod-chat"}(i||(i={}));var a={TriHard:{count:196568036},Kappa:{count:192158118},"4Head":{count:155758710},PogChamp:{count:151485090},cmonBruh:{count:146352878},BibleThump:{count:56472964},WutFace:{count:45069031},Kreygasm:{count:41387580},DansGame:{count:38097659},hi5F:{count:34986404},SMOrc:{count:34734484},KappaPride:{count:34262839},VoHiYo:{count:27886434},SwiftRage:{count:24561900},ResidentSleeper:{count:24438298},EleGiggle:{count:19891526},FailFish:{count:19118343},NotLikeThis:{count:18802905},Keepo:{count:18351415},BabyRage:{count:18220906},MingLee:{count:18026207},pbfSSH:{count:16911241},forsenE:{count:14960299},HeyGuys:{count:14851569},ANELE:{count:14648986},PJSalt:{count:14438861}},r=["354","49106","4339","48","25","55338","70433","1902","68856","81103","76171","27509"]},csJo:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_Collection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCollection"},directives:[]}]}}]}}],loc:{start:0,end:310}};i.loc.source={body:'#import "twilight/features/channel/queries/channel-current-user.gql"\n#import "twilight/features/channel/queries/channel-collection.gql"\nquery ChannelRoot_Collection(\n$collectionID: ID!\n$includeChanlets: Boolean!\n) {\ncurrentUser {\n...channelCurrentUser\n}\ncollection(id: $collectionID) {\n...channelCollection\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NJiF").definitions)),i.definitions=i.definitions.concat(r(n("vtET").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelRoot_Collection=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelRoot_Collection")},cw0r:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("wUQP"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return Object(r.c)(this.props.name)?this.props.children:null},t}(a.Component);n.d(t,"a",(function(){return o}))},cys1:function(e,t,n){"use strict";var i,a=n("q1tI"),r=n("/7QA"),o=n("gvGA"),s=n("5zf8"),c=n("4rCz"),l=n("mrSG"),d=n("yR8l"),u=n("+GjP"),m=n("2xye"),p=n("PL8s"),h=n("+80q"),f=n("X2PJ"),g=n("Ws8v"),v=n("hnjF"),b=n("sUnt"),k=n("i4Ys"),y=n("L/cU"),S=n("fPaz"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasImageLoadingError:!1},t.handleImageError=function(){t.setState({hasImageLoadingError:!0})},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=r.a.defaultStreamPreviewURL;return!this.state.hasImageLoadingError&&this.props.imageURL&&(e=this.props.imageURL),a.createElement(y.a,{aspect:S.c.Aspect16x9,alt:this.props.altText,src:e,onError:this.handleImageError})},t}(a.Component),E=(n("Epr8"),"https://static-cdn.jtvnw.net/emoticons/v1/58765/2.0"),w={ERROR:"chat-card-error",TITLE:"chat-card-title",DESCRIPTION:"chat-card-description"},_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderErrorCard=function(){var e=a.createElement("img",{"data-test-selector":w.ERROR,src:E,className:"chat-card__error-img",alt:""});return t.renderCardContent(e,t.props.error)},t.renderCardContent=function(e,t){var n,i;return t?(n=a.createElement(h.a,{bold:!0,"data-test-selector":w.TITLE,title:t.title},t.title),i=a.createElement(h.a,{color:f.c.Alt2,"data-test-selector":w.DESCRIPTION},t.description)):(e=a.createElement(p.a,{overlay:!0}),n=a.createElement(p.a,{width:180}),i=a.createElement(p.a,{width:120})),a.createElement(g.a,{display:v.d.Flex,flexWrap:v.f.NoWrap,padding:.5},a.createElement(g.a,{className:"chat-card__preview-img",background:f.a.Alt2,display:v.d.Flex,alignItems:v.b.Center,justifyContent:v.h.Center,flexShrink:0},e),a.createElement(b.a,{display:v.d.Flex,alignItems:v.b.Center,overflow:v.i.Hidden},a.createElement(b.a,{padding:{left:1},fullWidth:!0},a.createElement(b.a,{className:"chat-card__title",ellipsis:!0},n),a.createElement(b.a,{ellipsis:!0},i))))},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e;if(this.props.error)e=this.renderErrorCard();else if(this.props.data){var t=Object(u.g)(this.props.data.contentURL,{tt_medium:m.PageviewMedium.Chat,tt_content:m.PageviewContent.ChatCard}),n=a.createElement(C,{altText:this.props.data.title,key:this.props.data.previewImageURL,imageURL:this.props.data.previewImageURL});e=a.createElement(g.a,{background:f.a.Base,borderRadius:f.b.Medium,display:v.d.Flex,fullWidth:!0},a.createElement(k.a,{linkTo:t,targetBlank:!0,type:k.b.Alpha,borderRadius:f.b.Medium},this.renderCardContent(n,{title:this.props.data.title,description:this.props.data.description})))}else e=this.renderCardContent();return a.createElement(g.a,{borderRadius:f.b.Medium,elevation:1},e)},t}(a.Component),N=n("SceP"),O={isTimedOut:!1},D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=O,t.timeoutID=null,t}return Object(l.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.data.clip&&t.isTimedOut?{isTimedOut:!1}:null},t.prototype.componentDidMount=function(){var e=this;this.props.data.clip||(this.timeoutID=setTimeout((function(){e.setState({isTimedOut:!0})}),5e3))},t.prototype.componentDidUpdate=function(e){!e.data.clip&&this.props.data.clip&&this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},t.prototype.render=function(){var e=this.props.data,t=e.clip,n=e.error,i=e.loading;return n||this.state.isTimedOut?a.createElement(_,{error:{title:Object(r.d)("Something went wrong","ClipsChatCard"),description:Object(r.d)("We couldn't find that Clip","ClipsChatCard")}}):i||!t?a.createElement(_,null):a.createElement(_,{data:{title:t.title||(t.broadcaster&&t.broadcaster.displayName?Object(r.d)("Clip of {broadcaster}",{broadcaster:t.broadcaster.displayName},"ClipsChatCard"):""),description:t.curator&&t.curator.displayName?Object(r.d)("Clipped by {curator}",{curator:t.curator.displayName},"ClipsChatCard"):"",previewImageURL:t.thumbnailURL,contentURL:t.url}})},t}(a.Component),I=Object(d.a)(N,{options:function(e){return{variables:{slug:e.slug},notifyOnNetworkStatusChange:!0,fetchPolicy:e.forceNetworkRequest?"cache-first":"cache-only"}}})(D),M=n("TSYQ"),T=n("gTu3"),P=(n("lpj/"),(i={})[T.a.Default]="",i[T.a.Recipient]="mention-fragment--recipient",i[T.a.Sender]="mention-fragment--sender",i),j=function(e){var t=e.isAtMention?"@":"",n=M("mention-fragment",P[e.currentUserMentionRelation]);return a.createElement("span",{className:n,"data-a-target":"chat-message-mention"},""+t+e.recipient)};j.displayName="MentionFragment";var F,R=n("QVaV"),L=n("sU0Q"),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this.props.data,t=e.video,n=e.error;if(e.loading||!t)return a.createElement(_,null);if(n||!t.owner||!t.owner.login||!t.publishedAt||!t.title)return a.createElement(_,{error:{title:Object(r.d)("Something went wrong","VideoChatCard"),description:Object(r.d)("We couldn't find that video","VideoChatCard")}});var i=a.createElement(h.a,null,Object(r.c)(new Date(t.publishedAt),"medium"),a.createElement("span",null," · "),Object(R.a)(t.owner.login,t.owner.displayName));return a.createElement(_,{data:{title:t.title,description:i,previewImageURL:t.previewThumbnailURL,contentURL:this.props.url}})},t}(a.Component),U=Object(d.a)(L,{options:function(e){return{variables:{videoID:e.id},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}}})(A),x=n("ZtEv"),B=n("RcPG"),V=n("Jsra"),H=n("x0+1"),q=n("XRPh"),G=n("u5aL"),W=n("fvjX"),z=n("3sMn"),Q=n("Tznh"),Y=n("VJH5"),K=n("dEDE"),X=n("akKH"),$=n("y0tB");!function(e){e.CancelButton="flagged-fragment-cancel",e.ConfirmButton="flagged-fragment-confirm",e.FeedbackButton="flagged-fragment-feedback",e.FeedbackNo="flagged-fragment-no",e.FeedbackYes="flagged-fragment-yes",e.SettingsLink="flagged-fragment-settings",e.Title="flagged-fragment-title"}(F||(F={}));var J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={feedbackSelection:null,textShown:!1},t.hasTrackedImpression=!1,t.showSettings=function(){t.props.showChatFilterSettings(Q.c.FilteredMessage),t.props.updateChatConfigState({isSettingsOpen:!0}),t.props.onDismissBalloon()},t.showText=function(){t.props.onShowText(),t.setState({textShown:!0}),r.o.track(m.SpadeEventType.ChatFilterMessageInteraction,t.getCommonTrackingProps())},t.onAffirmativeFeedbackSelected=function(){t.setState({feedbackSelection:!0})},t.onNegativeFeedbackSelected=function(){t.setState({feedbackSelection:!1})},t.onSubmit=function(){t.props.onDismissBalloon(),r.o.track(m.SpadeEventType.ChatFilterFeedbackInteraction,Object(l.__assign)(Object(l.__assign)({},t.getCommonTrackingProps()),{value:t.state.feedbackSelection?t.getAffirmativeText():t.getNegativeText()}))},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(r.d)("Cancel","FlaggedFragmentBalloonContent");return this.state.textShown?a.createElement(b.a,{padding:1},a.createElement(X.a,{label:Object(r.d)("Help improve our filters. Was this message correctly hidden?","FlaggedFragmentBalloonContent")},a.createElement($.a,{label:this.getAffirmativeText(),name:"flagged-fragment-feedback",onChange:this.onAffirmativeFeedbackSelected,"data-test-selector":F.FeedbackYes}),a.createElement($.a,{label:this.getNegativeText(),name:"flagged-fragment-feedback",onChange:this.onNegativeFeedbackSelected,"data-test-selector":F.FeedbackNo})),a.createElement(b.a,{display:v.d.Flex,justifyContent:v.h.End},a.createElement(b.a,{margin:{right:1}},a.createElement(K.a,{onClick:this.props.onDismissBalloon,type:K.d.Secondary,"data-test-selector":F.CancelButton},t)),a.createElement(K.a,{disabled:null===this.state.feedbackSelection,onClick:this.onSubmit,"data-test-selector":F.FeedbackButton},Object(r.d)("Submit","FlaggedFragmentBalloonContent")))):(this.hasTrackedImpression||(r.o.track(m.SpadeEventType.ChatFilterMessageImpression,this.getCommonTrackingProps()),this.hasTrackedImpression=!0),a.createElement(b.a,{padding:1},a.createElement(h.a,{bold:!0,type:h.e.H6,"data-test-selector":F.Title},this.getCategoryTitle()),Object(r.d)("Would you like to see this message? It has been hidden for you based on your <x:link>Chat Filter settings</x:link>.",{"x:link":function(t){return a.createElement(V.a,{onClick:e.showSettings,"data-test-selector":F.SettingsLink},t)}},"FlaggedFragmentBalloonContent"),a.createElement(b.a,{display:v.d.Flex,justifyContent:v.h.End},a.createElement(b.a,{margin:{right:1}},a.createElement(K.a,{onClick:this.props.onDismissBalloon,type:K.d.Secondary,"data-test-selector":F.CancelButton},t)),a.createElement(K.a,{onClick:this.showText,"data-test-selector":F.ConfirmButton},Object(r.d)("Show Message","FlaggedFragmentBalloonContent")))))},t.prototype.getCategoryTitle=function(){var e=this.props.messagePart.categories;return 1!==Object.values(e).filter((function(e){return!!e})).length?Object(r.d)("Message Blocked","FlaggedFragmentBalloonContent"):e[Y.a.Aggressive]?Object(r.d)("Hostile Message Blocked","FlaggedFragmentBalloonContent"):e[Y.a.Identity]?Object(r.d)("Discriminatory Message Blocked","FlaggedFragmentBalloonContent"):e[Y.a.Sexual]?Object(r.d)("Sexually Explicit Message Blocked","FlaggedFragmentBalloonContent"):Object(r.d)("Profanity Blocked","FlaggedFragmentBalloonContent")},t.prototype.getAffirmativeText=function(){return Object(r.d)("Yes","FlaggedFragmentBalloonContent")},t.prototype.getNegativeText=function(){return Object(r.d)("No","FlaggedFragmentBalloonContent")},t.prototype.getCommonTrackingProps=function(){var e=this.props.messagePart;return{channel_id:this.props.channelID||"",channel:this.props.channelLogin||"",msg_uuid:this.props.messageID||"",word:e.originalText,aggressive_language_detected:!!e.categories[Y.a.Aggressive],explicit_language_detected:!!e.categories[Y.a.Sexual],identity_language_detected:!!e.categories[Y.a.Identity],profane_language_detected:!!e.categories[Y.a.Profanity]}},t}(a.Component);var Z,ee=Object(W.d)(Object(Q.d)((function(e){return e})),Object(z.b)((function(e){return{updateChatConfigState:function(t){return e.updateChatConfigState(t)},isSettingsOpen:e.isSettingsOpen}})))(J),te=(n("VN3V"),function(e){var t,n=e.content,i=e.highlightType,r=M("text-fragment",((t={})["text-fragment--moderated-highlight"]=i===B.a.ModeratedText,t));return a.createElement("span",{className:r,"data-a-target":"chat-message-text"},n)}),ne=n("ygYM");n("UUau");!function(e){e.Balloon="flagged-fragment-balloon",e.Container="flagged-fragment-container",e.Target="flagged-fragment-span"}(Z||(Z={}));var ie=function(e){function t(t){var n=e.call(this,t)||this;return n.state={active:!1,balloonDirection:ne.b.TopCenter,balloonTailOffset:0,balloonXOffset:0,displayed:!1},n.setTopRef=function(e){n.topRef=e},n.setBalloonContentRef=function(e){n.balloonContentRef=e,n.state.active&&n.setState(Object(l.__assign)({},n.getBalloonState()))},n.onClickOut=function(){n.setState({active:!1})},n.onClick=function(){n.setState({active:!0})},n.onShowText=function(){n.setState({displayed:!0},(function(){n.setState(Object(l.__assign)({},n.getBalloonState()))}))},n.onDismissBalloon=function(){n.setState({active:!1})},n.placeholder=new Array(t.messagePart.length+1).join("*"),n}return Object(l.__extends)(t,e),t.prototype.render=function(){return this.state.active?a.createElement("span",{ref:this.setTopRef,"data-test-selector":Z.Container},a.createElement(v.g,{display:v.d.Inline,position:v.j.Relative},a.createElement(G.a,{onClickOut:this.onClickOut},this.renderContent(),a.createElement(ne.a,{direction:this.state.balloonDirection,offsetX:this.state.balloonXOffset+"px",show:!0,size:ne.c.Medium,tailOffset:this.state.balloonTailOffset},a.createElement("span",{ref:this.setBalloonContentRef,"data-test-selector":Z.Balloon}),a.createElement(ee,Object(l.__assign)({},this.props,{onDismissBalloon:this.onDismissBalloon,onShowText:this.onShowText})))))):a.createElement("span",{ref:this.setTopRef,"data-test-selector":Z.Container},this.renderContent())},t.prototype.renderContent=function(){var e={"flagged-fragment":!(this.state.displayed&&!this.state.active),"flagged-fragment--active":this.state.active};return this.state.displayed?a.createElement("span",{className:M(e),"data-test-selector":Z.Target},oe(this.props.messagePart.content)):a.createElement("span",{className:M(e),onClick:this.onClick,"data-test-selector":Z.Target},a.createElement(te,{content:this.placeholder}))},t.prototype.getBalloonState=function(){if(this.balloonContentRef&&this.topRef&&this.topRef.offsetParent){var e=this.topRef.offsetParent.getBoundingClientRect(),t=this.balloonContentRef.getBoundingClientRect(),n=this.state.balloonDirection;t.top<e.top&&(n=ne.b.BottomCenter);var i=e.left+20,a=t.left,r=this.state.balloonXOffset-(a-i);return{balloonDirection:n,balloonTailOffset:e.width/2-r-20,balloonXOffset:r}}return{balloonDirection:ne.b.TopCenter,balloonTailOffset:0,balloonXOffset:0}},t}(a.Component),ae=(n("Ro6I"),function(e){var t=e.displayText,n=e.url,i=e.highlighted;return a.createElement(V.a,{className:M("link-fragment",{"link-fragment--highlighted":i}),linkTo:n,targetBlank:!0,rel:"noreferrer noopener"},t)});function re(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r=t.content,o=r.displayText,s=r.url;return i?a.createElement(te,{key:"message-span-"+e,content:o}):a.createElement(ae,{key:e+"-link",highlighted:n,displayText:o,url:s})}function oe(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var i=null,r=e.reduce((function(r,s,c){var l=[];switch(c>0&&e[c-1].type!==B.a.Text&&s.type!==B.a.Text&&l.push(" "),s.type){case B.a.Text:case B.a.ModeratedText:var d=s.content,u=s.type;l.push(a.createElement(te,{key:c,content:d,highlightType:u}));break;case B.a.FlaggedSegment:l.push(a.createElement(ie,{key:c,channelID:t.chatChannelID,channelLogin:t.chatChannelLogin,messageID:t.messageSourceID,messagePart:s}));break;case B.a.CurrentUserHighlight:l.push(a.createElement(j,{isAtMention:!1,currentUserMentionRelation:T.a.Recipient,recipient:s.content,key:c}));break;case B.a.Mention:l.push(a.createElement(j,{isAtMention:!0,currentUserMentionRelation:s.content.currentUserMentionRelation,recipient:s.content.recipient,key:c}));break;case B.a.Emote:l.push(a.createElement(q.a,{key:c,emote:s.content,channelID:t.chatChannelID,channelLogin:t.chatChannelLogin,sourceID:t.messageSourceID,sourceType:t.emoteSourceType,referrerID:t.messageAuthorID,disableCard:n}));break;case B.a.Link:l.push(re(c,s,t.isHighlighted,t.disableLinks));break;case B.a.ClipLink:i||t.disableChatCard||(i=a.createElement(o.a,{key:c+"-ErrorBoundary"},a.createElement(I,{slug:s.content.slug,forceNetworkRequest:t.forceClipsNetworkRequest}))),l.push(re(c,s,t.isHighlighted,t.disableLinks));break;case B.a.VideoLink:i||t.disableChatCard||(i=a.createElement(U,{key:c,id:s.content.id,url:s.content.url})),l.push(re(c,s,t.isHighlighted,t.disableLinks))}return r.concat(l)}),[]);return i&&(r=r.concat(i)),r}function se(e){if(e.moderationType===x.e.Delete){var t=e,n=t.userLogin,i=t.body;return a.createElement(H.a,{targetLogin:n,messageBody:i})}if((e=e).moderationType===x.e.Ban)return e.reason?a.createElement("span",{className:"chat-line__moderation--ban-with-reason"},Object(r.d)("{userLogin} has been banned. Reason: {reason}",{userLogin:e.userLogin,reason:e.reason},"ChatLine")):a.createElement("span",{className:"chat-line__moderation--ban"},Object(r.d)("{userLogin} is now banned from this channel.",{userLogin:e.userLogin},"ChatLine"));if(e.reason&&e.duration){var o=Object(r.d)("{userLogin} has been timed out for {duration} seconds. Reason: {reason}",{duration:e.duration,reason:e.reason,userLogin:e.userLogin},"ChatLine");return a.createElement("span",{className:"chat-line__moderation--timeout-with-reason"},o)}return e.duration?a.createElement("span",{className:"chat-line__moderation--timeout"},Object(r.d)("{userLogin} has been timed out for {duration} seconds.",{userLogin:e.userLogin,duration:e.duration},"ChatLine")):void 0}function ce(e){var t=e.daysLeft;0===t&&(t=e.hoursLeft);var n,i={bitsTotal:a.createElement("strong",null,Object(c.f)(e.total,{style:"currency",currency:"USD"})),charityName:a.createElement("strong",null,e.charityName),learnMoreURL:a.createElement(V.a,{linkTo:e.learnMore,targetBlank:!0},e.learnMore),hashtag:a.createElement("strong",null,e.hashtag),timeRemaining:Object(c.f)(t)};return a.createElement("span",null,0===e.daysLeft?(n=i,Object(r.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more hours to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:n.bitsTotal,charityName:n.charityName,timeRemaining:n.timeRemaining,hashtag:n.hashtag,learnMoreURL:n.learnMoreURL},"ChatLine")):function(e){return Object(r.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more days to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:e.bitsTotal,charityName:e.charityName,timeRemaining:e.timeRemaining,hashtag:e.hashtag,learnMoreURL:e.learnMoreURL},"ChatLine")}(i))}function le(e){var t=e.enabled?Object(r.d)("This room is now in slow mode. You may send messages every {length} seconds.",{length:e.length},"ChatLine"):Object(r.d)("This room is no longer in slow mode.","ChatLine");return a.createElement("span",null,t)}function de(e){var t;if(e.length>0){var n=e.join(", ");t=Object(r.d)("The moderators of this channel are: {moderatorList}",{moderatorList:n},"ChatLine")}else t=Object(r.d)("There are no moderators of this channel.","ChatLine");return a.createElement("span",null,t)}function ue(e){if(e.enabled){var t=0===e.length?Object(r.d)("This room is in followers-only mode.","ChatLine"):Object(r.d)("This room is now in {length} followers-only mode.",{length:Object(s.b)(60*e.length)},"ChatLine");return a.createElement("span",null,t)}return a.createElement("span",null,Object(r.d)("This room is no longer in followers-only mode.","ChatLine"))}function me(e){return e.enabled?a.createElement("span",null,Object(r.d)("This room is now in emote-only mode.","ChatLine")):a.createElement("span",null,Object(r.d)("This room is no longer in emote-only mode.","ChatLine"))}function pe(e){var t=e.enabled?Object(r.d)("This room is now in subscriber-only mode.","ChatLine"):Object(r.d)("This room is no longer in subscriber-only mode.","ChatLine");return a.createElement("span",null,t)}function he(e){return e.enabled?a.createElement("span",null,Object(r.d)("This room is now in unique-chat mode.","ChatLine")):a.createElement("span",null,Object(r.d)("This room is no longer in unique-chat mode.","ChatLine"))}function fe(e){return e.isAutohost?Object(r.d)("{host} is now auto hosting you for up to {viewerCount, number} viewers.",{host:e.hostingChannel,viewerCount:e.viewerCount},"ChatLine"):e.viewerCount<=2?Object(r.d)("{host} is now hosting you.",{host:e.hostingChannel},"ChatLine"):Object(r.d)("{host} is now hosting you for up to {viewerCount, number} viewers.",{host:e.hostingChannel,viewerCount:e.viewerCount},"ChatLine")}function ge(e,t){void 0===t&&(t=!1);var n=t?e.getHours():e.getHours()%12;t||0!==n||(n=12);var i=n.toString(),a=e.getMinutes(),r=a.toString();return a<10&&(r="0"+r),t&&n<10&&(i="0"+i),i+":"+r}function ve(e,t){return void 0===t&&(t=!1),a.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},ge(new Date(e),t))}function be(e){return a.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},function(e,t){void 0===t&&(t={});var n=r.p.intl.getLanguageCode()||"en";return Intl.DateTimeFormat(n,t).format(e)}(new Date(e),{hour:"numeric",minute:"numeric"}))}n.d(t,"f",(function(){return oe})),n.d(t,"g",(function(){return se})),n.d(t,"b",(function(){return ce})),n.d(t,"j",(function(){return le})),n.d(t,"i",(function(){return de})),n.d(t,"d",(function(){return ue})),n.d(t,"c",(function(){return me})),n.d(t,"k",(function(){return pe})),n.d(t,"h",(function(){return he})),n.d(t,"e",(function(){return fe})),n.d(t,"a",(function(){return ge})),n.d(t,"l",(function(){return ve})),n.d(t,"m",(function(){return be}))},dGMd:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return S}));var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/7QA"),s=n("S4w9"),c=n("geRD"),l=n("g+79"),d=n("W1jp"),u=n("zdrs"),m=n("2zj6"),p=n("8XBm"),h="300238151",f="436872863",g="channel_points";function v(e){return{icon:r.createElement(l.a,{data:e.reward,size:l.b.ExtraSmall}),title:Object(o.d)("Share Your New Emote","EmoteReward"),body:Object(o.d)("That's a fancy emote you've got there. Share it! You can also get some more.","EmoteReward"),inputValue:e.inputValue,disableCommands:!0}}function b(e,t,n){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:p},Object(c.a)({channelID:e,cost:Object(d.b)(t),transactionID:n})))}function k(e,t,n,a){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:u},Object(c.a)({channelID:e,emoteID:n,cost:Object(d.b)(t),transactionID:a})))}function y(e,t,n,a){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:m},Object(c.a)({channelID:e,emoteID:n,cost:Object(d.b)(t),transactionID:a})))}function S(e){Object(c.i)(s,{withOwner:!0},(function(t){return a(t,(function(e){return e.currentUser.emoteSets}),(function(t){var n=t.filter((function(e){return e.id===h})).length>0;return t=n?t.map((function(t){if(t.id===h){var n=Object(i.__assign)(Object(i.__assign)({},e),{setID:h,__typename:"Emote"});return a(t,(function(e){return e.emotes}),(function(t){return t?-1!==t.findIndex((function(t){return t&&t.id===e.id}))?t:Object(i.__spreadArrays)(t,[n]):[n]}))}return t})):Object(i.__spreadArrays)(t,[{id:h,emotes:[Object(i.__assign)(Object(i.__assign)({},e),{setID:h,__typename:"Emote"})],__typename:"EmoteSet",owner:{__typename:"User",id:f,login:g,displayName:null,profileImageURL:null}}])}))}))}},"dIU+":function(e,t,n){"use strict";n.r(t);var i=n("qYg/");n.d(t,"FollowButtonUIType",(function(){return i.b})),n.d(t,"PublicProps",(function(){return i.c})),n.d(t,"FollowButton",(function(){return i.a}))},dq0Q:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};n.loc.source={body:"fragment subscriptionProductEmote on Emote {\nid\nsetID\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},dsMP:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("sUnt"),s=n("+80q"),c=n("hnjF"),l=n("dEDE"),d=n("X2PJ"),u=n("Ws8v"),m=n("4wKg"),p=n("C7sF"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showSkipConfirmation:!1},t.showSkipConfirmation=function(){t.setState({showSkipConfirmation:!0})},t.hideSkipConfirmation=function(){t.setState({showSkipConfirmation:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(r.d)("We can show your {monthsSubbed} month sub anniversary reminder to you again later, or choose to:",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubCallout"),t=Object(r.d)("You will not be able to share your {monthsSubbed} month sub anniversary reminder again. Future anniversary reminders will still show.",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubContextMenu");return this.state.showSkipConfirmation?a.createElement(o.a,null,a.createElement(s.a,null,t),a.createElement(o.a,{padding:{y:2},display:c.d.Flex,justifyContent:c.h.End},a.createElement(o.a,{margin:{right:.5}},a.createElement(l.a,{onClick:this.hideSkipConfirmation,size:l.b.Small,children:Object(r.d)("Go back","ShareResubContextMenu"),type:l.d.Secondary})),a.createElement(l.a,{onClick:this.props.onSkip,size:l.b.Small,children:Object(r.d)("Okay","ShareResubContextMenu")}))):a.createElement(o.a,null,a.createElement(s.a,{bold:!0,color:d.c.Alt2},Object(r.d)("Change when you'll see this","ShareResubCallout")),a.createElement(o.a,{padding:{y:.5}},a.createElement(s.a,{color:d.c.Alt2},e)),a.createElement(u.a,{fullWidth:!0,border:!0,margin:{y:.5}}),this.props.onPin&&a.createElement(m.a,{label:Object(r.d)("Pin this here","ShareResubContextMenu"),onClick:this.props.onPin,figure:{icon:p.a.Pin}}),this.props.onHide&&a.createElement(m.a,{label:Object(r.d)("Show on next visit","ShareResubContextMenu"),onClick:this.props.onHide,figure:{icon:p.a.EventsReminderAdd}}),this.props.onSkip&&a.createElement(m.a,{label:Object(r.d)("Skip this month's alert","ShareResubContextMenu"),onClick:this.showSkipConfirmation,figure:{icon:p.a.VisibilityHidden}}))},t}(a.Component);n.d(t,"a",(function(){return h}))},e7rh:function(e,t,n){},e9QR:function(e,t,n){},eAdp:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateVideoBookmark"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateVideoBookmarkInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createVideoBookmark"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoBookmark"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:140}};n.loc.source={body:"mutation CreateVideoBookmark($input: CreateVideoBookmarkInput!) {\ncreateVideoBookmark(input: $input){\nvideoBookmark{\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CreateVideoBookmark=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CreateVideoBookmark")},eDVu:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/aPz");function o(e){return function(t){return function(n){function o(t){var i=n.call(this,t)||this;return i.mutator=function(e,t){return i.options.mutator(e,t)},i.typesChanged=function(e){if(e.types&&!i.options.types||!e.types&&i.options.types)return!0;if(e.types&&i.options.types){if(e.types.length!==i.options.types.length)return!0;var t=new Set(i.options.types);return e.types.some((function(e){return!t.has(e)}))}return!1},i.options=e(t),i}return Object(i.__extends)(o,n),o.prototype.componentDidMount=function(){this.options.skip||this.subscribe(this.options)},o.prototype.componentDidUpdate=function(){var t=e(this.props);t.skip!==this.options.skip&&(t.skip?this.unsubscribe():this.subscribe(t)),t.skip||(t.topic!==this.options.topic||t.type!==this.options.type||this.typesChanged(t))&&(this.unsubscribe(),this.subscribe(t)),this.options=t},o.prototype.componentWillUnmount=function(){this.unsubscribe()},o.prototype.render=function(){return a.createElement(t,Object(i.__assign)({},this.props))},o.prototype.subscribe=function(e){this.unsubscriber=Object(r.O)({query:e.query,variables:e.variables,topic:e.topic,type:e.type,types:e.types,mutator:this.mutator,skipMessage:e.skipMessage})},o.prototype.unsubscribe=function(){this.unsubscriber&&(this.unsubscriber(),this.unsubscriber=null)},o}(a.Component)}}n.d(t,"a",(function(){return o}))},eJ65:function(e,t,n){"use strict";var i=n("bq0i");n.d(t,"a",(function(){return i.a}))},eJuE:function(e,t,n){},eZF0:function(e,t,n){},ebRM:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return b}));var i=n("mrSG"),a=n("SDEh"),r=n("D7An"),o=n("DMoW"),s=n("4rCz"),c=n("lhih"),l=n("5zXJ"),d=n("XmgI"),u=n("RiD7");function m(e){return e.type!==o.n.AD&&"BitsAdOffer"!==e.__typename&&(f(e)&&null!==e.promotion&&e.promotion.type===c.b)}function p(e){return!(!e||e.type===o.n.AD||"BitsAdOffer"===e.__typename)&&(f(e)&&null!==e.promotion&&e.promotion.id===c.a)}function h(e){return e.type!==o.n.AD&&"BitsAdOffer"!==e.__typename&&(f(e)&&null!==e.promotion&&e.promotion.type===c.c)}function f(e){return e.type===o.n.BUNDLE&&"BitsBundleOffer"===e.__typename&&null!==e.promotion&&!!e.promotion}function g(e){var t=0,n=0,i=0,a=0;return e.forEach((function(e){e.cheerAmount&&(e.alt!==l.r?(t=Math.max(t,e.cheerAmount),n=n?Math.min(n,e.cheerAmount):e.cheerAmount,i+=e.cheerAmount):a+=e.cheerAmount)})),{total:i,bonus:a,smallestCheermote:n,largestCheermote:t}}function v(e){var t=e.messageBits,n=t.total,a=t.largestCheermote,r=t.smallestCheermote;if(n){var o={cheerAboveMaxBitsPerEmote:a>l.o,totalAboveBalance:n>e.balance,totalBelowCheerMinimum:n<e.cheerMinimumBits,totalBelowEmoteMinimum:r<e.emoteMinimumBits,inputLongerThanMaxBitsMessage:e.inputValue.length>l.n,inputStartsWithCommand:e.inputValue.startsWith("/")&&!e.inputValue.startsWith("/me")||e.inputValue.startsWith(".")&&!e.inputValue.startsWith(".me"),cheerContainsInvalidDisplayOnlyCheermotes:Object(d.c)(e.inputValue,e.bitsConfig)};if(Object.keys(o).some((function(e){return o[e]})))return Object(i.__assign)({canSpend:!1},o)}return{canSpend:!0}}function b(e,t,n){if("variant"===s.q.experiments.getAndTrackAssignment(r.c.UnifiedCheckout)&&t&&n)t(n);else{var i=e.purchaseUrl;if(i){e.trackBitsCardInteraction(Object(u.i)(e.bitsAmount),{actionType:u.a.Click,location:e.location});var o=i.replace("{channelID}",e.channelID)+"&tr_id="+e.trackingID+"&co_id="+e.checkoutID,c=window.open(o,"Twitch","width=1024,height=1024,scrollbars=yes");return!c||Object(a.a)()?(e.closeAllBits&&e.closeAllBits(),void e.trackBitsCardInteraction(u.c.CloseCard,{location:e.location})):(c.focus(),c)}}}},efEE:function(e,t,n){},efpB:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("rEFn");function s(){return a.p.history.location.state&&a.p.history.location.state.medium===r.PageviewMedium.NavSearch?Object(i.__assign)(Object(i.__assign)({},c()),{medium:a.p.history.location.state.medium,content:a.p.history.location.state.content}):null}function c(){var e;return(e={})[o.a]=a.p.history.location.state&&a.p.history.location.state[o.a],e[o.b]=a.p.history.location.state&&a.p.history.location.state[o.b],e.previous_search_query_id=a.p.history.location.state&&a.p.history.location.state.previous_search_query_id,e}},ehEd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}));var i="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_150x150.png",a=function(e){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/1.0"},r=function(e){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/2.0 2x"}},"enD+":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WatchParty_UpdateLWAToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateLWATokenInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateLWAToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyError"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refreshToken"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:254}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-error-fragment.gql"\nmutation WatchParty_UpdateLWAToken($input: UpdateLWATokenInput!) {\nupdateLWAToken(input: $input) {\nerror {\n...watchPartyError\n}\ntoken {\naccessToken\nexpiresIn\nrefreshToken\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("JqNv").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.WatchParty_UpdateLWAToken=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"WatchParty_UpdateLWAToken")},esZd:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("2Ygb");function o(e){return function(t){return function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return Object(i.__extends)(o,n),o.prototype.render=function(){return a.createElement(t,Object(i.__assign)({},e(this.props)))},o.displayName=Object(r.a)(o.name,t),o}(a.Component)}}n.d(t,"a",(function(){return o}))},"f0/i":function(e,t,n){},f805:function(e,t,n){},fBrF:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i,a=n("mrSG"),r=n("q1tI"),o=n("1rIY"),s=(i=Object(o.a)("WatchPartyContext",{isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,updateWatchPartyActive:function(){return null},allowChatOnPageDuringWatchParty:function(){return null}})).context,c=i.withContext,l=function(e){function t(t){var n=e.call(this,t)||this;return n.updateWatchPartyActive=function(e){n.setState({isWatchPartyActive:e})},n.allowChatOnPageDuringWatchParty=function(e){n.setState({canChatOnPageDuringWatchParty:e})},n.state={isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,allowChatOnPageDuringWatchParty:n.allowChatOnPageDuringWatchParty,updateWatchPartyActive:n.updateWatchPartyActive},n}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(s.Provider,{value:this.state},this.props.children)},t}(r.Component)},fGoN:function(e,t,n){},fI4C:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return k})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return S})),n.d(t,"e",(function(){return C})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return w})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return N}));var i=n("mrSG"),a=n("/7QA"),r=n("vRsq"),o=n("2xye"),s=n("L9xt"),c=n("IZXT"),l=n("I6K6"),d=n("ahza"),u=n("DpwM"),m=n("BQs+"),p=n("CJLt"),h="replay_mode",f="timestamp_mode",g="on",v="off",b=function(e){a.o.track(s.SpadeEventType.VideoChatSettingChanged,e)},k=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,d,u,h;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.p.apollo.client.query({query:p,variables:{videoCreatorID:e.channelId,videoID:e.contentId}})];case 1:return n=i.sent().data,d={channel:n.video.owner.login,channel_id:Number(e.channelId),game:n.video.game?n.video.game.name:null,location:o.PageviewLocation.VideoWatchPage,share_platform:m.a.Link,share_context:o.ShareItemContext.Chomment,shared_item_id:Object(r.q)(e.contentId),shared_item_type:Object(l.a)(n.video.broadcastType),shared_item_url:t.toString(),partner:n.video.owner.roles.isPartner,source_item_id:e.id,source_item_type:o.SourceItemType.Chomment},u=O(e,n,m.a.Link),a.o.track(s.SpadeEventType.ChommentUIAction,u),a.o.track(s.SpadeEventType.ShareItem,d),[3,3];case 2:return h=i.sent(),Object(c.d)()?a.k.warn(h.toString(),k.name):a.k.errorAndReport(h.toString(),k.name),[3,3];case 3:return[2]}}))}))},y=function(e,t){var n=e.users[0],i=e.comments[0];return{channel:t.user.login,channel_id:Number(i.channelId),comment_id:i.id,comment_state:i.state,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:n.name,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,reply_to_comment_id:Object(u.h)(i)?i.parentId:null,user_id:Number(n.id),vod_id:Number(i.contentId),vod_title:t.video.title,vod_ts:i.contentOffset,vod_type:Object(l.a)(t.video.broadcastType)}},S=function(e,t,n){return{author_id:Number(e.comment.commenter),author_login:n.users[1].login,channel:n.users[0].login,channel_id:Number(e.comment.channelId),comment_id:e.comment.id,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user.login,user_id:Number(t.session.user.id),vod_id:Number(e.comment.contentId),vod_title:n.video.title,vod_type:Object(l.a)(n.video.broadcastType),vod_ts:e.comment.contentOffset}},C=function(e,t,n){return{action:"ban_user",author_id:Number(e.bannedUser),channel_id:Number(e.targetChannel),event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user.login,target_user_id:Number(e.bannedUser),user_id:Number(t.session.user.id),vod_id:Number(n.video.id),vod_title:n.video.title,vod_type:Object(l.a)(n.video.broadcastType),vod_ts:e.comment.contentOffset}},E=function(e,t,n){return{action:"delete",author_id:Number(e.commenter),author_login:n.users[1].login,channel:n.users[0].login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user.login,reply_to_comment_id:e.parentId?e.parentId:null,user_id:Number(t.session.user.id),vod_id:Number(e.contentId),vod_title:n.video.title,vod_type:Object(l.a)(n.video.broadcastType),vod_ts:e.contentOffset}},w=function(e,t,n){var i=null,a=Object.keys(t.vodChat.comments.comments.parentComments);if(a.length>0){var r=a[0];i=t.vodChat.comments.comments.parentComments[r].channelId}return{action:"create",channel_id:i?Number(i):null,comment_body:e.message,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user?t.session.user.login:null,reply_to_comment_id:Object(d.e)(e)?e.parentId:null,user_id:t.session.user?Number(t.session.user.id):null,vod_id:Number(n.video.id),vod_title:n.video.title,vod_ts:Object(d.e)(e)?null:Number(e.contentOffsetSeconds),vod_type:Object(l.a)(n.video.broadcastType)}},_=function(e,t,n){var i=e.comment.id,a=e.comment.channelId;return{action:e.state===u.c?"publish":"unpublish",channel_id:Number(a),comment_id:i,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user.login,user_id:Number(t.session.user.id),vod_id:Number(n.video.id),vod_title:n.video.title,vod_ts:e.comment.contentOffset,vod_type:Object(l.a)(n.video.broadcastType)}},N=function(e,t,n){return{action:"sync_vod_to_time",author_id:Number(e.commenter),channel:n.user.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user?t.session.user.login:null,user_id:t.session.user?Number(t.session.user.id):null,vod_id:Number(e.contentId),vod_title:n.video.title,vod_ts:e.contentOffset,vod_type:Object(l.a)(n.video.broadcastType)}},O=function(e,t,n){return{action:"share",author_id:Number(e.commenter),channel:t.video.owner.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:t.currentUser?t.currentUser.login:null,user_id:t.currentUser?Number(t.currentUser.id):null,vod_id:Number(e.contentId),vod_title:t.video.title,vod_ts:e.contentOffset,vod_type:Object(l.a)(t.video.broadcastType),share_platform:n}}},fIj0:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:186}};n.loc.source={body:"query VideoChatChannelAndVideoTrackingContext($videoCreatorID: ID $videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\nuser(id: $videoCreatorID) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChatChannelAndVideoTrackingContext=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChatChannelAndVideoTrackingContext")},fKMw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("yR8l"),r=n("sMoq");function o(){var e=this;return Object(a.a)(r,{props:function(t){return{vipUserMutation:function(n){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return t.mutate&&t.ownProps.channelID?[4,t.mutate({variables:{input:{channelID:t.ownProps.channelID,granteeLogin:n}}})]:[2];case 1:return[2,e.sent().data]}}))}))}}}})}},fQWD:function(e,t,n){"use strict";var i=n("vHGB");n.d(t,"a",(function(){return i.a}))},fezU:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=n("1MDS"),s=n("oK83"),c=Object(r.a)("ViewerCardContext",{viewerCardOptions:null,onShowViewerCard:function(){return null},onShowExtensionMessageCard:function(){return null},onShowEmoteCard:function(){return null},hideViewerCard:function(){return null}}),l=c.context,d=c.withContext,u=function(e){function t(t){var n=e.call(this,t)||this;return n.onShowViewerCard=function(e,t,i,a){n.setState((function(n){var r=n.viewerCardOptions;return r&&r.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:s.c.Viewer,initialTopOffset:a,sourceID:i,sourceType:t,targetID:e}}}))},n.onShowExtensionMessageCard=function(e,t,i,a){n.setState((function(n){var r=n.viewerCardOptions;return r&&r.viewerCardType===s.c.Extension&&r.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:s.c.Extension,initialTopOffset:a,sourceID:i,targetID:e,extensionVersion:t}}}))},n.onShowEmoteCard=function(e){n.setState((function(t){var n=t.viewerCardOptions;return n&&n.viewerCardType===s.c.Emote&&n.emoteID===e.emoteID?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:s.c.Emote,initialTopOffset:e.initialTopOffset||0,sourceID:e.sourceID,emoteSourceType:e.emoteSourceType,targetID:e.referrerID,emoteID:e.emoteID,emoteCode:e.emoteCode}}})),Object(o.c)({emoteLocation:Object(o.b)(e.emoteSourceType),emoticonID:e.emoteID,chatChannel:e.channelLogin,chatChannelID:e.channelID?e.channelID:"",referrerUserID:e.referrerID,action:o.a.Open,msgID:e.sourceID})},n.hideViewerCard=function(){n.setState({viewerCardOptions:null})},n.state={viewerCardOptions:null,onShowViewerCard:n.onShowViewerCard,onShowExtensionMessageCard:n.onShowExtensionMessageCard,onShowEmoteCard:n.onShowEmoteCard,hideViewerCard:n.hideViewerCard},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(l.Provider,{value:this.state},this.props.children)},t}(a.Component);n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}))},fnDh:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SquadStream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamMember"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamMember"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}}],loc:{start:0,end:186}};n.loc.source={body:"fragment squadStreamData on SquadStream {\nid\nstatus\nmembers {\n...squadStreamMember\n}\nowner {\nid\n}\n}\nfragment squadStreamMember on User {\nid\nlogin\ndisplayName\nprofileImageURL(width:150)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},frkH:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:138}};n.loc.source={body:"mutation Chat_DenyRejectedChatMessage($input: DenyRejectedChatMessageInput!) {\ndenyRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_DenyRejectedChatMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_DenyRejectedChatMessage")},fwSA:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsRewardRedemptionContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsUserFragment"},directives:[]}]}}]}}],loc:{start:0,end:215}};i.loc.source={body:'#import "twilight/features/community-points/models/user-fragment.gql"\nquery CommunityPointsRewardRedemptionContext($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\n...communityPointsUserFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("1mB7").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.CommunityPointsRewardRedemptionContext=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"CommunityPointsRewardRedemptionContext")},fxMP:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g}));var i=n("i6WW"),a=n("6j5V"),r=n("XmgI"),o=n("4h+t"),s=n("gTu3"),c=n("RcPG"),l=n("a1OF"),d="/me ";function u(e,t,n){var i=e.content.text.startsWith(d);return p(e.content.fragments,i,n,t||Object(o.a)(),e.sender&&e.sender.login||void 0)}function m(e,t){return p(e.content.fragments,!1,t)}function p(e,t,n,o,u){var m=[];return e.forEach((function(e,p){if(null!==e){var h=e.content||{__typename:"Text"};switch(h.__typename){case"Emote":if(!h.emoteID)return;m.push({type:c.a.Emote,content:{alt:e.text,emoteID:h.emoteID,images:{themed:!1,sources:{"1x":Object(l.d)(h.emoteID,1),"2x":Object(l.d)(h.emoteID,2),"4x":Object(l.d)(h.emoteID,4)}}}});break;case"CheermoteToken":if(!o)return;var f=h.prefix,g=h.bitsAmount,v=h.tier,b=o.indexedActions[f],k=b&&b.indexedTiers.get(v);k?m.push({type:c.a.Emote,content:{alt:f,images:Object(r.d)(k),cheerAmount:g,cheerColor:k.color}}):m.push(Object(a.a)(e.text));break;case"User":var y=s.a.Default;n&&h.login===n?y=s.a.Recipient:n&&u&&u===n&&(y=s.a.Sender),m.push({type:c.a.Mention,content:{recipient:e.text.slice(1),currentUserMentionRelation:y}});break;case"AutoMod":m.push({type:c.a.ModeratedText,content:e.text});break;default:var S=Object(i.a)(e.text,{parseClips:!0,parseVods:!0});if(S)m.push(S);else{var C=e.text;t&&0===p&&C.startsWith(d)&&(C=C.substr(3)),m.push(Object(a.a)(C))}}}})),m}function h(e){var t=e.data,n=t.message,i=t.cursor,a=f(n.content.fragments),r=g(n.sender.badges);return{cursor:""+i,node:{id:n.id,deletedAt:null,sentAt:n.sent_at,content:{text:n.content.text,fragments:a,__typename:"RoomMessageContent"},sender:{id:n.sender.user_id,login:n.sender.login,chatColor:n.sender.chat_color,displayName:n.sender.display_name,displayBadges:r,__typename:"User"},__typename:"RoomMessage"},__typename:"RoomMessageEdge"}}function f(e){return e.map((function(e){var t={text:e.text,content:null,__typename:"RoomMessageFragment"},n=e.cheermote,i=e.emoticon,a=e.mention,r=e.text;return n?t.content={bitsAmount:n.bits_amount,prefix:n.prefix,tier:n.tier,__typename:"CheermoteToken"}:i?t.content={emoteID:i.id,setID:i.set_id,token:r,__typename:"Emote"}:a&&(t.content={id:a.user_id,login:a.login,displayName:a.display_name,__typename:"User"}),t}))}function g(e){return e.map((function(e){return{setID:e.id,version:e.version,__typename:"Badge"}}))}},"g+79":function(e,t,n){"use strict";var i,a,r=n("mrSG"),o=n("TSYQ"),s=n("q1tI"),c=n("4rCz"),l=n("A4KW"),d=n("W1jp"),u=n("X2PJ"),m=n("hnjF"),p=n("uG/k"),h=n("Ws8v"),f=n("sUnt"),g=n("+80q");n("rCSd");!function(e){e.Cost="cost"}(i||(i={})),function(e){e.ExtraSmall="reward-icon--extra-small",e.Small="reward-icon--small",e.Medium="reward-icon--medium",e.Large="reward-icon--large"}(a||(a={}));var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=o(((e={"reward-icon":!0})[this.props.size||a.Medium]=!0,e));return s.createElement(u.f,{alignItems:m.b.Center,className:t,borderRadius:u.b.Medium,display:m.d.Flex,flexDirection:m.e.Column,justifyContent:m.h.Center,position:m.j.Relative},s.createElement("div",{style:this.customStyles},this.icon,this.cost))},Object.defineProperty(t.prototype,"customStyles",{get:function(){var e=Object(d.a)(this.props.data);return e?{backgroundColor:e}:{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e=Object(d.d)(this.props.data),t=o({"reward-icon__image":!0,"reward-icon__image--raised":!!this.props.showCost&&this.props.size===a.Large,"reward-icon__image--extra-small":this.props.size===a.ExtraSmall});return s.createElement(p.a,Object(r.__assign)({alt:Object(d.e)(this.props.data),className:t},e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cost",{get:function(){return this.props.showCost&&this.props.size===a.Large?s.createElement(h.a,{attachBottom:!0,alignItems:m.b.Center,borderRadius:u.b.Small,className:"reward-icon__cost",margin:{y:1},padding:{x:.5},position:m.j.Absolute,"data-test-selector":i.Cost,justifyContent:m.h.Center,display:m.d.Flex,color:u.c.Overlay},s.createElement(f.a,{margin:{right:.5}},s.createElement(l.b,{channelLogin:this.props.channelLogin,iconSize:l.a.Small})),s.createElement(g.a,{fontSize:u.d.Size7},Object(c.f)(Object(d.b)(this.props.data)))):null},enumerable:!0,configurable:!0}),t}(s.Component);n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return v}))},"g/rS":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o}));var i="extensions.EXTENSION_INSTALLATIONS_FETCHED",a="extensions.DESTROY_CHANNEL_INSTALLATION";function r(e,t){return{type:i,channelID:e,installedExtensions:t}}function o(e,t){return{type:a,channelID:e,extensionID:t}}},g17B:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelCheermotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"cheer"},directives:[]}]}}]}}],loc:{start:0,end:157}};i.loc.source={body:'#import "twilight/features/chat/models/cheer-fragment.gql"\nquery Chat_ChannelCheermotes($channelLogin: String) {\nuser(login: $channelLogin) {\nid\n...cheer\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("F9eG").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.Chat_ChannelCheermotes=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"Chat_ChannelCheermotes")},gDzh:function(e,t,n){},gMwc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoMarkersChatCommand"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:115}};n.loc.source={body:"query VideoMarkersChatCommand($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nstream {\nid\ncreatedAt\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoMarkersChatCommand=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoMarkersChatCommand")},gO1k:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DeleteChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation Chat_DeleteChatMessage($input: DeleteChatMessageInput!) {\ndeleteChatMessage(input: $input) {\nresponseCode\nmessage {\nid\nsender {\nid\nlogin\ndisplayName\n}\ncontent {\ntext\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_DeleteChatMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_DeleteChatMessage")},gTu3:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Default=0]="Default",e[e.Recipient=1]="Recipient",e[e.Sender=2]="Sender"}(i||(i={}))},gb2O:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendSubsOnlyMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendChatMessageThroughSubscriberModeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendChatMessageThroughSubscriberMode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:163}};n.loc.source={body:"mutation SendSubsOnlyMessage($input: SendChatMessageThroughSubscriberModeInput!) {\nsendChatMessageThroughSubscriberMode(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SendSubsOnlyMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SendSubsOnlyMessage")},gcd7:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("6C1D"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.makeCommandObjectFromProps=function(e){return{name:e.command,description:e.description,helpText:e.helpText,permissionLevel:e.permissionLevel,commandArgs:e.args,handler:e.handler,hidden:e.hidden}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.makeCommandObjectFromProps(this.props);this.props.addCommand(e)},t.prototype.componentDidUpdate=function(e){if(e.command!==this.props.command||e.handler!==this.props.handler||e.channelLogin!==this.props.channelLogin){var t=this.makeCommandObjectFromProps(e);this.props.removeCommand(t);var n=this.makeCommandObjectFromProps(this.props);this.props.addCommand(n)}},t.prototype.componentWillUnmount=function(){var e=this.makeCommandObjectFromProps(this.props);this.props.removeCommand(e)},t.prototype.render=function(){return null},t}(a.PureComponent);var s=Object(r.b)((function(e){return{addCommand:e.addCommand,removeCommand:e.removeCommand}}))(o);n.d(t,"a",(function(){return s}))},ghMw:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n("fNzW"),r=n("2Ob2"),o=n("Putr"),s=(n("8FNT"),function(e){var t;e.required&&(t=i.createElement(o.a,null));var n={"tw-form-label":!0,"tw-form-label--overlay":e.overlay};return i.createElement("label",{className:Object(a.a)(n),htmlFor:e.id},t,e.label)});s.displayName="FormLabelComponent",s.displayName="FormLabelComponent";var c=Object(r.c)(s)},hAD8:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("gcd7"),s=n("3kHA"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sendMessage=function(e){return t.props.sendMessage&&t.props.sendMessage("/me "+e),{}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(o.a,{args:[{name:"message",isRequired:!0}],channelLogin:this.props.channelLogin,command:"me",description:Object(r.d)("Color your text based on your username color","MeCommandHandler"),handler:this.props.sendMessage?this.sendMessage:void 0,helpText:Object(r.d)('Usage: "/me <message>" - Colors your text based on your username color.',"MeCommandHandler"),permissionLevel:s.b.Vip})},t}(a.Component);n.d(t,"a",(function(){return c}))},hO8c:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=Object(r.a)("PrivateCalloutQueueContext",{callouts:[],pinnedCallout:null,pinCallout:function(e){return null},pushCallout:function(e){return null},popCallout:function(){return null},unpinCallout:function(){return null}}),s=o.context,c=o.withContext,l=function(e){function t(t){var n=e.call(this,t)||this;return n.popCallout=function(){n.setState((function(e){return{callouts:Object(i.__spreadArrays)(e.callouts.slice(1))}}))},n.pushCallout=function(e,t){if(void 0===t&&(t=!1),t)for(var a=0,r=n.state.callouts;a<r.length;a++){if(r[a].event.type===e.event.type)return}n.setState((function(t){return{callouts:Object(i.__spreadArrays)(t.callouts,[e])}}))},n.pinCallout=function(e){n.setState({pinnedCallout:e})},n.unpinCallout=function(){n.setState({pinnedCallout:null})},n.state={callouts:[],pinnedCallout:null,pinCallout:n.pinCallout,pushCallout:n.pushCallout,popCallout:n.popCallout,unpinCallout:n.unpinCallout},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(s.Provider,{value:this.state},this.props.children)},t}(a.Component);n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}))},hgww:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"availableClaimFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableClaim"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:109}};n.loc.source={body:"fragment availableClaimFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\navailableClaim {\nid\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},ht6z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA");function a(e){var t=i.b.get("prime_blocked_regions",[]);return!!e&&!t.includes(e.toUpperCase())}},htqZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LiveNotificationsToggle_ToggleNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:178}};n.loc.source={body:"mutation LiveNotificationsToggle_ToggleNotifications($input: FollowUserInput!) {\nfollowUser(input: $input) {\nfollow {\nuser {\nid\nself {\nfollower {\ndisableNotifications\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.LiveNotificationsToggle_ToggleNotifications=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"LiveNotificationsToggle_ToggleNotifications")},"i/Zp":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.AmazonLive="amazon_live",e.AmazonProductPage="amazon_product_page",e.AmazonVse="amazon_vse_test",e.AnimatedThumbnails="animated_thumbnails",e.ChannelTrailer="channel_trailer",e.ClipsEditing="clips-editing",e.ClipsEmbed="clips-embed",e.ClipsViewing="clips-viewing",e.ClipsWatchPage="clips-watch",e.Creative="creative",e.Curse="curse",e.Dashboard="dashboard",e.Embed="embed",e.Facebook="facebook",e.Feed="feed",e.Frontpage="frontpage",e.Highlighter="highlighter",e.Imdb="imdb",e.Mischief="mischief",e.MultiviewPrimary="multiview-primary",e.MultiviewSecondary="multiview-secondary",e.Onboarding="onboarding",e.PictureByPicture="picture-by-picture",e.Popout="popout",e.Pulse="pulse",e.Recap="recap",e.Site="site",e.SiteMini="site_mini",e.SquadPrimary="squad_primary",e.SquadSecondary="squad_secondary",e.TwitchEverywhere="twitch_everywhere"}(i||(i={}))},"i/i4":function(e,t,n){},i46O:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LiveNotificationsToggle_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}],loc:{start:0,end:164}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nquery LiveNotificationsToggle_User($login: String!) {\nuser(login: $login) {\n...followButtonFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("V94A").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.LiveNotificationsToggle_User=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"LiveNotificationsToggle_User")},"i5+p":function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return v}));var i=n("DMoW"),a=n("4rCz"),r=n("tLDJ");function o(e){return e.sort((function(e,t){return e.votes.total>t.votes.total?-1:e.votes.total<t.votes.total?1:0}))}function s(e){return Object(r.jb)("/popout/"+e+"/poll")}function c(e){return document.location.origin+"/popout/"+e+"/poll"}function l(e){return e===i.ec.ACTIVE||e===i.ec.COMPLETED||e===i.ec.TERMINATED}function d(e){return e===i.ec.COMPLETED||e===i.ec.TERMINATED||e===i.ec.ARCHIVED||e===i.ec.MODERATED}function u(e){var t,n=null;return e.top_contributor&&(n=function(e){return{__typename:"PollTopContributor",bitsAmount:e.bits_contributed,user:{__typename:"User",id:e.user_id,displayName:e.display_name}}}(e.top_contributor)),{__typename:"Poll",id:e.poll_id,choices:(t=e.choices,void 0===t?[]:t.map((function(e){return{__typename:"PollChoice",id:e.choice_id,title:e.title,tokens:{__typename:"PollTokenBreakdown",bits:void 0!==e.tokens.bits?e.tokens.bits:0,id:e.choice_id},totalVoters:void 0!==e.total_voters?e.total_voters:0,votes:{__typename:"PollVoteBreakdown",total:void 0!==e.votes.total?e.votes.total:0,base:void 0!==e.votes.base?e.votes.base:0,bits:void 0!==e.votes.bits?e.votes.bits:0,id:e.choice_id}}}))),durationSeconds:e.duration_seconds,remainingDurationMilliseconds:e.remaining_duration_milliseconds,ownedBy:{__typename:"User",id:e.owned_by},createdBy:{__typename:"User",id:e.created_by},startedAt:e.started_at,endedAt:e.ended_at,status:e.status,title:e.title,tokens:{__typename:"PollTokenBreakdown",id:e.poll_id,bits:e.tokens.bits},votes:{__typename:"PollVoteBreakdown",id:e.poll_id,total:e.votes.total,base:e.votes.base,bits:e.votes.bits},totalVoters:e.total_voters,settings:{__typename:"PollSettings",id:e.poll_id,multichoice:{__typename:"PollSettingsMultichoice",isEnabled:e.settings.multi_choice.is_enabled},subscriberOnly:{__typename:"PollSettingsSubscriberOnly",isEnabled:e.settings.subscriber_only.is_enabled},subscriberMultiplier:{__typename:"PollSettingsSubscriberMultiplier",isEnabled:e.settings.subscriber_multiplier.is_enabled},bitsVotes:{__typename:"PollSettingsBitsVotes",isEnabled:e.settings.bits_votes.is_enabled,cost:e.settings.bits_votes.cost}},topContributor:n}}function m(e,t){return"pollsVoteAgainDialog_"+e+"_"+(t||"anonymous")}function p(e,t){return a.n.get(m(e,t),!0)}function h(e,t,n){return a.n.set(m(e,t),n)}function f(e,t){return"isPollDismissed_"+e+"_"+(t||"anonymous")}function g(e,t){return a.n.get(f(e,t),!1)}function v(e,t,n){a.n.set(f(e,t),n)}},i6WW:function(e,t,n){"use strict";var i=n("RcPG"),a=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/(\\w+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),r=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/(\\w+)(?:$|\\s)?");var o=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?");n.d(t,"a",(function(){return c}));var s=/^(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,8}(?:\/[\w./#%&@()\-+=:?~]*)?))$/;function c(e,t){void 0===t&&(t={});var n=e.match(s);if(!n)return null;var c=""+(n[1]||"https://")+n[2];if(t.parseClips&&function(e){void 0===e&&(e="");var t=a.test(e)&&!e.includes("clips.twitch.tv/2017/"),n=r.test(e);return t||n}(c)){var l=function(e){void 0===e&&(e="");var t=e.match(a);if(t&&t.length>0&&void 0!==t.index)return t[1];var n=e.match(r);return n&&n.length>0&&void 0!==n.index?n[2]:""}(c);if("create"!==l)return{type:i.a.ClipLink,content:{slug:l,url:c,displayText:e}}}if(t.parseVods&&function(e){return void 0===e&&(e=""),o.test(e)}(c)){var d=function(e){void 0===e&&(e="");var t=e.match(o);return null===t?"":t&&t.length>0&&void 0!==t.index?t[1]:""}(c);return{type:i.a.VideoLink,content:{id:d,url:c,displayText:e}}}return{type:i.a.Link,content:{displayText:e,url:c}}}},iS14:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),a=n("yR8l"),r=n("8jSG"),o=n("cMjZ"),s=n("zixI");function c(){var e=this;return Object(a.a)(s,{props:function(t){return{unblockUserMutation:function(n,a){return Object(i.__awaiter)(e,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t.mutate?[4,t.mutate({variables:{input:{targetUserID:n}},optimisticResponse:{unblockUser:{__typename:"UnblockUserPayload",targetUser:{__typename:"User",id:n}}},update:function(e){var t=e.readFragment({id:Object(o.a)(a),fragment:r});t&&(t.blockedUsers=t.blockedUsers.filter((function(e){return null!==e&&e.id!==n})),e.writeFragment({id:Object(o.a)(a),fragment:r,data:t}))}})]:[3,2];case 1:if(!(e=i.sent()))throw new Error("unblockUserMutation did not resolve with data");return[2,e];case 2:throw new Error("unblockUserMutation is not ready")}}))}))}}}})}},ia6S:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"autoModCaughtMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoModCaughtMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modLogsMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelLogin"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"resolvedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelLogin"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:621}};i.loc.source={body:'#import "twilight/features/chat/components/viewer-card/viewer-card-mod-logs/fragments/mod-logs-message-fragment.gql"\nfragment autoModCaughtMessage on AutoModCaughtMessage {\nid\ncategory\nmodLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelLogin: $channelLogin) {\nid\nsetID\nversion\n}\n__typename\n}\n__typename\n}\nresolvedAt\nresolver {\nid\nchatColor\ndisplayBadges(channelLogin: $channelLogin) {\nid\nsetID\nversion\n}\ndisplayName\nlogin\n__typename\n}\nstatus\n__typename\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("MfJU").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},ilCE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RaidUpsell_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"targetChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sourceChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"query RaidUpsell_Channel($targetChannelLogin: String $sourceChannelLogin: String) {\ntargetChannel: user(login: $targetChannelLogin) {\nid\nlogin\ndisplayName\n}\nsourceChannel: user(login: $sourceChannelLogin) {\nid\nstream {\nid\nviewersCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RaidUpsell_Channel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"RaidUpsell_Channel")},ilvU:function(e,t,n){"use strict";var i=n("q1tI"),a=n("f00E"),r=n("1rIY"),o=n("mrSG"),s=n("uGUt"),c=function(e,t){var n=e.highlights[e.currentIndex];switch(t.type){case s.a.PushHighlight:var i=e.highlights.findIndex((function(e){return e.id===t.id}));if(i>=0){var r={event:t.event,expanded:e.highlights[i].expanded,id:t.id};return Object(o.__assign)(Object(o.__assign)({},e),{highlights:l(e.highlights,r,i)})}var c={event:t.event,expanded:!1,id:t.id},u=e.currentIndex;n&&n.expanded&&(u+=1);var m=n&&n.expanded||e.listAllView;return Object(o.__assign)(Object(o.__assign)({},e),{highlights:d(e.highlights,c,u),notifications:m?Object(o.__spreadArrays)([t.id],e.notifications):e.notifications});case s.a.RemoveHighlight:var p=e.highlights.filter((function(e){return e.id!==t.id})),h=e.notifications.filter((function(e){return e!==t.id})),f=e.currentIndex;f>p.length-1&&(f=Math.max(p.length-1,0));var g=e.listAllView,v=e.uuid;return 0===p.length&&(g=!1,v=Object(a.c)()),{highlights:p,currentIndex:f,notifications:h,listAllView:g,uuid:v};case s.a.MoveToHighlight:var b=e.highlights.findIndex((function(e){return e.id===t.id}));if(b>=0){var k=e.highlights[b],y=t.shouldExpand?l(e.highlights,Object(o.__assign)(Object(o.__assign)({},k),{expanded:!0}),b):e.highlights;return Object(o.__assign)(Object(o.__assign)({},e),{highlights:y,currentIndex:b,notifications:[],listAllView:!1})}return e;case s.a.ToggleExpanded:var S=e.highlights.findIndex((function(e){return e.id===t.id}));if(S>=0){var C=e.highlights[S];return C.expanded=!C.expanded,Object(o.__assign)(Object(o.__assign)({},e),{highlights:l(e.highlights,C,S)})}return e;case s.a.OpenListAllView:return Object(o.__assign)(Object(o.__assign)({},e),{listAllView:!0});case s.a.CloseListAllView:return Object(o.__assign)(Object(o.__assign)({},e),{notifications:[],listAllView:!1});default:return e}},l=function(e,t,n){return e.map((function(e,i){return i===n?t:e}))},d=function(e,t,n){return Object(o.__spreadArrays)(e.slice(0,n),[t],e.slice(n))},u=Object(r.a)("HighlightStackDispatchContext",(function(){return null})),m=u.context,p=u.withContext,h={highlights:[],notifications:[],currentIndex:0,listAllView:!1,uuid:Object(a.c)()},f=Object(r.a)("HighlightStackContext",h),g=f.context,v=f.withContext,b=function(e){var t=i.useReducer(c,h),n=t[0],a=t[1];return i.createElement(m.Provider,{value:a},i.createElement(g.Provider,{value:n},e.children))};n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return b}))},iyGE:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),a=n("yR8l"),r=n("Pub/"),o=n("HzXE"),s=n("4G6/"),c=n("4w0E");function l(e){var t=this;return Object(a.b)(c,{props:function(n){return{banUserMutation:function(a,c,l){return void 0===c&&(c=null),void 0===l&&(l=null),Object(i.__awaiter)(t,void 0,void 0,(function(){var t,d;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),d=null,"number"==typeof c?d=Object(s.a)(c):"string"==typeof c&&(d=c),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:a,expiresIn:d,reason:l}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.banUserFromChatRoom&&t.data.banUserFromChatRoom.ban&&t.data.banUserFromChatRoom.ban.bannedUser&&t.data.banUserFromChatRoom.ban.bannedUser.id){var a=Object(r.a)(e,n,t.data.banUserFromChatRoom.ban.bannedUser.id);if(!a)return;e.writeQuery({query:o,variables:{targetUserID:t.data.banUserFromChatRoom.ban.bannedUser.id,channelID:n},data:Object(i.__assign)(Object(i.__assign)({},a),{chatRoomBanStatus:{isPermanent:t.data.banUserFromChatRoom.ban.isPermanent,__typename:"ChatRoomBanStatus"}})})}}(e,n,t)}})];case 2:return[2,u.sent().data];case 3:throw u.sent(),new Error("Unable to ban user");case 4:return[3,6];case 5:throw new Error("Ban user mutation is not ready");case 6:return[2]}}))}))}}}})}},"j+2s":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatList_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"squadStream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamData"},directives:[]}]}}]}}]}}],loc:{start:0,end:365}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/squad-stream/models/squad-stream-fragment.gql"\nquery ChatList_Badges($channelLogin: String!) {\nbadges {\n...badge\n}\nuser(login: $channelLogin) {\nid\nbroadcastBadges {\n...badge\n}\nself {\nselectedBadge {\n...badge\n}\ndisplayBadges {\n...badge\n}\n}\nsquadStream {\n...squadStreamData\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("IKE4").definitions)),i.definitions=i.definitions.concat(r(n("fnDh").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChatList_Badges=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChatList_Badges")},j0ar:function(e,t,n){"use strict";var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("x1M1"),s=n("hnjF"),c=n("+80q"),l=n("PL8s"),d=n("b7S+"),u=(n("9KaG"),function(e){function t(t){var n=e.call(this,t)||this;return n.onImageLoad=function(){n.setState({imageLoaded:!0})},n.onMouseOver=function(){n.setState({isHovering:!0})},n.onMouseOut=function(){n.setState({isHovering:!1})},n.renderImage=function(){var e=null,t=a("chat-image",{"chat-image__animated":!!n.props.cheerText&&n.state.imageLoaded},n.props.className);if(n.props.srcSet.themed)e=r.createElement(s.g,{display:n.state.imageLoaded?s.d.InlineBlock:s.d.Hide},r.createElement(o.a,{alt:n.props.alt,className:t,defaultRes:n.props.srcKey,onLoad:n.onImageLoad,onMouseOver:n.onMouseOver,onMouseOut:n.onMouseOut,sources:n.props.srcSet}));else{for(var i=[],c=0,l=Object.keys(n.props.srcSet.sources);c<l.length;c++){var d=l[c];i.push(n.props.srcSet.sources[d]+" "+d)}e=r.createElement(s.g,{display:n.state.imageLoaded?s.d.InlineBlock:s.d.Hide},r.createElement("img",{className:t,onLoad:n.onImageLoad,onMouseOver:n.onMouseOver,onMouseOut:n.onMouseOut,src:n.props.srcSet.sources[n.props.srcKey],srcSet:i.join(","),alt:n.props.alt}))}return e},n.renderPlaceholder=function(){return n.state.imageLoaded?null:r.createElement(s.g,{display:s.d.InlineBlock},r.createElement(c.a,{type:c.e.Span,className:"chat-image__placeholder",align:s.m.Top},r.createElement(l.a,{height:28,width:28})))},n.state={imageLoaded:!1,isHovering:!1},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;return e=this.state.isHovering&&this.state.imageLoaded?r.createElement(d.a,{direction:this.props.tooltipDirection||d.c.Top,label:this.props.alt,display:s.d.Inline,offsetY:"0.9rem","data-a-target":"emote-name"},this.renderPlaceholder(),this.renderImage(),this.props.cheerText):r.createElement("span",{"data-a-target":"emote-name"},this.renderPlaceholder(),this.renderImage(),this.props.cheerText),this.props.cheerText?r.createElement(c.a,{type:c.e.Span,noWrap:!0},e):e},t}(r.Component));n.d(t,"a",(function(){return u}))},jBwP:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=n("W/3w"),s=n("mr+n"),c=Object(r.a)("ChatRoomStateContext",{emoteOnlyMode:!1,followerDuration:o.a,followerMode:!1,slowMode:!1,slowModeDuration:s.a,subsOnlyMode:!1,updateRoomState:function(e){return null}}),l=c.context,d=c.withContext,u=function(e){function t(t){var n=e.call(this,t)||this;return n.updateRoomState=function(e){n.setState((function(t){return{emoteOnlyMode:void 0!==e.emoteOnly?e.emoteOnly:t.emoteOnlyMode,followerMode:void 0!==e.followersOnly?e.followersOnly:t.followerMode,followerDuration:void 0!==e.followersOnlyRequirement?e.followersOnlyRequirement:t.followerDuration,slowMode:void 0!==e.slowMode?e.slowMode:t.slowMode,slowModeDuration:e.slowModeDuration||t.slowModeDuration,subsOnlyMode:void 0!==e.subsOnly?e.subsOnly:t.subsOnlyMode}}))},n.state={emoteOnlyMode:!1,followerDuration:o.a,followerMode:!1,slowMode:!1,slowModeDuration:s.a,subsOnlyMode:!1,updateRoomState:n.updateRoomState},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(l.Provider,{value:this.state},this.props.children)},t}(a.Component);n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}))},jCkG:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"targetedModAction"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsTargetedModActionsEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"targetedModActionDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"targetedModActionDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TargetedModActionDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}],loc:{start:0,end:361}};n.loc.source={body:"# fragments for targeted mod actions on the mod logs query\nfragment targetedModAction on ModLogsTargetedModActionsEntry {\nid\naction\ntimestamp\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nuser {\nid\nlogin\n}\ndetails {\n...targetedModActionDetails\n}\n__typename\n}\nfragment targetedModActionDetails on TargetedModActionDetails {\nbannedAt\ndurationSeconds\nexpiresAt\nreason\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},jPLR:function(e,t,n){},jqPd:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("VbXa"),a=n.n(i),r=n("q1tI"),o=n("hnjF"),s=n("sUnt"),c=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){return r.createElement(s.a,{overflow:o.i.Auto},this.props.children)},t}(r.Component);c.displayName="ModalBody"},jv9u:function(e,t,n){"use strict";var i=n("q1tI"),a=n("/7QA"),r=n("sUnt"),o=n("hnjF"),s=n("XQbB"),c=n("+80q"),l=function(){return i.createElement(r.a,{padding:1,display:o.d.Flex,alignItems:o.b.Center,justifyContent:o.h.Center,flexDirection:o.e.Column,fullWidth:!0},i.createElement(s.a,{delay:0}),i.createElement(r.a,{padding:{top:2}},i.createElement(c.a,{italic:!0},Object(a.d)("Fetching Bits","BitsCard"))))};n.d(t,"a",(function(){return l}))},jwK5:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsConfigContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"cheer"},directives:[]}]}}]}}],loc:{start:0,end:149}};i.loc.source={body:'#import "twilight/features/chat/models/cheer-fragment.gql"\nquery BitsConfigContext ($login: String!) {\nchannel: user(login: $login) {\nid\n...cheer\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("F9eG").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.BitsConfigContext=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"BitsConfigContext")},jy35:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"message"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageParticle"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageSender"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageParticle"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageFragment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"mentionFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"mentionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"automodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:910}};n.loc.source={body:"fragment message on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nsender {\n...messageSender\n}\n__typename\n}\nfragment messageContent on MessageContent {\ntext\nfragments {\n...messageParticle\n}\n__typename\n}\nfragment messageSender on User {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nid\nsetID\nversion\n__typename\n}\n__typename\n}\nfragment messageParticle on MessageFragment {\ntext\ncontent {\n... on CheermoteToken {\n...cheermoteFragment\n}\n... on Emote {\n...emoteFragment\n}\n... on User {\n...mentionFragment\n}\n... on AutoMod {\n...automodFragment\n}\n__typename\n}\n__typename\n}\nfragment cheermoteFragment on CheermoteToken {\nbitsAmount\nprefix\ntier\n__typename\n}\nfragment emoteFragment on Emote {\nemoteID: id\nsetID\ntoken\n__typename\n}\nfragment mentionFragment on User {\nid\nlogin\ndisplayName\n__typename\n}\nfragment automodFragment on AutoMod {\ntopics {\ntype\nweight\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"k/I/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VIPs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vips"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query VIPs($login: String!) {\nuser(login: $login) {\nid\nvips(first: 100) {\nedges {\nnode {\nid\nlogin\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VIPs=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VIPs")},k0nM:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("pVnL"),a=n.n(i),r=n("VbXa"),o=n.n(r),s=n("q1tI"),c=n("vCsY"),l=n("ygYM"),d=n("hnjF"),u=n("sUnt"),m=n("cNYe"),p=n("4wKg"),h=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=[];return this.props.items&&this.props.items.map((function(t,n){t.type?e.push(s.createElement(m.a,a()({},t,{key:n}))):e.push(s.createElement(p.a,a()({key:n},t)))})),s.createElement(l.a,{elevation:this.props.elevation,offsetX:this.props.offsetX,offsetY:this.props.offsetY,direction:this.props.direction,noTail:this.props.noTail,size:this.props.size?this.props.size:l.c.Small,show:this.props.show,background:this.props.background,overlay:this.props.overlay},s.createElement(d.g,{display:d.d.Flex,flexDirection:d.e.Column},s.createElement("div",{style:{maxHeight:this.props.maxHeight}},s.createElement(u.a,a()({overflow:d.i.Auto,padding:1},Object(c.a)(this.props)),e,this.props.children))))},t}(s.Component);h.displayName="DropDownMenu"},k7qK:function(e,t,n){},k8pZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("/7QA"),r=n("g/rS");function o(e,t){return e.extensions.installations[t]}a.p.store.registerReducer("extensions",(function(e,t){var n,a;switch(void 0===e&&(e={installations:{}}),t.type){case r.b:return Object(i.__assign)(Object(i.__assign)({},e),{installations:Object(i.__assign)(Object(i.__assign)({},e.installations),(n={},n[t.channelID]=t.installedExtensions,n))});case r.a:var o=e.installations[t.channelID];if(!o)return e;var s=o.filter((function(e){return e.extension.clientId!==t.extensionID}));return Object(i.__assign)(Object(i.__assign)({},e),{installations:Object(i.__assign)(Object(i.__assign)({},e.installations),(a={},a[t.channelID]=s,a))});default:return e}}))},kPBf:function(e,t){},kPCN:function(e,t,n){},kSkr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BlockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BlockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation BlockUser($input: BlockUserInput!) {\nblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BlockUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"BlockUser")},"kY/a":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewerCardModComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channelUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modLogs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetID"},value:{kind:"Variable",name:{kind:"Name",value:"targetID"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"moderatorComments"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"moderatorComments"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsCommentConnection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"moderatorComment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"moderatorComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:494}};n.loc.source={body:"query ViewerCardModComments($channelID: ID! $targetID: ID! $cursor: Cursor) {\nchannelUser: user(id: $channelID) {\nid\nmodLogs {\ncomments(targetID: $targetID first: 100 after: $cursor) {\n...moderatorComments\n}\n}\n}\n}\nfragment moderatorComments on ModLogsCommentConnection {\nedges {\ncursor\nnode {\n...moderatorComment\n}\n}\npageInfo {\nhasNextPage\nhasPreviousPage\n}\n}\nfragment moderatorComment on ModLogsComment {\nid\ntimestamp\nchannel {\nid\n}\nauthor {\nid\nlogin\ndisplayName\nchatColor\n}\ndetails {\ntext\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ViewerCardModComments=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ViewerCardModComments")},kmJV:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currentChannelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"currentChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}}]}}],loc:{start:0,end:301}};i.loc.source={body:'#import "twilight/features/channel/queries/channel.gql"\n#import "twilight/features/channel/queries/channel-current-user.gql"\nquery ChannelRoot_Channel(\n$currentChannelLogin: String!\n$includeChanlets: Boolean!\n) {\ncurrentUser {\n...channelCurrentUser\n}\nuser(login: $currentChannelLogin) {\n...channel\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("BbLt").definitions)),i.definitions=i.definitions.concat(r(n("NJiF").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelRoot_Channel=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelRoot_Channel")},kxrW:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.PlayerInit="init",e.ContentShowing="contentShowing",e.PlaybackStatistics="playbackStatistics",e.ChansubRequired="chansubRequired",e.VideoFailure="videoFailure",e.Formats="videoFormats",e.ABSStreamFormatChange="abs_stream_format_change",e.FormatChanged="videoFormatChanged",e.TimeChange="timeChange",e.BufferChange="bufferChange",e.SegmentChange="segmentchange",e.UsherFailError="usherFail",e.CaptionUpdate="captions",e.SeekFailed="seekfailed",e.VariantSwitchRequest="variantSwitchRequested",e.ViewersChange="viewerschange",e.StreamLoaded="streamLoaded",e.VideoLoaded="videoLoaded",e.VideoPaused="videoPaused",e.QualityChange="qualitychange",e.Online="online",e.Offline="offline",e.Restricted="restricted",e.CastingChange="castingchange",e.TheatreChange="theatrechange",e.MidrollRequested="midrollrequested",e.ManifestExtraInfo="manifestExtraInfo",e.TransitionToCollectionVOD="transitionToCollectionVod",e.TransitionToRecommendedVOD="transitionToRecommendedVod",e.StitchedAdStart="stitchedadstart",e.StitchedAdEnd="stitchedadend",e.PersistenPlayerToggle="persistentPlayerEnableToggle",e.StatsUpdate="statsupdate",e.PromptLoginModal="prompt login modal",e.OpenStream="openStream",e.PlayerReady="ready",e.FullscreenChange="fullscreenchange",e.ExternalFullscreenChange="externalfullscreenchange",e.ClipsModerationOpen="clips-moderation-open",e.FocusPlayer="focusPlayer",e.FollowChannel="followChannel",e.UnfollowChannel="unfollowChannel",e.ContentRestricted="contentRestricted",e.SubscribeToChannel="subscribeChannel",e.OpenSubscriptionCheckout="subscriptionCheckout",e.PrimeSubscribeToChannel="primeSubscribeChannel",e.RemoveStream="removeStream",e.EnterMultiview="enterMultiview",e.PlaybackError="playbackerror"}(i||(i={}))},l1Uh:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i=null;function a(e){i=e}function r(){return i?+window.getComputedStyle(i).getPropertyValue("width").replace("px",""):0}},lNGo:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h}));var i=n("mrSG"),a=n("/7QA"),r=n("DMoW"),o=n("2xye"),s=n("IZXT"),c=n("YXxK"),l=n("04j6"),d=n("oi4T"),u=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,c;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:t=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:l,variables:{id:e.channelID}})];case 2:return t=u.sent(),[3,4];case 3:return n=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed."):a.k.errorAndReport(n,"ChatEvent query failed."),[3,4];case 4:return t&&t.data||a.k.warn("ChatEvent query failed; Chat tracking data sent may be incomplete."),r=t&&t.data&&t.data.user||null,c=Object(i.__assign)(Object(i.__assign)({},Object(d.b)(e)),{viewer_context:e.viewerContext,broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:r&&r.stream&&r.stream.game&&r.stream.game.name,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,send_action:e.sendAction}),a.o.track(o.SpadeEventType.Chat,c),[2]}}))}))},m=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,c;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:t=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:l,variables:{id:e.channelID}})];case 2:return t=u.sent(),[3,4];case 3:return n=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed for CheerEvent."):a.k.errorAndReport(n,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return t&&t.data||a.k.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),r=t&&t.data&&t.data.user||null,c=Object(i.__assign)(Object(i.__assign)({},Object(d.a)(e)),{broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:r&&r.stream&&r.stream.game&&r.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,transaction_id:e.transactionID,viewer_context:e.viewerContext}),a.o.track(o.SpadeEventType.ChatClientCheer,c),[2]}}))}))},p=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,c;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:t=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:l,variables:{id:e.channelID}})];case 2:return t=u.sent(),[3,4];case 3:return n=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed for CheerEvent."):a.k.errorAndReport(n,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return t&&t.data||a.k.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),r=t&&t.data&&t.data.user||null,c=Object(i.__assign)(Object(i.__assign)({},Object(d.a)(e)),{broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,error_type:e.errorType,game:r&&r.stream&&r.stream.game&&r.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,viewer_context:e.viewerContext}),a.o.track(o.SpadeEventType.ChatClientCheerError,c),[2]}}))}))},h=function(e){switch(e){case r.zc.AMOUNT_BELOW_MIN_BITS:return c.d.BelowMin;case r.zc.AUTO_MOD_MESSAGE:return c.d.AutoModMessage;case r.zc.AUTO_MOD_PENDING:return c.d.AutoModPending;case r.zc.CHANNEL_BLOCKED_TERMS:return c.d.ChannelBlockedTerms;case r.zc.CHANNEL_INELIGIBLE:return c.d.ChannelIneligible;case r.zc.EMOTE_AMOUNT_BELOW_MIN_BITS:return c.d.BelowMinEmote;case r.zc.INSUFFICIENT_BALANCE:return c.d.BitsUnavailable;case r.zc.INVALID_ANONYMOUS_MESSAGE:return c.d.InvalidAnonymousMessage;case r.zc.INVALID_BITS_AMOUNT:case r.zc.INVALID_BITS_MESSAGE:return c.d.InvalidBitsMessage;case r.zc.INVALID_EVENT_ID:return c.d.InvalidEventId;case r.zc.MESSAGE_LENGTH_EXCEEDED:return c.d.InputAboveMaxLength;case r.zc.REQUEST_THROTTLED:return c.d.RequestThrottled;case r.zc.TOO_LARGE_BITS_EMOTE:return c.d.AboveMaxEmote;case r.zc.TOO_LARGE_CHEER:return c.d.AboveMaxCheer;case r.zc.USER_BANNED:return c.d.UserBanned;case r.zc.USER_INELIGIBLE:return c.d.UserIneligible;case r.zc.USER_SUSPENDED:return c.d.UserSuspended;case r.zc.ZALGO_MESSAGE:return c.d.ZalgoMessage;default:return c.d.Unknown}}},lVWK:function(e,t,n){},lX3L:function(e,t,n){},lXDb:function(e,t,n){},lZCe:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=function(e){function t(t){var n=e.call(this,t)||this;n.logger=r.p.logger.withCategory("component-experiment");var i=r.p.experiments.getAndTrackAssignment(n.props.name,n.props.channel?{channel:n.props.channel}:{});return i&&n.props.assignments[i]?n.logger.debug("Displaying component for experiment",{name:n.props.name,assignment:i}):n.logger.debug("Displaying fallback component for experiment",{name:n.props.name,assignment:i}),n.state={assignment:i},n}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.state.assignment&&this.props.assignments[this.state.assignment]){var e=this.props.assignments[this.state.assignment]();return"string"==typeof e?(window.location.replace(e),null):e}return this.props.assignments.fallback()},t}(a.Component);n.d(t,"a",(function(){return o}))},lZdE:function(e,t,n){"use strict";function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n.d(t,"a",(function(){return i}))},lhih:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var i="first_time_purchase",a="single_purchase",r="spring_sale_2019"},"ll/k":function(e,t,n){"use strict";function i(e,t){if(void 0===t&&(t=0),t>e){var n=t;t=e,e=n}return t+Math.floor(Math.random()*(e-t+1))}function a(e){return e[i(e.length-1)]}function r(e,t){for(var n=0,i=[];n<e;)i.push(t(n)),n+=1;return i}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}))},"lpj/":function(e,t,n){},lw3P:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("yR8l"),a=n("ru7j");function r(){return Object(i.a)(a,{props:function(e){return e.data&&!e.data.loading&&!e.data.error&&e.data.currentUser&&e.data.currentUser.blockedUsers?{blockedUsers:e.data.currentUser.blockedUsers.reduce((function(e,t){return t&&t.id&&e.push(t.id),e}),[])}:{blockedUsers:[]}},skip:function(e){return!(e.isLoggedIn||e.authToken)}})}},m66z:function(e,t,n){},m7Uh:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var i=n("G7cy"),a=n("DtRd"),r=n("R4sh"),o=[250,249,250],s=[15,14,17],c=3,l=/^#[A-Fa-f0-9]{3,6}$/;function d(e){var t=a(e);return 4===t.length&&(t=[t[0],t[1],t[2]]),i(t)}function u(e){var t=a(e);return Object(r.a)(o,t)>=c&&Object(r.a)(t,s)>=c}function m(e){return l.test(e.trim())}},mBWp:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Tracking_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86}};n.loc.source={body:"query Whispers_Tracking_CurrentUser {\ncurrentUser {\nid\nhasTurbo\navailability\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Whispers_Tracking_CurrentUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Whispers_Tracking_CurrentUser")},mGiD:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"BooleanValue",value:!0}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelVideo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCollection"},directives:[]}]}}]}}],loc:{start:0,end:517}};i.loc.source={body:'#import "twilight/features/channel/queries/channel-current-user.gql"\n#import "twilight/features/channel/queries/channel-video.gql"\n#import "twilight/features/channel/queries/channel-collection.gql"\nquery ChannelRoot_Video(\n$videoID: ID!\n$collectionID: ID!\n$includeCollection: Boolean!\n$includeChanlets: Boolean!\n) {\ncurrentUser {\n...channelCurrentUser\n}\nvideo(id: $videoID options: { includePrivate: true }) {\n...channelVideo\n}\ncollection(id: $collectionID) @include(if: $includeCollection) {\n...channelCollection\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NJiF").definitions)),i.definitions=i.definitions.concat(r(n("RTtf").definitions)),i.definitions=i.definitions.concat(r(n("vtET").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelRoot_Video=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelRoot_Video")},miXC:function(e,t,n){},mjSZ:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("E/0f"),s=n("7qXh"),c=n("/MKj"),l=n("fvjX"),d=n("8/mp"),u=n("HAa/"),m=n("DMoW"),p=n("XDQu"),h=n("3tQW"),f=n("uIkQ"),g=n("IArS"),v=n("cys1"),b=n("wFyP"),k=n("W7Hf"),y=n("sUnt"),S=(n("KIkj"),{id:g.c.id,login:g.c.username,chatColor:g.b,displayName:g.c.displayName,displayBadges:[],__typename:"User"}),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.channelID,n=e.badgeSets,o=e.currentUserLogin,s=this.props.caughtMessage,c=s.category,l=s.modLogsMessage,d=s.resolver,u=s.status,m=l.sender,p=l.id;if(!m||!p)return a.createElement(y.a,{padding:{x:2,y:1}},Object(r.d)("unable to properly render message","AutoModCaughtMessage"));var h=Object(i.__assign)(Object(i.__assign)({},l),{deletedAt:null,__typename:"Message"});return a.createElement(y.a,{padding:{x:1,y:.5},key:p+"-automod-caught-message"},a.createElement(y.a,{className:"automod-message"},a.createElement(f.b,{badgeSets:n,badgesToRender:g.a}),a.createElement(b.a,{messageID:p,sender:S,onUsernameClick:null}),a.createElement("span",{key:"separator"},": "),this.autoModExplanationGenerator(c,d)),a.createElement(y.a,{padding:{y:0},className:"flagged-message "+this.leftBorderClassName(u)},a.createElement(k.a,{channelID:t,showModerationIcons:!1,showTimestamps:!0,badgeSets:n,currentUserLogin:o,hasModPermissions:!0,message:h,onUsernameClick:null,surfaceError:void 0,padding:{x:1,y:.5},highContrastUsernameColor:this.props.highContrastUsernameColor,theme:this.props.theme})))},t.prototype.leftBorderClassName=function(e){return e===m.g.APPROVED?"approved":"rejected"},t.prototype.autoModExplanationGenerator=function(e,t){var n,i,o=this.props.isPendingReview,s=this.props.caughtMessage,c=s.resolvedAt,l=s.status,d=this.props.caughtMessage.modLogsMessage.id;switch(e){case"AGGRESSIVE":n=Object(r.d)("aggressive","AutoModExplanation");break;case"SEXUAL":n=Object(r.d)("sexual","AutoModExplanation");break;case"PROFANITY":n=Object(r.d)("profanity","AutoModExplanation");break;case"IDENTITY":n=Object(r.d)("identity","AutoModExplanation");break;default:return Object(r.d)("Held a message for a new/unknown category.","AutoModExplanation")}switch(l){case"APPROVED":i=Object(r.d)("Approved","AutoModExplanation");break;case"DENIED":i=Object(r.d)("Denied","AutoModExplanation");break;default:i=Object(r.d)("Pending","AutoModExplanation")}return t?c?Object(r.d)("Held a message for reason: {category}. ({status} by {resolver} at {resolvedAt})",{category:n,status:i,resolver:a.createElement(b.a,{messageID:d,sender:t,onUsernameClick:null}),resolvedAt:Object(v.a)(new Date(c))},"AutoModExplanation"):Object(r.d)("Held a message for reason: {category}. ({status} by {resolver})",{category:n,status:i,resolver:a.createElement(b.a,{messageID:d,sender:t,onUsernameClick:null})},"AutoModExplanation"):o?Object(r.d)("Held a message for reason: {category}. (Pending review by moderators)",{category:n},"AutoModExplanation"):Object(r.d)("Held a message for reason: {category}. (Expired and not posted to Chat)",{category:n},"AutoModExplanation")},t}(a.Component),E=n("Dufr"),w=n("na98"),_=n("1VX3"),N=n("hnjF"),O=n("Ws8v"),D=n("X2PJ"),I=n("dEDE"),M=(n("lXDb"),["scroll","wheel","mousewheel","DOMMouseScroll","keyup","mousedown"]),T=10,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disableInfiniteTrigger:!0,isAutoScrolling:!0},t.saveScrollRef=function(e){return t.scroll=e},t.handleScrollEvent=function(e){if(t.scroll&&t.scroll.scrollContent&&(e.which>0||"mousedown"===e.type||"mousewheel"===e.type||"wheel"===e.type)){var n=t.scroll.scrollContent.scrollHeight-t.scroll.scrollContent.scrollTop-t.scroll.scrollContent.offsetHeight;n<=T&&!t.state.isAutoScrolling?t.setState({isAutoScrolling:!0}):n>T&&t.state.isAutoScrolling&&t.setState({isAutoScrolling:!1})}},t.handleClickMoreMessages=function(){t.setState({isAutoScrolling:!0},t.scrollToBottom)},t.loadMore=function(){return t.isLoadingMore=!0,t.props.loadMore()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.setState({disableInfiniteTrigger:!1}),this.scroll&&this.scroll.scrollContent&&(this.scrollToBottom(),M.forEach((function(t){e.scroll.scrollContent&&e.scroll.scrollContent.addEventListener(t,e.handleScrollEvent)})))},t.prototype.componentWillUnmount=function(){var e=this;M.forEach((function(t){e.scroll&&e.scroll.scrollContent&&e.scroll.scrollContent.removeEventListener(t,e.handleScrollEvent)}))},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this.scroll&&this.scroll.scrollContent;if(!this.props.isBulkLoad||!t)return null;var n=e.messages[e.messages.length-1]&&e.messages[e.messages.length-1].id,i=null;return n&&(i=document.getElementById(n)),this.isLoadingMore||!i?t.scrollTop:t.scrollTop-i.scrollTop},t.prototype.componentDidUpdate=function(e,t,n){var i=e.messages[e.messages.length-1]&&e.messages[e.messages.length-1].id,a=null;i&&(a=document.getElementById(i));var r=this.scroll&&this.scroll.scrollContent;if(e.messages!==this.props.messages&&(this.state.isAutoScrolling&&this.scrollToBottom(),this.props.isBulkLoad&&e.messages&&this.props.messages))if(this.isLoadingMore){var o=e.messages[0]&&e.messages[0].id,s=this.props.messages[0]&&this.props.messages[0].id;if(o&&s&&o!==s){var c=document.getElementById(o);if(c&&r&&n){var l=c.offsetTop;r.scrollTop=n+l}}}else{var d=this.props.messages[this.props.messages.length-1]&&this.props.messages[this.props.messages.length-1].id;if(i&&d&&i!==d&&a&&r&&n){l=a.offsetTop;r.scrollTop=n+l}}},t.prototype.render=function(){var e=this.renderLines();return a.createElement(y.a,{className:"message-list mod-logs-entry-list",display:N.d.Flex,flexDirection:N.e.Column,flexWrap:N.f.NoWrap,overflow:N.i.Hidden,flexGrow:1},a.createElement(d.b,{className:"message-list__lines",scrollRef:this.saveScrollRef},a.createElement(y.a,{flexGrow:1,fullHeight:!0,overflow:N.i.Hidden},a.createElement(d.a,{"data-test-selector":"backward-infinite-scroll",enabled:!this.state.disableInfiniteTrigger,loadMore:this.loadMore,pixelThreshold:400,orientation:u.b.Down,contentLength:e.length,forceLoadMoreContent:this.props.hasMoreLeft,requestCap:2}),a.createElement(y.a,{key:"message-list-start",padding:.5}),e,a.createElement(y.a,{key:"message-list-end",padding:.5}))),a.createElement(y.a,{position:N.j.Relative,margin:{x:2}},this.moreMessages()))},t.prototype.moreMessages=function(){return this.state.isAutoScrolling?null:a.createElement(O.a,{alignItems:N.b.Center,attachBottom:!0,display:N.d.Flex,fullWidth:!0,background:D.a.Overlay,justifyContent:N.h.Center,position:N.j.Absolute,margin:{bottom:1}},a.createElement(I.a,{onClick:this.handleClickMoreMessages,overlay:!0,type:I.d.Text,fullWidth:!0},Object(r.d)("More messages below.","ViewerCardModLogsFeature")))},t.prototype.scrollToBottom=function(){this.scroll.scrollToBottom()},t.prototype.renderLines=function(){var e=this;return this.props.messages.slice().reduce((function(t,n,i){var r=!1;if("AutoModCaughtMessage"===n.__typename&&n.status===m.g.PENDING){(new Date).getTime()*(.001/60)-new Date(n.modLogsMessage.sentAt).getTime()*(.001/60)<5&&(r=!0)}var o=i>0&&e.props.messages[i-1],s="Message"===n.__typename&&new Date(n.sentAt).toLocaleDateString()||"AutoModCaughtMessage"===n.__typename&&new Date(n.modLogsMessage.sentAt).toLocaleDateString()||"ModLogsTargetedModActionsEntry"===n.__typename&&new Date(n.timestamp).toLocaleDateString(),c=o&&"Message"===o.__typename&&new Date(o.sentAt).toLocaleDateString()||o&&"AutoModCaughtMessage"===o.__typename&&new Date(o.modLogsMessage.sentAt).toLocaleDateString()||o&&"ModLogsTargetedModActionsEntry"===o.__typename&&new Date(o.timestamp).toLocaleDateString();return 0===i&&s&&t.push(a.createElement(E.a,{key:i+"-"+s,dateString:s})),c&&s&&c!==s&&t.push(a.createElement(E.a,{key:i+"-"+s,dateString:s})),"Message"===n.__typename?t.push(a.createElement(_.a,{channelID:null,key:n.id,badgeSets:e.props.badgeSets,hasModPermissions:!1,message:n,showTimestamps:!0,showModerationIcons:!1,onUsernameClick:null,padding:{x:1,y:.5},highContrastUsernameColor:e.props.useHighContrastColors,theme:e.props.theme})):"ModLogsTargetedModActionsEntry"===n.__typename?t.push(a.createElement(w.a,{key:n.id,entry:n})):"AutoModCaughtMessage"===n.__typename&&t.push(a.createElement(C,{channelID:null,key:n.id,badgeSets:e.props.badgeSets,caughtMessage:n,isPendingReview:r,highContrastUsernameColor:e.props.useHighContrastColors,theme:e.props.theme})),t}),[])},t}(a.Component);var j=Object(l.d)(Object(h.b)((function(e){return{useHighContrastColors:e.value}})),Object(c.b)((function(e){return{theme:Object(p.a)(e)}})))(P),F=n("a1OF"),R=n("XQbB"),L=n("uG/k"),A=n("+80q");n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return B}));var U,x=r.b.get("automod_should_show_in_mod_logs",!1);!function(e){e.NoMessages="no-messages",e.Loading="loading",e.Error="error",e.MessageList="message-list"}(U||(U={}));var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cursor:null,messages:[],loading:!1,hasMoreLeft:!0,error:!1},t.initialLoad=null,t.loadMore=function(){return!t.state.loading&&t.state.hasMoreLeft?new Promise((function(e){t.setState({loading:!0},e)})).then((function(){return t.props.loadMore({senderID:t.props.senderID,channelLogin:t.props.channelLogin,cursor:t.state.cursor,includeAutoModCaughtMessages:x})})).then((function(e){return new Promise((function(n){t.setState({messages:Object(i.__spreadArrays)(e.messages,t.state.messages),cursor:e.cursor,error:e.error,loading:!1,hasMoreLeft:!(!e.cursor||e.cursor===t.state.cursor)},n)}))})).catch((function(){return new Promise((function(e){t.setState({error:!0},e)}))})).then((function(){return Promise.resolve()})):Promise.resolve()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.initialLoad||(this.initialLoad=this.loadMore())},t.prototype.componentDidUpdate=function(e){this.initialLoad||(this.initialLoad=this.loadMore())},t.prototype.render=function(){return this.state.error?a.createElement(y.a,{fullHeight:!0,fullWidth:!0,"data-test-selector":U.Error},a.createElement(s.a,null)):!this.initialLoad||this.state.loading&&0===this.state.messages.length?a.createElement(y.a,{padding:{x:1,y:2}},a.createElement(R.a,{delay:0,fillContent:!0,size:R.b.Large,"data-test-selector":U.Loading})):0===this.state.messages.length?a.createElement(y.a,{display:N.d.Flex,flexDirection:N.e.Column,flexGrow:1,flexShrink:1,padding:{x:1,y:2},"data-test-selector":U.NoMessages},a.createElement(y.a,{display:N.d.Flex,alignItems:N.b.Center,justifyContent:N.h.Center,textAlign:N.l.Center,flexDirection:N.e.Column},a.createElement(y.a,null,a.createElement(L.a,{src:Object(F.d)(o.a.id,2),alt:o.a.alt})),a.createElement(y.a,{padding:{x:4,y:0},margin:{x:4,y:0}},a.createElement(A.a,{color:D.c.Alt2,fontSize:D.d.Size5},Object(r.d)("This user hasn't chatted in the channel.","ViewerCardModLogsFeature"))))):a.createElement(O.a,{background:D.a.Base,className:"mod-logs-entry-list",fullWidth:!0,"data-test-selector":U.MessageList,display:N.d.Flex,flexDirection:N.e.Column,flexGrow:1,flexShrink:1},a.createElement(j,{badgeSets:this.props.badgeSets,isBulkLoad:!0,hasMoreLeft:this.state.hasMoreLeft,messages:this.state.messages,loadMore:this.loadMore}))},t}(a.Component)},mmRu:function(e,t,n){"use strict";var i=n("/MKj"),a=n("mrSG"),r=n("q1tI"),o=n("u5aL"),s=n("/7QA"),c=n("7d/q"),l=n("C7sF"),d=function(e){return r.createElement(c.a,{icon:l.a.Emoticons,ariaLabel:Object(s.d)("Emote picker","EmotePickerButton"),type:e.isActive?c.c.Primary:c.c.Secondary,onClick:e.onClick,"data-a-target":"emote-picker-button"})},u=n("fvjX"),m=n("hbnN"),p=n("yR8l"),h=n("x7UT"),f=n("Mj6i"),g=n("OMdY"),v=n("1/iK"),b=n("kRBY"),k=n("+pBb"),y=n("P6kH"),S=n("w1PT"),C=n("8EUQ"),E=n("KriR"),w=n("GzyO"),_=n("OpME"),N=function(e){var t={};e.forEach((function(e){var n;e.owner&&e.owner.id&&(t[e.owner.id]?(n=t[e.owner.id].emotes).push.apply(n,e.emotes):t[e.owner.id]=Object(a.__assign)(Object(a.__assign)({},e),{emotes:e.emotes.slice()}))}));var n=Object.keys(t),i=[];return n.forEach((function(e){i.push(t[e])})),i},O=function(e,t){return t.reduce((function(t,n){if(null===n.emotes||null===n.emoteSetID)return t;var i=Object(_.b)(n.emotes);return t.concat(i.map((function(t){return Object(a.__assign)(Object(a.__assign)({},t),{isLocked:!e.has(parseInt(n.emoteSetID,10))})})))}),[])},D=function(e){return e.tier&&!isNaN(parseInt(e.tier,10))?parseInt(e.tier,10)/1e3:1},I=n("GnwI"),M=n("br9A"),T=n("MkkA"),P=n("8/mp"),j=n("wUQP"),F=n("2xye"),R=n("dGMd"),L=n("7SjK"),A=n("sUnt"),U=n("hnjF"),x=n("Ws8v"),B=n("+80q"),V=n("X2PJ"),H=function(e){var t=null;return e.img&&(t=r.createElement(r.Fragment,null,e.img,r.createElement(A.a,{padding:{right:.5}}))),r.createElement(A.a,{position:U.j.Relative,padding:{x:1,top:.5,bottom:1}},r.createElement(x.a,{alignItems:U.b.Center,display:U.d.Flex,padding:{x:1,y:.5},className:"emote-grid-section__header-title"},t,r.createElement(B.a,{align:U.m.Middle,bold:!0,color:V.c.Alt},e.label)),r.createElement(L.a,{context:e.context,emotes:e.emotes,onClickEmote:e.onClickEmote,spaced:!0}))},q=n("4VQm"),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkVisible=function(e,n){t.props.checkVisible(e,n)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister&&this.unregister()},t.prototype.render=function(){return r.createElement(r.Fragment,null,this.props.children)},t}(r.Component),W=Object(q.d)((function(e){return{registerReceiver:e.registerReceiver}}))(G),z=n("i4Ys"),Q=n("7uM4"),Y=function(e){return r.createElement(A.a,{position:U.j.Relative},r.createElement(z.a,{"data-a-target":e.label,onClick:e.onClick,blurAfterClick:!0,selected:e.isActive},r.createElement(A.a,{padding:1,display:U.d.InlineFlex},r.createElement(Q.a,{asset:e.icon}))))},K=n("DnOo"),X=n("a5fV"),$=n("dEDE"),J=n("uG/k"),Z=n("CGUg"),ee=(n("GLn2"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.channelSubEmotes,n=e.channelSubscriptionProducts,i=e.subUpsellClickedEmote,o=n.find((function(e){return e.emoteSetID===i.setID}));if(o||(o=n.find((function(e){var t;return!!(null===(t=e.emotes)||void 0===t?void 0:t.some((function(e){return e&&e.id===i.id})))}))),!o)return null;var c={};t.forEach((function(e){if(e.isLocked&&null!==e.setID&&void 0!==e.setID){var t=n.find((function(t){return t.emoteSetID===e.setID}));t&&(c[t.emoteSetID]=t)}}));var d=D(o),u=Object(s.d)("Subscribe at Tier {tierNumber}",{tierNumber:d},"EmotePickerCard"),m=[],p=[];t.forEach((function(e){var t=c[e.setID];t&&(D(t)<=d?p.push(Object(a.__assign)(Object(a.__assign)({},e),{isLocked:!1})):m.push(e))})),m.sort((function(e,t){var n=c[e.setID],i=c[t.setID],a=D(n);return D(i)-a}));var h=m.concat(p),f=o.price.toString()||"";"productInfo"in o&&(o.priceInfo||o.promotion)&&(f=Object(X.e)(o));var g=p.length>1?Object(s.d)("{numUnlocked} Emotes Included",{numUnlocked:p.length},"EmotePickerCard"):Object(s.d)("1 Emote Included","EmotePickerCard");return r.createElement(A.a,{className:"emote-sub-upsell"},r.createElement(x.a,{padding:{top:.5}},r.createElement($.a,{type:$.d.Text,icon:l.a.AngleLeft,onClick:this.props.onBackClick,size:$.b.Small},Object(s.d)("Back","EmotePickerCard"))),r.createElement(x.a,{display:U.d.Flex,padding:{x:2,bottom:1}},r.createElement(A.a,{flexGrow:0,flexShrink:0,padding:{top:.5}},r.createElement(J.a,{src:this.getBigImageSrc(i.srcSet),alt:i.displayName||""})),r.createElement(A.a,{flexGrow:1,flexShrink:1,padding:{left:1}},r.createElement(B.a,{bold:!0},this.renderCopyHeader(d.toString())),r.createElement(B.a,null,this.renderCopyBody(d.toString(),p.length)))),r.createElement(A.a,{display:U.d.Flex,alignItems:U.b.Center,justifyContent:U.h.Center,padding:{x:2}},r.createElement(K.a,{customSubscribeNowMessage:u,isSubbedToTier:!1,fullWidth:!0,tierPrice:f,handleSubAction:this.props.handleSubAction,productName:o.name,url:o.url})),r.createElement(Z.a,null,r.createElement("hr",{className:"emote-sub-upsell__divider"})),r.createElement(P.b,{className:"emote-sub-upsell__content"},r.createElement(A.a,null,r.createElement(A.a,{padding:{x:2}},r.createElement(B.a,{bold:!0},g)),r.createElement(A.a,{padding:{x:1,top:.5,bottom:3}},r.createElement(L.a,{emotes:h,spaced:!0,onClickEmote:this.props.onClickEmote})))))},t.prototype.renderCopyHeader=function(e){return Object(s.d)("{channelDisplayName} - Tier {tierNumber} Subscription",{tierNumber:e,channelDisplayName:this.props.channelDisplayName},"EmotePickerCard")},t.prototype.renderCopyBody=function(e,t){return 1===t?Object(s.d)("To unlock 1 emote and more subscriber benefits, subscribe at Tier {tierNumber}",{tierNumber:e},"EmotePickerCard"):Object(s.d)("To unlock {numEmotes} emotes and more subscriber benefits, subscribe at Tier {tierNumber}.",{tierNumber:e,numEmotes:t},"EmotePickercard")},t.prototype.getBigImageSrc=function(e){var t=e.split(" ");return 6===t.length?t[2]:t[0]},t}(r.Component));var te,ne=n("XQnt"),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.data&&(!this.props.data.loading||this.props.data.error)&&e.data&&e.data.loading&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return r.createElement(ee,{channelDisplayName:this.props.channelDisplayName,channelSubEmotes:this.props.channelSubEmotes,channelSubscriptionProducts:this.subscriptionProducts,handleSubAction:this.props.handleSubAction,onBackClick:this.props.onBackClick,onClickEmote:this.props.onClickEmote,subUpsellClickedEmote:this.props.subUpsellClickedEmote})},Object.defineProperty(t.prototype,"subscriptionProducts",{get:function(){return this.props.data&&this.props.data.user&&this.props.data.user.subscriptionProducts?Object(g.b)(this.props.data.user.subscriptionProducts):this.props.channelSubscriptionProducts},enumerable:!0,configurable:!0}),t}(r.Component),ae=Object(u.d)(Object(p.a)(ne,{options:function(e){return{variables:{channelID:e.channelID}}}}),Object(I.withLatencyTracking)("EmoteSubUpsell"))(ie);!function(e){e.FrequentlyUsed="frequently_used",e.CurrentChannel="current_channel",e.OtherChannel="other_subbed_channel",e.Unlocked="unlocked",e.Global="global"}(te||(te={}));var re,oe=n("ygYM"),se=n("3Law"),ce=n("XQbB"),le=n("HH5h");n("JGCS");!function(e){e.FrequentlyUsedEmotes="FREQUENTLY_USED_EMOTES",e.ChannelEmotes="CHANNEL_EMOTES",e.AllEmotes="ALL_EMOTES"}(re||(re={}));var de=function(e){function t(t){var n=e.call(this,t)||this;return n.isChannelPointsEnabled=Object(j.c)("copo_enabled"),n.onTabNavClick=function(e){if(n.scroll&&n.scroll.scrollContent&&e.currentTarget.getAttribute("data-a-target")){var t=e.currentTarget.getAttribute("data-a-target"),i=re.FrequentlyUsedEmotes;switch(t){case re.FrequentlyUsedEmotes:n.frequentlyUsedEmotesRef&&(n.scroll.scrollContent.scrollTop=n.frequentlyUsedEmotesRef.offsetTop,i=re.FrequentlyUsedEmotes);break;case re.ChannelEmotes:n.channelEmotesRef&&(n.scroll.scrollContent.scrollTop=n.channelEmotesRef.offsetTop,i=re.ChannelEmotes);break;case re.AllEmotes:n.allEmotesRef&&(n.scroll.scrollContent.scrollTop=n.allEmotesRef.offsetTop,i=re.AllEmotes)}n.setState({selectedNavTab:i})}},n.onClickEmote=function(e,t){if(n.props.onClickEmote&&!e.isLocked){n.props.onClickEmote(e.displayName||e.token,e.id);var i={channel_id:n.props.channelID||void 0,chatroom_id:n.props.roomID,context:t,emote_picker_sid:n.props.emotePickerSessionID,emote_id:e.id,emoticon_set_id:e.setID,generated_by:n.props.emotePickerSource};s.o.track(F.SpadeEventType.EmotePickerClickthrough,i)}else e.isLocked&&!n.props.isCommerceDisabled&&n.onClickLockedEmote(e)},n.saveScrollRef=function(e){return n.scroll=e},n.saveAllEmotesRef=function(e){return n.allEmotesRef=e},n.saveChannelEmotesRef=function(e){return n.channelEmotesRef=e},n.saveFrequentlyUsedEmotesRef=function(e){return n.frequentlyUsedEmotesRef=e},n.checkVisible=function(e,t){if(t){n.state.hasUserInteracted||n.setState({hasUserInteracted:!0});var i=n.state.selectedNavTab,a=n.allEmotesRef&&t.offset>=n.allEmotesRef.offsetTop;i=n.channelEmotesRef&&t.offset>=n.channelEmotesRef.offsetTop&&!a?re.ChannelEmotes:a?re.AllEmotes:re.FrequentlyUsedEmotes,n.state.selectedNavTab!==i&&n.setState({selectedNavTab:i})}},n.onClickLockedEmote=function(e){n.setState({subUpsellClickedEmote:e})},n.onBackClick=function(){n.setState({subUpsellClickedEmote:null,selectedNavTab:re.FrequentlyUsedEmotes})},n.handleFilterChange=function(e){var t=e.target.value,i=t.toLowerCase();n.setState({filter:i,inputValue:t,filteredEmotes:n.filterEmoteSets(n.props.allEmoteSets,i),selectedNavTab:re.FrequentlyUsedEmotes})},n.filterEmoteSets=function(e,t){var n=[];e.forEach((function(e){e.emotes.filter((function(e){return!(!e.displayName||!e.displayName.toLowerCase().includes(t))||e.token.toLowerCase().includes(t)})).forEach((function(t){t.setID=e.id,n.push(t)}))}));var i=Object(w.e)(),a=0===Object.keys(i).length?void 0:i,r=Object(_.e)(n,t,a);return Object(_.d)(r)},n.state={filter:"",filteredEmotes:[],hasUserInteracted:!1,inputValue:"",selectedNavTab:re.FrequentlyUsedEmotes,subUpsellClickedEmote:null},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.props.emotePickerSessionID&&this.props.channelID){var e={channel_id:this.props.channelID,emote_picker_sid:this.props.emotePickerSessionID,generated_by:this.props.emotePickerSource,chatroom_id:this.props.roomID};s.o.track(F.SpadeEventType.ViewedEmotePicker,e)}},t.prototype.componentDidUpdate=function(e){if(this.props.channelID&&this.props.emotePickerSessionID&&!e.emotePickerSessionID){var t={channel_id:this.props.channelID,emote_picker_sid:this.props.emotePickerSessionID,generated_by:this.props.emotePickerSource,chatroom_id:this.props.roomID};s.o.track(F.SpadeEventType.ViewedEmotePicker,t)}},t.prototype.render=function(){return r.createElement(oe.a,{"data-a-target":"emote-picker",direction:this.props.direction?this.props.direction:oe.b.TopRight,size:this.props.size?this.props.size:oe.c.Medium,noTail:!0,show:!0,offsetX:this.props.offsetX},r.createElement(A.a,{className:"emote-picker"},this.renderView()))},t.prototype.renderView=function(){var e=null;null===this.state.subUpsellClickedEmote&&(e=r.createElement(r.Fragment,null,this.renderTopContent(),this.renderTabContent()));var t=null;return null!==this.props.channelDisplayName&&null!==this.props.channelID&&null!==this.state.subUpsellClickedEmote&&(t=r.createElement(ae,{channelDisplayName:this.props.channelDisplayName,channelSubEmotes:this.props.channelSubEmotes,channelID:this.props.channelID,channelSubscriptionProducts:this.props.channelSubscriptionProducts,handleSubAction:this.props.handleSubAction,onBackClick:this.onBackClick,onClickEmote:this.onClickLockedEmote,ownedSetIDs:this.props.ownedSetIDs,subUpsellClickedEmote:this.state.subUpsellClickedEmote})),r.createElement(r.Fragment,null,t,e)},t.prototype.renderTopContent=function(){return r.createElement(A.a,{padding:{top:3,x:2}},r.createElement(A.a,{position:U.j.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0},r.createElement(c.a,{ariaLabel:Object(s.d)("Close emote picker","EmotePickerClose"),blurAfterClick:!0,"data-test-selector":"emote-picker-close",icon:l.a.Close,onClick:this.props.onClickClose,size:c.b.Small,type:c.c.Secondary})),r.createElement(se.a,{autoFocus:!0,onChange:this.handleFilterChange,placeholder:Object(s.d)("Search for Emotes","EmotePickerCard"),value:this.state.inputValue}))},t.prototype.renderTabContent=function(){return this.props.gqlError?r.createElement(A.a,null,r.createElement(B.a,{"data-test-selector":"emote-picker-menu-error-text",color:V.c.Error},Object(s.d)("Unable to load available emotes.","EmotePickerCard"))):this.props.loading?r.createElement(A.a,{alignItems:U.b.Center,display:U.d.Flex,fullHeight:!0,fullWidth:!0,justifyContent:U.h.Center,padding:1},r.createElement(ce.a,null)):""!==this.state.filter?this.renderSearchContent():r.createElement(r.Fragment,null,r.createElement(P.b,{scrollRef:this.saveScrollRef,className:"emote-picker__tab-content",contentClassName:"emote-picker__scroll-container"},r.createElement(A.a,{padding:{bottom:5}},r.createElement(W,{checkVisible:this.checkVisible},this.getFrequentlyUsedEmoteGrid(),this.isChannelPointsEnabled&&this.getCurrentChannelUnlockedEmoteGrid(),this.getCurrentChannelEmoteGrid(),this.getOtherSubEmoteGrids(),this.getResidualEmoteGrids()))),this.renderTabNav())},t.prototype.getFrequentlyUsedEmoteGrid=function(){return 0===this.props.frequentlyUsedEmotes.length?null:r.createElement(A.a,{className:"emote-picker__content-block",refDelegate:this.saveFrequentlyUsedEmotesRef},r.createElement(H,{context:te.FrequentlyUsed,emotes:this.props.frequentlyUsedEmotes,label:Object(s.d)("Frequently Used","EmotePickerCard"),onClickEmote:this.onClickEmote}))},t.prototype.getCurrentChannelEmoteGrid=function(){return 0===this.props.sortedChannelEmotes.length||null===this.props.channelDisplayName?null:r.createElement(A.a,{className:this.props.isLoggedIn?"emote-picker__content-block":void 0,refDelegate:this.saveChannelEmotesRef},r.createElement(H,{context:te.CurrentChannel,emotes:this.props.sortedChannelEmotes,img:r.createElement(le.a,{src:this.props.channelProfileImageURL,size:30,alt:this.props.channelDisplayName,userLogin:this.props.channelLogin}),label:this.props.channelDisplayName,onClickEmote:this.onClickEmote}))},t.prototype.getCurrentChannelUnlockedEmoteGrid=function(){var e=this.props.allEmoteSets.find((function(e){return e.id===R.a}));return e&&null!==this.props.channelDisplayName?r.createElement(A.a,{className:this.props.isLoggedIn?"emote-picker__content-block":void 0,refDelegate:this.saveChannelEmotesRef},r.createElement(H,{context:te.CurrentChannel,emotes:e.emotes,label:Object(s.d)("Unlocked with Channel Points","EmotePickerCard"),onClickEmote:this.onClickEmote})):null},t.prototype.getOtherSubEmoteGrids=function(){var e=this;if(!this.props.isLoggedIn)return null;var t=[];return this.props.otherChannelEmoteSets.forEach((function(n){n.owner&&n.owner.displayName&&n.emotes.length>0&&t.push(r.createElement(A.a,{key:"emote-grid--"+n.id+"-emotes",className:"emote-picker__content-block"},r.createElement(H,{context:te.OtherChannel,emotes:n.emotes,img:r.createElement(le.a,{src:n.owner.profileImageURL,size:30,alt:n.owner.displayName,userLogin:n.owner.login}),label:n.owner.displayName,onClickEmote:e.onClickEmote})))})),this.state.hasUserInteracted||(t=t.slice(0,4)),r.createElement(r.Fragment,null,t)},t.prototype.getResidualEmoteGrids=function(){if(!this.props.isLoggedIn)return null;var e=[];return this.props.unlockedEmotes.length>0&&this.props.isLoggedIn&&e.push(r.createElement(A.a,{key:"emote-grid--unlocked-emotes",className:"emote-picker__content-block"},r.createElement(H,{context:te.Unlocked,emotes:this.props.unlockedEmotes,label:Object(s.d)("Unlocked","EmotePickerCard"),onClickEmote:this.onClickEmote}))),this.props.globalEmotes.length>0&&e.push(r.createElement(A.a,{key:"emote-grid--global-emotes",className:"emote-picker__content-block"},r.createElement(H,{context:te.Global,emotes:this.props.globalEmotes,label:Object(s.d)("Global","EmotePickerCard"),onClickEmote:this.onClickEmote}))),r.createElement(A.a,{refDelegate:this.saveAllEmotesRef},e)},t.prototype.renderSearchContent=function(){var e=Object(s.d)('No Search Results for "{inputValue}"',{inputValue:this.state.inputValue},"EmotePickerCard");return this.state.filteredEmotes.length>0&&(e=Object(s.d)('Search Results for "{inputValue}"',{inputValue:this.state.inputValue},"EmotePickerCard")),r.createElement(P.b,{className:"emote-picker__tab-content"},r.createElement(A.a,{position:U.j.Relative,padding:{x:1,top:1,bottom:3},className:"emote-picker__content-block"},r.createElement(x.a,{padding:{x:1}},r.createElement(B.a,{bold:!0,ellipsis:!0},e)),r.createElement(L.a,{emotes:this.state.filteredEmotes,onClickEmote:this.onClickEmote,spaced:!0})))},t.prototype.renderTabNav=function(){var e=null;this.props.sortedChannelEmotes.length>0&&(e=r.createElement(Y,{isActive:this.state.selectedNavTab===re.ChannelEmotes,label:re.ChannelEmotes,icon:l.a.NavChannels,onClick:this.onTabNavClick}));var t=null;return this.props.isLoggedIn&&(t=r.createElement(Y,{isActive:this.state.selectedNavTab===re.AllEmotes,label:re.AllEmotes,icon:l.a.EmoticonsAll,onClick:this.onTabNavClick})),e||t?r.createElement(x.a,{display:U.d.Flex,background:V.a.Alt,borderRadius:{bottomLeft:V.b.Medium,bottomRight:V.b.Medium},fullWidth:!0},r.createElement(Y,{isActive:this.state.selectedNavTab===re.FrequentlyUsedEmotes,label:re.FrequentlyUsedEmotes,icon:l.a.GlyphLength,onClick:this.onTabNavClick}),e,t):null},t}(r.PureComponent),ue=n("DB+C"),me=function(e){function t(t){var n=e.call(this,t)||this;return n.getOwnedSetIDs=Object(m.a)((function(e){var t=new Set;if(e&&e.emoteSets&&e.emoteSets.length>0)for(var n=0,i=e.emoteSets;n<i.length;n++){var a=i[n];a&&a.id&&t.add(parseInt(a.id,10))}return t})),n.getSubProductSetIDs=Object(m.a)((function(e){var t=new Set;if(e&&e.user&&e.user.subscriptionProducts)for(var n=0,i=e.user.subscriptionProducts;n<i.length;n++){var a=i[n];a&&void 0!==a.emoteSetID&&null!==a.emoteSetID&&t.add(a.emoteSetID)}return t})),n.getAllEmoteSets=Object(m.a)((function(e){return e&&e.emoteSets?Object(_.a)(e.emoteSets):[]})),n.getMappedEmotes=Object(m.a)((function(e,t,n){var i=[],a=[],r=[],o=[],s=[];return t.forEach((function(t){t.owner||"0"!==t.id?t.owner&&""!==t.owner.id?e&&e.user&&e.user.id===t.owner.id?Object(y.e)(t.id)?s.push.apply(s,t.emotes):e.user.id!==t.owner.id||n.has(t.id)||i.push.apply(i,t.emotes):r.push(t):o.push.apply(o,t.emotes):a.push.apply(a,t.emotes)})),{channelCampaignEmotes:i,globalEmotes:a,otherChannelEmoteSets:N(r),unlockedEmotes:o,channelBitsTierEmotes:s}})),n.getSubProducts=Object(m.a)((function(e){return e&&e.user&&e.user.subscriptionProducts?Object(g.b)(e.user.subscriptionProducts):[]})),n.getChannelSubEmotes=Object(m.a)((function(e,t){return O(e,t)})),n.getSortedChannelEmotes=Object(m.a)((function(e,t,n){var i=[],a=[];return e.forEach((function(e){e.isLocked?i.push(e):a.push(e)})),Object(_.d)(t.concat(a,i,n))})),n.handleSubEvent=function(e){e.action===M.a.ClickCheckout&&n.checkAndDisplaySubscriptionCheckout();var t=n.props.channelData,i=null;if(t){var r=t.user;r&&r.self&&r.self.cumulativeTenure&&(i=r.self.cumulativeTenure.months)}Object(M.c)(Object(a.__assign)(Object(a.__assign)({},e),{action:M.a.ClickCheckout,channelID:t&&t.user&&t.user.id||"",channelLogin:t&&t.user&&t.user.displayName||"",cumulativeTenureMonths:i,isMenuOpen:null,hasSubCredit:null,sub_location:"emote_picker",modal:!1,showPrimeContent:!0,giftRecipient:null}))},n.state={frequentlyUsedEmotes:t.isLoggedIn?[]:Object(w.b)()},n}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"gqlError",{get:function(){var e=this.props,t=e.emoteSetsData,n=e.channelData;return t&&!!t.error||n&&!!n.error||!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gqlLoading",{get:function(){return!this.checkDataLoaded(this.props)},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){Object(w.c)(),this.checkDataLoaded(this.props)&&(this.props.onLoad&&this.props.onLoad(this.checkForContent(this.props)),this.props.latencyTracking.reportInteractive())},t.prototype.componentDidUpdate=function(e){if(this.gqlError||(e.pubsub.messages.subscriptionInfo!==this.props.pubsub.messages.subscriptionInfo&&(this.props.channelData&&this.props.channelData.refetch(),this.props.emoteSetsData&&this.props.emoteSetsData.refetch()),this.checkDataLoaded(this.props)&&(this.props.latencyTracking.reportInteractive(),this.props.onLoad&&this.props.onLoad(this.checkForContent(this.props)))),e.visible!==this.props.visible){if(this.props.openEmotePicker(),this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap){var t=Object(w.d)(this.props.emoteSetsData.emoteMap);this.setState({frequentlyUsedEmotes:t})}}else e.visible&&!this.props.visible&&this.props.closeEmotePicker()},t.prototype.componentWillUnmount=function(){this.props.closeEmotePicker()},t.prototype.render=function(){var e=this.props,t=e.channelData,n=e.emoteSetsData;if(!this.props.visible)return null;var i=t&&t.user?t.user.displayName:null,a=t&&t.user?t.user.profileImageURL:null,o=t&&t.user?t.user.login:null,s=this.getAllEmoteSets(n),c=this.getOwnedSetIDs(n),l=this.getSubProducts(t),d=this.getMappedEmotes(t,s,this.getSubProductSetIDs(t)),u=d.channelCampaignEmotes,m=d.globalEmotes,p=d.otherChannelEmoteSets,h=d.unlockedEmotes,f=d.channelBitsTierEmotes,g=this.getChannelSubEmotes(c,l);return r.createElement(de,{allEmoteSets:s,channelDisplayName:i,channelID:this.props.channelOwnerID,channelLogin:o,channelProfileImageURL:a,channelSubEmotes:g,channelSubscriptionProducts:l,direction:this.props.direction,emotePickerSessionID:this.props.emotePickerSessionID,emotePickerSource:this.props.emotePickerSource,frequentlyUsedEmotes:this.state.frequentlyUsedEmotes,globalEmotes:m,gqlError:this.gqlError,handleSubAction:this.handleSubEvent,isCommerceDisabled:this.props.isCommerceDisabled,isLoggedIn:this.props.isLoggedIn,loading:this.gqlLoading,offsetX:this.props.offsetX,onClickClose:this.props.onClickClose,onClickEmote:this.props.onClickEmote,ownedSetIDs:c,otherChannelEmoteSets:p,roomID:this.props.roomID,size:this.props.size,sortedChannelEmotes:this.getSortedChannelEmotes(g,u,f),toggleVisibility:this.props.toggleVisibility,unlockedEmotes:h})},t.prototype.checkDataLoaded=function(e){var t=!e.channelOwnerID||e.channelData&&!e.channelData.loading,n=!e.isLoggedIn||e.emoteSetsData&&!e.emoteSetsData.loading;return t&&n},t.prototype.checkForContent=function(e){var t=e.emoteSetsData,n=e.channelData;return!!(t&&t.emoteSets&&t.emoteSets.length>0)||!!(n&&n.user&&n.user.subscriptionProducts)&&Object(g.b)(n.user.subscriptionProducts).filter(this.subscriptionProductHasEmotes).length>0},t.prototype.subscriptionProductHasEmotes=function(e){return null!==e.emoteSetID&&!!e.emotes&&e.emotes.length>0},t.prototype.checkAndDisplaySubscriptionCheckout=function(){var e=s.n.get(C.a.SUB_CHECKOUT__PRODUCT_KEY,""),t=s.n.get(C.a.SUB_CHECKOUT__RECIPIENT_KEY,""),n=s.n.get(C.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,""),i=Number(n);e&&(this.props.channelData&&this.props.channelData.user&&this.props.channelData.user.subscriptionProducts&&this.props.channelData.user.subscriptionProducts.map((function(e){return e?e.name:null})).includes(e)?this.props.sessionUser?this.props.showSubscriptionCheckout({recipientLogin:t,productName:e,mysteryGiftCount:i,trackingContext:{source:E.c.EmotePicker}}):this.props.showLoginModal():C.a.clearSubscriptionCheckoutKeys())},t}(r.PureComponent);var pe=Object(u.d)(Object(i.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id,emotePickerSessionID:e.chat&&e.chat.emotePickerSessionID||null,sessionUser:e.session.user,isLoggedIn:Object(b.f)(e)}}),(function(e){return Object(u.b)({closeEmotePicker:k.A,openEmotePicker:k.M,showLoginModal:C.a.showLoginModalWithCheckoutDispatch(v.a.EmotePickerSubscriptionButton),showSubscriptionCheckout:S.a},e)})),Object(p.a)(ue,{name:"channelData",skip:function(e){return!e.channelOwnerID},options:function(e){return{variables:{channelOwnerID:e.channelOwnerID}}}}),Object(h.a)([{topic:function(e){return"user-subscribe-events-v1."+e.currentUserID},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:function(e){return!e.currentUserID}}]),Object(I.withLatencyTracking)("EmotePicker"),Object(f.a)(),Object(T.withWatchPartyContext)(T.mapWatchPartyStateToChatProps))(me),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasInteracted:!1,isEmotePickerMenuVisible:!1,isEmotePickerButtonVisible:!1},t.onClickOut=function(){t.setState({isEmotePickerMenuVisible:!1})},t.onClickEmote=function(e,n){t.props.onClickEmote&&t.props.onClickEmote(e,n)},t.toggleEmotePicker=function(){t.setState((function(e){return{isEmotePickerMenuVisible:!e.isEmotePickerMenuVisible}}))},t.onEmotePickerDataLoaded=function(e){e&&t.setState({isEmotePickerButtonVisible:!0})},t.onInteraction=function(){return t.setState({hasInteracted:!0})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive(),this.props.inputRef&&(this.props.inputRef.addEventListener("mouseenter",this.onInteraction),this.props.inputRef.addEventListener("focus",this.onInteraction))},t.prototype.componentWillUnmount=function(){this.props.inputRef&&(this.props.inputRef.removeEventListener("mouseenter",this.onInteraction),this.props.inputRef.removeEventListener("focus",this.onInteraction))},t.prototype.render=function(){var e=null;this.state.isEmotePickerButtonVisible&&(e=r.createElement(d,{onClick:this.toggleEmotePicker,isActive:this.state.isEmotePickerMenuVisible}));var t=null;this.hasInteractedOrPageload&&(t=r.createElement(pe,{channelOwnerID:this.props.channelOwnerID,emotePickerSource:this.props.emotePickerSource,onClickClose:this.toggleEmotePicker,onClickEmote:this.onClickEmote,onLoad:this.onEmotePickerDataLoaded,offsetX:this.props.offsetX,toggleVisibility:this.toggleEmotePicker,visible:this.state.isEmotePickerMenuVisible,direction:this.props.direction}));var n=r.createElement(A.a,Object(a.__assign)({className:"emote-picker-and-button"},this.layoutProps),e,t);return this.props.shouldCloseOnClickOut?r.createElement(o.a,{onClickOut:this.onClickOut},n):n},Object.defineProperty(t.prototype,"hasInteractedOrPageload",{get:function(){return!(!this.props.firstPageLoaded&&!this.state.hasInteracted)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutProps",{get:function(){var e={attachTop:!!this.props.attachTop,attachRight:!!this.props.attachRight,attachBottom:!!this.props.attachBottom,attachLeft:!!this.props.attachLeft,padding:this.props.padding};return this.props.position&&(e.position=this.props.position),e},enumerable:!0,configurable:!0}),t}(r.Component),fe=Object(I.withLatencyTracking)("EmotePicker")(he);var ge=Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}))(fe);n("cpJf");n.d(t,"a",(function(){return ge})),n.d(t,"c",(function(){return pe})),n.d(t,"b",(function(){return d}))},"mr+n":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var i=n("/7QA"),a=30,r=[1,3,5,10,20,30,60,120];function o(e){switch(e){case 1:return Object(i.d)("1 second","SlowModeLabel");case 3:return Object(i.d)("3 seconds","SlowModeLabel");case 5:return Object(i.d)("5 seconds","SlowModeLabel");case 10:return Object(i.d)("10 seconds","SlowModeLabel");case 20:return Object(i.d)("20 seconds","SlowModeLabel");case 30:return Object(i.d)("30 seconds (default)","SlowModeLabel");case 60:return Object(i.d)("60 seconds","SlowModeLabel");case 120:return Object(i.d)("120 seconds","SlowModeLabel");default:return i.k.warn("[SlowModeLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 1:return Object(i.d)("1s","SlowModeShorthand");case 3:return Object(i.d)("3s","SlowModeShorthand");case 5:return Object(i.d)("5s","SlowModeShorthand");case 10:return Object(i.d)("10s","SlowModeShorthand");case 20:return Object(i.d)("20s","SlowModeShorthand");case 30:return Object(i.d)("30s","SlowModeShorthand");case 60:return Object(i.d)("60s","SlowModeShorthand");case 120:return Object(i.d)("120s","SlowModeShorthand");default:return Object(i.d)("custom","SlowModeShorthand")}}},mziE:function(e,t,n){},nAiT:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return p}));var i=n("q1tI"),a=n("4rCz"),r=n("+80q"),o=n("Jsra");function s(){return Object(a.d)("Channel Points","ChannelPoints")}function c(){return Object(a.d)("This reward is temporarily out of stock.","ChannelPoints")}function l(e){return Object(a.d)("<x:strong>Oops!</x:strong> This reward went out of stock. <x:link>Please try again later.</x:link>",{"x:strong":function(e){return i.createElement(r.a,{bold:!0,type:r.e.Span},e)},"x:link":function(t){return i.createElement(o.a,{onClick:e},t)}},"ChannelPoints")}function d(e,t){return e?Object(a.d)("{streamerName} has changed the reward requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints"):Object(a.d)("The broadcaster has changed the reward requirements. <x:link>Please try again.</x:link>",{"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints")}function u(e,t){return e?Object(a.d)("<x:strong>Oops!</x:strong> {streamerName} has changed this reward's requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:strong":function(e){return i.createElement(r.a,{bold:!0,type:r.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints"):Object(a.d)("<x:strong>Oops!</x:strong> The broadcaster has changed this reward's requirements. <x:link>Please try again.</x:link>",{"x:strong":function(e){return i.createElement(r.a,{bold:!0,type:r.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints")}function m(){return Object(a.d)("Channel Points early access","ChannelPointsSignupPage")}function p(){return Object(a.d)("Review Requests Queue","CustomRewardsList")}},nHtq:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PollCommandHandler_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:139}};n.loc.source={body:"query PollCommandHandler_ChannelData($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nroles {\nisAffiliate\nisPartner\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PollCommandHandler_ChannelData=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"PollCommandHandler_ChannelData")},nIRf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){var t=this;this.timerId=null,this.start=function(){t.timerId&&t.stop(),t.timerId=setInterval(t.onInterval,t.intervalMillis)},this.stop=function(){t.timerId&&(clearInterval(t.timerId),t.timerId=null)},this.restart=function(e){void 0===e&&(e=0),t.stop(),t.timerId=setTimeout((function(){t.onInterval(),t.start()}),e)},this.onInterval=e.onInterval,this.intervalMillis=e.intervalMillis}},nJ3O:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"customRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCustomReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isInStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPaused"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSubOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserInputRequired"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldRedemptionsSkipRequestQueue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prompt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}],loc:{start:0,end:345}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment customRewardFragment on CommunityPointsCustomReward {\nid\nbackgroundColor\ncost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisEnabled\nisInStock\nisPaused\nisSubOnly\nisUserInputRequired\nshouldRedemptionsSkipRequestQueue\nprompt\ntitle\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},nR4f:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmoteCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emoteID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"emoteID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProduct"},directives:[]}]}}]}}]}}],loc:{start:0,end:248}};i.loc.source={body:'#import "twilight/features/chat/components/emote-card/emote-subscription-product.gql"\nquery EmoteCard ($emoteID: ID!) {\nemote(id: $emoteID) {\nid\ntoken\nsetID\nowner {\nid\nlogin\ndisplayName\nstream {\nid\ntype\n}\n}\nsubscriptionProduct {\n...subProduct\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("HfAM").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.EmoteCard=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"EmoteCard")},na98:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("DMoW"),s=n("cys1"),c=n("9sGC"),l=n("+80q"),d=n("sUnt"),u=function(e){return e.entryDetails&&e.entryDetails.reason?a.createElement(d.a,{className:"targeted-mod-action__reason",padding:{x:1,y:0}},a.createElement(l.a,{italic:!0,type:l.e.Span},e.entryDetails.reason)):null},m=(n("k7qK"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=this.props.entry,n=new Date(t.timestamp).valueOf(),i=this.renderTimestamp(n),s=t.user&&t.user.login||"unknown",c=t.target&&t.target.login||"unknown",m=t.details&&t.details.durationSeconds||"unknown";switch(t.action){case o.Ob.BAN_USER:e=Object(r.d)("{modLogin} banned {target}.",{modLogin:a.createElement(l.a,{bold:!0,type:l.e.Span},s),target:c},"ViewerCardModLogsFeature");break;case o.Ob.TIMEOUT_USER:e=Object(r.d)("{modLogin} timed out {target} for {duration} seconds.",{modLogin:a.createElement(l.a,{bold:!0,type:l.e.Span},s),target:c,duration:m},"ViewerCardModLogsFeature");break;case o.Ob.UNBAN_USER:e=Object(r.d)("{modLogin} unbanned {target}.",{modLogin:a.createElement(l.a,{bold:!0,type:l.e.Span},s),target:c},"ViewerCardModLogsFeature");break;case o.Ob.UNTIMEOUT_USER:e=Object(r.d)("{modLogin} removed timeout on {target}.",{modLogin:a.createElement(l.a,{bold:!0,type:l.e.Span},s),target:c},"ViewerCardModLogsFeature");break;default:return null}return a.createElement(d.a,{className:"targeted-mod-action",padding:{x:1,y:.5}},i,a.createElement(l.a,{type:l.e.Span},e),a.createElement(u,{entryDetails:t.details}))},t.prototype.renderTimestamp=function(e){return a.createElement("span",{key:"timestamp",className:"message__timestamp","data-test-selector":c.b},Object(s.a)(new Date(e),!0))},t}(a.Component));n.d(t,"a",(function(){return m}))},nkgB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBuffer_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatDelayMs"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:118}};n.loc.source={body:"query MessageBuffer_Channel($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchatSettings {\nchatDelayMs\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MessageBuffer_Channel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"MessageBuffer_Channel")},nxZp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){this.bio=e.bio,this.createdAt=e.createdAt,this.displayName=e.displayName,this.id=e.id,this.logo=e.logo,this.name=e.name,this.type=e.type,this.updatedAt=e.updatedAt}},o8Ti:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("/7QA"),a="viewer_card_mod_logs",r="viewer_card_mod_logs_user_whitelist";function o(e){var t=i.b.get(a,!1),n=i.b.get(r,[]);return t||!(!e||!n.includes(e))}},oB8h:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Live="live",e.WatchParty="watch_party",e.Premiere="premiere",e.Rerun="rerun"}(i||(i={}))},oDQa:function(e,t,n){},oK83:function(e,t,n){"use strict";var i,a,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),function(e){e[e.unknown=0]="unknown",e[e.chat=1]="chat",e[e.room=2]="room",e[e.whisper=3]="whisper",e[e.vod=4]="vod"}(i||(i={})),function(e){e[e.chat_message=0]="chat_message",e[e.extension_message=1]="extension_message",e[e.member_list=2]="member_list",e[e.recent_raids=3]="recent_raids",e[e.room_message=4]="room_message",e[e.test=5]="test",e[e.user_command=6]="user_command",e[e.viewer_list=7]="viewer_list",e[e.viewer_list_mod_section=8]="viewer_list_mod_section",e[e.mega_cheer_notification=9]="mega_cheer_notification",e[e.bits_leaderboard=10]="bits_leaderboard",e[e.popout_button=11]="popout_button",e[e.hype_train=12]="hype_train"}(a||(a={})),function(e){e[e.Viewer=0]="Viewer",e[e.Extension=1]="Extension",e[e.Emote=2]="Emote"}(r||(r={}))},"oc+d":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"138"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"190"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creationState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoOffsetSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]}]}}],loc:{start:0,end:330}};i.loc.source={body:'#import "twilight/features/channel/queries/channel.gql"\nfragment channelClip on Clip {\nid\nbroadcaster {\n...channel\n}\ngame {\nid\nboxArtURL(width: 138 height: 190)\nname\ndisplayName\n}\nlanguage\ntitle\nslug\nviewCount\ncurator {\n...channel\n}\ncreatedAt\ncreationState\nurl\nvideoOffsetSeconds\nvideo {\nid\nbroadcastType\ntitle\n}\ndurationSeconds\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("BbLt").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},oe5X:function(e,t,n){"use strict";var i=n("XmgI"),a=n("RcPG"),r=n("0FG4"),o=n("mrSG"),s=n("VJH5");var c=n("i6WW"),l=n("gTu3"),d=n("6j5V"),u=/^(['"*([{</]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function m(e,t){if(!t)return!1;var n=t.displayName,i=t.login;return e===n||e.toLowerCase()===i}function p(e,t){void 0===t&&(t={});for(var n=e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)||[],i=function(e){if(!e)return[];var t=e.list.filter((function(t){return t.categories[s.a.Aggressive]&&e.preferences[s.a.Aggressive]||t.categories[s.a.Identity]&&e.preferences[s.a.Identity]||t.categories[s.a.Profanity]&&e.preferences[s.a.Profanity]||t.categories[s.a.Sexual]&&e.preferences[s.a.Sexual]}));return 0===t.length?t:(t.sort((function(e,t){return e.startIndex-t.startIndex})),t.reduce((function(e,t,n){if(0===n)return e.push(t),e;var i=e[e.length-1];return t.startIndex<=i.endIndex+1?(i.endIndex=Math.max(t.endIndex,i.endIndex),i.categories=Object(o.__assign)(Object(o.__assign)({},i.categories),t.categories)):e.push(t),e}),[]))}(t.flags),r=0,c=[];r<n.length;){var l=i&&i.shift();l?(c.push.apply(c,h(n.slice(r,l.startIndex),r,t)),c.push({type:a.a.FlaggedSegment,categories:l.categories,content:f(h(n.slice(l.startIndex,l.endIndex+1),l.startIndex,t)),length:l.endIndex-l.startIndex+1,originalText:n.slice(l.startIndex,l.endIndex+1).join("")}),r=l.endIndex+1):(c.push.apply(c,h(n.slice(r),r,t)),r=n.length)}return f(c)}function h(e,t,n){void 0===n&&(n={});var o=n.cheers,s=n.emotes,p=n.links,h=n.mentions,f="",v=0;return e.reduce((function(n,b,k){if(g(b))return f="",n;if(0===f.length&&(v=t+k),f+=b,k!==e.length-1&&!g(e[k+1]))return n;var y=s&&Object(r.c)(f,v,s);if(y)return n.concat(y);var S=o&&Object(i.f)(f,o);if(S)return n.concat(S);var C=p&&Object(c.a)(f,p);if(C)return n.concat(C);var E=h&&function(e,t){var n=e.match(u);if(!n)return null;var i=[],r=n[1],o=Boolean(n[2].length),s=n[3],c=e.slice(n[0].length);if(r.length&&i.push(Object(d.a)(r)),o){var p=l.a.Default;m(s,t.sessionUser)?p=l.a.Recipient:t.sessionUser&&t.sessionUser.login===t.senderLogin&&(p=l.a.Sender),i.push({type:a.a.Mention,content:{recipient:s,currentUserMentionRelation:p}})}else{if(!m(s,t.sessionUser))return null;i.push({type:a.a.CurrentUserHighlight,content:s})}return c.length&&i.push(Object(d.a)(c)),i}(f,h);return E?n.concat([E]):n.concat(Object(d.a)(f))}),[])}function f(e){return e.reduce((function(e,t,n){return 0===n?[].concat.call(e,t):[].concat.call(e,Object(d.a)(" "),t)}),[]).reduce((function(e,t,n){if(0===n)return e.concat(t);var i=e[e.length-1];return t.type===a.a.Text&&i.type===a.a.Text?(i.content=""+i.content+t.content,e):e.concat(t)}),[])}function g(e){return/\s/.test(e)}n.d(t,"a",(function(){return p}))},oi4T:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("/7QA"),o=n("DMoW"),s=n("2xye");!function(e){e.Everyone="everyone",e.ModsOnly="mod",e.StreamChat="twitch_chat",e.SubsOnly="sub"}(i||(i={})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var c=function(e){var t;switch(e.roomMinimumRole){case o.vc.EVERYONE:t=i.Everyone;break;case o.vc.MODERATOR:t=i.ModsOnly;break;case o.vc.SUBSCRIBER:t=i.SubsOnly;break;default:t=i.StreamChat}var n={channel:e.channelLogin,chatroom_type:t,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.channelID&&(n.channel_id=e.channelID),e.roomID&&(n.chatroom_id=e.roomID),n},l=function(e){var t;switch(e.roomMinimumRole){case o.vc.EVERYONE:t=i.Everyone;break;case o.vc.MODERATOR:t=i.ModsOnly;break;case o.vc.SUBSCRIBER:t=i.SubsOnly;break;default:t=i.StreamChat}var n={channel:e.channelLogin,room_type:t,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.roomID&&(n.room_id=e.roomID),e.room&&(n.room=e.room),n},d=function(e){r.o.track(s.SpadeEventType.ChatRoomJoined,c(e))},u=function(e){r.o.track(s.SpadeEventType.ChatRoomWatched,Object(a.__assign)(Object(a.__assign)({},c(e)),{channel_id:e.channelID}))}},okS7:function(e,t,n){"use strict";n("kPBf");var i,a=n("mrSG"),r=n("q1tI"),o=n("8Ad5"),s=n("1rIY"),c=n("uu1w"),l=n("/7QA"),d=n("2xye"),u={Chat:"chat",Feed:"feed",Whisper:"whisper"},m="/",p=":",h="#",f="@",g=function(e){switch(e){case c.a.Command:return m;case c.a.Emote:return p;case c.a.Hashtag:return h;case c.a.Mention:return f;default:return void l.k.warn("Chat Suggestions tracking was passed an unknown autocomplete type.")}},v=function(e){var t=g(e.autocompleteType);if(t){var n={channel:e.channelLogin,completed_text:e.completedText,source:e.source,start_character:t};l.o.track(d.SpadeEventType.ChatSuggestionComplete,n)}},b=n("3aAs"),k=n("Kae6");!function(e){e.Input="input",e.TextArea="textarea"}(i||(i={}));var y=Object(s.a)("Autocomplete",{registerAutocompleteProvider:function(){return function(){return null}}}),S=y.withContext,C=y.context,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={autocompleteType:c.a.None,matchedCursorPosition:0,matches:null,value:""},t.providers=[],t.contextForChildren={registerAutocompleteProvider:t.registerAutocompleteProvider.bind(t)},t.onChange=function(e){t.setState({value:e.target.value},(function(){t.getMatches()})),t.props.onChange&&t.props.onChange(e)},t.onKeyDown=function(e){var n=function(){t.props.onKeyDown&&t.props.onKeyDown(e)},i=function(){e.preventDefault(),e.stopPropagation()},a=e.charCode||e.keyCode;if(a!==o.a.Enter){switch(a){case o.a.Tab:if(!t.state.matches)t.getMatches(!0)&&i();break;case o.a.Esc:t.state.matches&&(i(),t.resetDisplayState())}n()}else n()},t.setComponentRefDelegate=function(e){t.componentRef=e,t.props.componentRefDelegate&&t.props.componentRefDelegate(e)},t.getMatches=function(e){var n=t.state.value;if(0===t.providers.length||0===n.length)return t.resetDisplayState(),!1;var i=t.getCurrentCursorPosition();if(i>n.length);else for(;i<n.length&&!/\s/.test(n.charAt(i));)i++;var a=n.substring(0,i);if(0===a.length||/\s/.test(a.substring(a.length-1)))return t.resetDisplayState(),!1;for(var r=a.split(/\s/),o=r.length-1,s=r[o],c=0,l=t.providers;c<l.length;c++){var d=l[c];if(!e||d.canBeTriggeredByTab){var u=d.getMatches(s,e,o);if(u)return t.props.onMatch&&t.props.onMatch(u,t.insertReplacement,t.resetDisplayState),t.setState({autocompleteType:d.autocompleteType,matchedCursorPosition:i,matches:u}),!0}}return t.resetDisplayState(),!1},t.resetDisplayState=function(e,n){t.props.onReset&&t.props.onReset();var i=Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},t.state),{autocompleteType:c.a.None,matches:null}),e||{});t.setState(i,n)},t.insertReplacement=function(e){var n,i=t.state.value,r=t.state.matchedCursorPosition,o=i.substring(0,r),s=o.lastIndexOf(e.current);if(-1===s)o=o.concat(e.replacement+" "),r=o.length;else{var c=o.substring(0,s),l=i.length>s+e.current.length?i.substring(s+e.current.length):"",d=l.startsWith(" ")?e.replacement:e.replacement+" ";o=""+c+d+l;var u=t.getNextCursorSelection(c,d,l,e);r=u.start,n=u.end}v(Object(a.__assign)(Object(a.__assign)({},t.props.trackingParams||{}),{autocompleteType:t.state.autocompleteType,completedText:e.replacement,source:t.props.suggestionSource})),t.resetDisplayState({value:o},(function(){t.setCursorSelection(r,n)}))},t.getCurrentCursorPosition=function(){return t.componentRef.selectionStart||0},t.getNextCursorSelection=function(e,t,n,i){var a=e.length+t.length;if(i.selection){var r=t.indexOf(i.selection);return{start:e.length+r,end:n.startsWith(" ")?a:a-1}}return{start:a,end:a}},t.setCursorSelection=function(e,n){t.componentRef&&(t.componentRef.setSelectionRange(e,n||e),t.componentRef.focus())},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.refDelegate&&this.props.refDelegate(this)},t.prototype.componentDidUpdate=function(e,t){t.value!==this.state.value&&this.props.onValueUpdate&&this.props.onValueUpdate(this.state.value),!t.matches&&this.state.matches&&function(e){var t=g(e.autocompleteType);if(t){var n={source:e.source,start_character:t};l.o.track(d.SpadeEventType.ChatSuggestion,n)}}({autocompleteType:this.state.autocompleteType,source:this.props.suggestionSource})},t.prototype.render=function(){var e=Object(a.__assign)(Object(a.__assign)({},this.props),{onChange:this.onChange,onKeyDown:this.onKeyDown,refDelegate:this.setComponentRefDelegate,value:this.state.value});return r.createElement(C.Provider,{value:this.contextForChildren},this.props.componentType===i.Input?r.createElement(b.a,Object(a.__assign)({},e,{type:e.type||b.c.Text})):r.createElement(k.a,Object(a.__assign)({},e,{autoComplete:e.htmlAutocomplete})),this.props.children)},t.prototype.getValue=function(){return this.state.value},t.prototype.setValue=function(e){this.resetDisplayState({value:e})},t.prototype.registerAutocompleteProvider=function(e){var t=this;return this.providers.push(e),function(){var n=t.providers.indexOf(e);t.providers.splice(n,1)}},t}(r.Component),w=n("u5aL"),_=n("sUnt"),N=n("hnjF"),O=n("ygYM"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={matches:null},t.onMatchSelect=function(e){t.insertReplacement&&t.insertReplacement(e)},t.onDismiss=function(){t.resetDisplayState&&t.resetDisplayState()},t.setMatches=function(e,n,i){t.insertReplacement||(t.insertReplacement=n),t.resetDisplayState||(t.resetDisplayState=i),t.setState({matches:e})},t.reset=function(){t.setState({matches:null})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(r.Fragment,null,this.state.matches&&r.createElement(_.a,{position:N.j.Relative},r.createElement(w.a,{onClickOut:this.onDismiss},r.createElement(O.a,{direction:O.b.TopLeft,"data-test-selector":"autocomplete-balloon",show:!0},r.createElement(_.a,{padding:{bottom:.5}},r.createElement(L,{matches:this.state.matches,onMatchSelect:this.onMatchSelect,onDismiss:this.onDismiss,containerElement:this.props.containerElement}))))),r.createElement(E,Object(a.__assign)({},this.props,{onMatch:this.setMatches,onReset:this.reset})))},t}(r.Component),I=n("8/mp"),M=n("G9mL"),T=n("3Czn"),P=n("i4Ys"),j=n("X2PJ"),F=n("+80q"),R="autocomplete-match-list-matches",L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.resizeAnimationFrame=0,t.messages={noMatches:Object(l.d)("No matches.","AutocompleteBalloon")},t.logger=l.k.withCategory("AutocompleteMatchList"),t.renderMatches=function(){var e=new Set,n=[];return t.groupMatches().forEach((function(i,a){var o=i.group;o&&!e.has(o)&&(0!==a&&n.push(r.createElement(M.a,{key:"autocomplete-separator-"+a})),n.push(r.createElement(_.a,{key:"autocomplete-heading-"+a,padding:{x:.5}},r.createElement(T.a,null,o))),e.add(o)),n.push(t.renderMatchListItem(i,a))})),n},t.renderMatchListItem=function(e,n){var i=t.state.selectedMatch,a=i&&i.replacement===e.replacement;return r.createElement(_.a,{"data-test-selector":R,key:"autocomplete-match-"+n,refDelegate:a?t.focusOnOption:void 0},r.createElement(P.a,{borderRadius:j.b.Small,"data-a-target":e.replacement,"data-click-index":n,hover:a,onClick:t.onMatchClick,onMouseEnter:t.handleMatchMouseEnter,selected:a,type:P.b.Alpha},r.createElement(_.a,{alignItems:N.b.Center,display:N.d.Flex,padding:{x:.5}},e.element)))},t.handleMatchMouseEnter=function(e){var n=t.getMatchFromEvent(e);n&&t.setState({selectedMatch:n})},t.onMatchClick=function(e){var n=t.getMatchFromEvent(e);n&&t.props.onMatchSelect(n)},t.getMatchFromEvent=function(e){var n=t.groupMatches(),i=e.currentTarget.getAttribute("data-click-index");return!i||+i>=n.length?(t.logger.errorAndReport(new Error,"The index received from the UI element was not found in props.matches."),null):n[+i]},t.handleKeydown=function(e){var n=e.charCode||e.keyCode,i=function(){e.preventDefault(),e.stopPropagation()};switch(n){case o.a.Tab:case o.a.Enter:i(),t.props.matches.length&&t.state.selectedMatch?t.props.onMatchSelect(t.state.selectedMatch):t.props.onDismiss();break;case o.a.Up:case o.a.Down:if(!t.state.selectedMatch||!t.props.matches.length)return;var a=t.groupMatches(),r=a.indexOf(t.state.selectedMatch);if(-1===r)return void t.logger.errorAndReport(new Error,"The selected match was not found in props.matches.");i();var s=n===o.a.Up?-1:1,c=a[t.getIndexWithinLength(r+s,t.props.matches.length)];t.setState({selectedMatch:c})}},t.groupMatches=function(){for(var e={},n=0,i=t.props.matches;n<i.length;n++){var a=i[n];(l=e[c=a.group||"undefined"]||[]).push(a),e[c]=l}for(var r=[],o=0,s=Object.keys(e).sort(t.sortGroups);o<s.length;o++){var c,l;(l=e[c=s[o]])&&r.push.apply(r,l)}return r},t.sortGroups=function(e,t){return"undefined"===e?1:"undefined"===t?-1:e>t?1:e<t?-1:0},t.getIndexWithinLength=function(e,t){var n=e%t;return n<0?n+t:n},t.onResize=function(){t.resizeAnimationFrame||(t.resizeAnimationFrame=requestAnimationFrame(t.setContainerHeight))},t.setContainerHeight=function(){var e=t.props.containerElement&&t.props.containerElement.clientHeight||1080;t.scrollableArea&&t.scrollableArea.root&&(t.scrollableArea.root.style.maxHeight=e+"px"),t.resizeAnimationFrame=0},t.focusOnOption=function(e){if(e&&t.AutocompleteMatchListElement){var n=e.getBoundingClientRect(),i=t.AutocompleteMatchListElement.getBoundingClientRect();(n.bottom>i.bottom||n.top<i.top)&&e.scrollIntoView()}},t.setAutocompleteMatchListElement=function(e){t.AutocompleteMatchListElement=e},t.setScrollableAreaRef=function(e){return t.scrollableArea=e},t}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.matches.reduce((function(e,n,i){return t.selectedMatch?n.replacement===t.selectedMatch.replacement?i:e:0}),0);return{selectedMatch:e.matches[n]}},t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.handleKeydown,!0),window.addEventListener("resize",this.onResize,!0),this.setContainerHeight(),this.props.matches.length>0&&this.setState({selectedMatch:this.props.matches[0]})},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),window.removeEventListener("keydown",this.handleKeydown,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},t.prototype.render=function(){var e;return e=0===this.props.matches.length?r.createElement(_.a,{padding:{x:.5},"data-test-selector":"autocomplete-match-list-no-matches"},r.createElement(F.a,{type:F.e.Span,color:j.c.Alt2},this.messages.noMatches)):this.renderMatches(),r.createElement(_.a,{position:N.j.Relative,padding:{top:.5,x:.5}},r.createElement(N.g,{"data-test-selector":"autocomplete-matches-container",className:"autocomplete-match-list",overflow:N.i.Hidden,display:N.d.Flex,flexDirection:N.e.Column},r.createElement("div",{ref:this.setAutocompleteMatchListElement},r.createElement(I.b,{suppressScrollX:!0,scrollRef:this.setScrollableAreaRef},r.createElement(_.a,null,e)))))},t}(r.Component),A=n("hbnN"),U=n("lZdE"),x=n("OpME"),B=(n("gDzh"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=c.a.Emote,t.canBeTriggeredByTab=!1,t.hydrateEmotes=Object(A.a)((function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];a&&a.id&&a.emotes&&t.push({id:a.id,emotes:Object(x.b)(a.emotes)})}return t})),t.getMatches=function(e){return e.startsWith(":")?e.length<3?null:t.getMatchedEmotes(e):null},t.getMatchedEmotes=function(e){var n=t.hydrateEmotes(t.props.emotes);if(!n||0===n.length)return null;var i=e.substring(1),a=n.reduce((function(e,n){var a=n.emotes.filter((function(e){return t.doesEmoteMatchTerm(e,i)}));return e.concat(a)}),[]);return a=Object(x.d)(a),(a=Object(x.e)(a,i)).map((function(e){return{current:":"+i,replacement:e.token,element:t.renderEmoteSuggestion(e)}}))},t.doesEmoteMatchTerm=function(e,t){var n=new RegExp("^"+Object(U.a)(t),"i");if(e.token.match(n))return!0;var i=new RegExp(""+Object(U.a)(t.charAt(0)).toUpperCase()),a=new RegExp("^"+Object(U.a)(t.slice(1)),"i"),r=e.token.match(i);return!!(r&&r.index&&e.token.slice(r.index+1).match(a))},t.renderEmoteSuggestion=function(e){return[r.createElement(_.a,{padding:.5,flexShrink:0,key:"emote-img-"+e.id},r.createElement("img",{alt:e.token+"-emote",className:"emote-autocomplete-provider__image",srcSet:e.srcSet})),r.createElement(F.a,{type:F.e.Span,key:"emote-text-"+e.id,ellipsis:!0},e.token)]},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t}(r.Component)),V=S((function(e){return e}))(B);n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return D})),n.d(t,"b",(function(){return L})),n.d(t,"f",(function(){return V})),n.d(t,"e",(function(){return u}))},olXY:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRestrictions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRestrictedReasons"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastRecentChatMessageAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requireVerifiedAccount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};n.loc.source={body:"query ChatRestrictions($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nchatRestrictedReasons\nlastRecentChatMessageAt\nfollower {\nfollowedAt\n}\n}\nchatSettings {\nrequireVerifiedAccount\n}\n}\ncurrentUser {\nid\nisEmailVerified\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatRestrictions=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatRestrictions")},p52R:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Admin="admin",e.GlobalMod="global_mod",e.Moderator="mod",e.Owner="owner",e.Staff="staff",e.Subscriber="subscriber",e.User=""}(i||(i={}))},pMvt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsChatPauseSetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};n.loc.source={body:"query SyncedSettingsChatPauseSetting {\ncurrentUser {\nid\nchatUISettings {\nchatPauseSetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsChatPauseSetting=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsChatPauseSetting")},pU2t:function(e,t,n){"use strict";var i=n("mrSG"),a=n("XmgI"),r=n("ahza"),o=n("DpwM"),s=n("a1OF"),c=function(e,t,n){var i=e.bits_spent,a=e.body,r=e.emoticons,o=e.is_action,c=e.user_color,l=e.user_notice_params,d=function(e){void 0===e&&(e=[]);return e.reduce((function(e,t){return e[t.begin]={id:t._id,startIndex:t.begin},e}),{})}(r);return{id:"1",isAction:o,tokens:Object(s.e)(a,d,i||0,n,t),userColor:c||Object(s.b)(t),userNoticeParams:l||void 0}};var l=n("XeJ1");n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return v}));var d="comment";function u(e){return Object(r.e)(e)?{message:e.message,parent_id:e.parentId}:{content_id:e.contentId,content_offset_seconds:e.contentOffsetSeconds,content_type:e.contentType,message:e.message}}var m=function(e){return{comments:[v.normalizeRecord(e,a.a)],users:[l.a.normalizeRecord(e.commenter)]}},p=function(e,t){var n=Object(i.__assign)(Object(i.__assign)({},e),{more_replies:t.moreReplies});return{comments:[v.normalizeRecord(n,a.a)],users:[l.a.normalizeRecord(e.commenter)]}},h=function(e,t){var n=e.comments.map((function(e){return l.a.normalizeRecord(e.commenter)})),i={past:o.g,future:o.g};return void 0!==e._next&&(i.future=e._next),void 0!==e._prev&&(i.past=e._prev),{comments:e.comments.reduce((function(e,i){return i.replies&&i.replies.map((function(e){n.push(l.a.normalizeRecord(e.commenter))})),e.concat(v.normalizeRecords(i,t))}),[]),cursor:i,users:n}},f=function(e){var t=e.comments.map((function(e){return l.a.normalizeRecord(e.commenter)}));return{comments:e.comments.map((function(e){return v.normalizeRecord(e,a.a)})),cursor:{future:e._next||o.g},users:t}};function g(e){return e.reduce((function(e,t){return e[t._id]=t.version,e}),{})}var v={normalizeRecords:function(e,t){var n=[v.normalizeRecord(e,t)];return Array.isArray(e.replies)&&e.replies.forEach((function(e){n.push(b.normalizeRecord(e,t))})),n},normalizeRecord:function(e,t){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:c(e.message,e.commenter._id,t),moreReplies:e.more_replies||!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:g(e.message.user_badges||[])}}},b={normalizeRecord:function(e,t){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:c(e.message,e.commenter._id,t),moreReplies:!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:g(e.message.user_badges||[])}}}},pb7T:function(e,t,n){"use strict";var i=n("q1tI"),a=n("Ws8v"),r=n("IbuL"),o=n("C7sF"),s=(n("wpfL"),function(){return i.createElement(a.a,{className:"warning-modifier-tray-icon"},i.createElement(r.a,{asset:o.a.NotificationWarning}))});n.d(t,"a",(function(){return s}))},ptRJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("ZtEv"),r=n("a1OF"),o=n("aF6k");function s(e,t,n,s,c,l,d){return void 0===l&&(l=!1),void 0===d&&(d=!1),Object(i.__assign)(Object(i.__assign)({},Object(r.a)(t,n,s,c,l,d)),{type:a.b.Message,messageType:e,id:n.id||Object(o.a)(n.username)})}},qCDY:function(e,t,n){"use strict";var i=n("mrSG"),a=n("1hWM"),r=n("q1tI"),o=n("fvjX"),s=n("/7QA"),c=n("4VQm"),l=n("GnwI"),d=n("i/Zp"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setIframeContainer=function(e){t.iframeContainer=e},t.onIframeDoubleClick=function(){var e=t.props.onExtensionDoubleClick;e&&e()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.installation,n=e.registerReceiver;this.unregister=n(this),this.props.latencyTracking.reportInteractive();var i=this.props,r=i.languageCode,o=i.locale;this.extensionFrameAPI=new a.ExtensionFrame({anchor:t.activationConfig.anchor,channelId:parseInt(this.props.channelID,10),configuration:t.configuration,dobbin:{trackEvent:s.o.track.bind(s.o)},extension:t.extension,features:{bits:!0,sharePubsub:!0},iframeClassName:this.props.className,installationAbilities:t.abilities,locale:o,loginId:this.props.loginID?parseInt(this.props.loginID,10):null,language:r,mode:this.props.extensionMode,onBeginPurchase:this.props.onBeginPurchase,parentElement:this.iframeContainer,platform:a.ExtensionPlatform.Web,isPopout:this.props.isPopout,trackingProperties:{channel:this.props.channelLogin,device_id:s.p.session.deviceID,login:this.props.login,platform:s.p.tracking.getPlatform(),player_type:d.a.Site}}),this.props.saveExtensionAPI&&this.props.saveExtensionAPI(this.extensionFrameAPI),this.extensionFrameAPI.setVisible(!this.props.isHidden)},t.prototype.componentWillUnmount=function(){this.unregister&&this.unregister(),this.extensionFrameAPI&&this.extensionFrameAPI.destroy()},t.prototype.componentDidUpdate=function(e){var t=!e.isHidden,n=!this.props.isHidden;t!==n&&this.extensionFrameAPI.setVisible(n)},t.prototype.render=function(){return r.createElement("div",{style:{height:"100%"},ref:this.setIframeContainer,"data-test-selector":"iframe_container_selector",onDoubleClick:this.onIframeDoubleClick})},t.prototype.checkVisible=function(){this.extensionFrameAPI&&this.extensionFrameAPI.visibilityChanged()},t}(r.Component),m=Object(o.d)(Object(l.withLatencyTracking)("ExtensionFrame"),Object(c.d)((function(e){return{registerReceiver:e.registerReceiver}})))(u);n.d(t,"a",(function(){return m}))},qMs1:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelfModStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:89}};n.loc.source={body:"query SelfModStatus($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nisModerator\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SelfModStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SelfModStatus")},"qYg/":function(e,t,n){"use strict";var i,a=n("/MKj"),r=n("fvjX"),o=n("/0dD"),s=n("1/iK"),c=n("y5D0"),l=n("kRBY"),d=n("XDQu"),u=n("mrSG"),m=n("TSYQ"),p=n("w09P"),h=n("q1tI"),f=n("/7QA"),g=n("eJ65"),v=n("yR8l"),b=n("geRD"),k=n("J9w5"),y=n("I6K6"),S=n("sgJZ");!function(e){e.Channel="channel",e.TheatreMode="theatre_mode"}(i||(i={}));var C,E=n("2xye"),w=n("JcRA"),_=n("GnwI"),N=n("Ar2k"),O=n("b7S+"),D=n("C7sF"),I=n("Ws8v"),M=n("dEDE"),T=n("X2PJ"),P=n("hnjF"),j=n("sUnt"),F=n("+80q"),R=n("K/KT"),L=n("htqZ");!function(e){e.Toggle="type_toggle",e.Button="type_button"}(C||(C={}));var A=n("i46O"),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFollowing:!1,disableNotifications:!0},t.toggleNotificationsEnabled=function(){var e=t.getFollowData();if(e){var n=e&&e.id||"",i={disableNotifications:!t.state.disableNotifications,targetID:n},a={followUser:{__typename:"FollowUserPayload",follow:{__typename:"Follow",user:{__typename:"User",id:n,self:{__typename:"UserSelfConnection",follower:{__typename:"FollowerEdge",disableNotifications:!t.state.disableNotifications}}}}}};t.props.followUser(Object(b.b)(i,a)),t.setState((function(e){return{disableNotifications:!e.disableNotifications}}))}},t.setButtonContainerRef=function(e){t.buttonContainerRef!==e&&(t.removeEventListeners(),t.buttonContainerRef=e,t.addEventListeners())},t.onMouseEnter=function(){if(t.buttonContainerRef&&t.props.showTooltips&&t.state.isFollowing){var e=t.state.disableNotifications?Object(f.d)("Turn notifications on","LiveNotificationsToggle"):Object(f.d)("Turn notifications off","LiveNotificationsToggle");t.props.tooltipLayer.show({from:t.buttonContainerRef,label:e,direction:t.props.tooltipDirection||O.c.Right})}},t.onMouseLeave=function(){t.props.tooltipLayer.hide()},t}return Object(u.__extends)(t,e),t.getDerivedStateFromProps=function(e){var t=null;return e.followData&&e.followData?t=e.followData:!e.data||e.data.loading||e.data.error||(t=e.data.user),t?{isFollowing:t&&t.self&&t.self.follower&&null!==t.self.follower.disableNotifications||!1,disableNotifications:!(t&&t.self&&t.self.follower&&null!==t.self.follower.disableNotifications)||t.self.follower.disableNotifications}:null},t.prototype.componentDidMount=function(){this.addEventListeners();var e=this.getFollowData();if(e){var t=e.self&&e.self.follower&&e.self.follower.disableNotifications;this.setState({isFollowing:null!==t||!1,disableNotifications:t})}},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.render=function(){return this.props.toggleType&&this.props.toggleType===C.Button?this.renderTypeButton():this.renderTypeToggle()},t.prototype.renderTypeButton=function(){var e=this.state.disableNotifications,t=e?D.a.NotificationBell:D.a.NotificationBellFilled,n=e?D.a.NotificationBellFilled:D.a.NotificationBellOff,i=m({"live-notifications-wrapper--off":e,"live-notifications-wrapper--on":!e});return h.createElement(I.a,{className:"live-notifications__btn","data-a-target":i,refDelegate:this.setButtonContainerRef},h.createElement(w.a,{tabIndex:this.props.tabIndex||0,icon:t,iconOnHover:n,type:M.d.Secondary,onClick:this.toggleNotificationsEnabled,darkModeEnabled:this.props.darkModeEnabled,disabled:!this.state.isFollowing,background:T.a.Base,"data-a-target":"notifications-toggle"}))},t.prototype.renderTypeToggle=function(){var e,t;return this.state.isFollowing?this.state.disableNotifications?(t="live-notifications-toggle__status-text--disabled",e=Object(f.d)("Opt in to notifications to receive updates on this channel's activity, including when they go live.","LiveNotificationsToggle")):(t="live-notifications-toggle__status-text--enabled",e=Object(f.d)("You will be notified on this channel's activity, including when they go live.","LiveNotificationsToggle")):(e=Object(f.d)("Follow this channel to receive notifications when they go live.","LiveNotificationsToggle"),t="live-notifications-toggle__status-text--not-following"),h.createElement(I.a,{color:T.c.Base,display:P.d.Flex,flexWrap:P.f.Wrap},h.createElement(j.a,{display:P.d.Flex,flexWrap:P.f.NoWrap,fullWidth:!0,justifyContent:P.h.Between},h.createElement(j.a,{display:P.d.Flex,padding:{right:2}},h.createElement("span",null,h.createElement(F.a,{fontSize:T.d.Size4,bold:!0},Object(f.d)("Notifications","LiveNotificationsToggle")))),h.createElement(j.a,{display:P.d.Flex,flexShrink:0},h.createElement(R.a,{onChange:this.toggleNotificationsEnabled,checked:!this.state.disableNotifications,"data-test-selector":"live-notifications-toggle__toggle","data-a-target":"notifications-toggle",disabled:!this.state.isFollowing}))),h.createElement(j.a,{display:P.d.InlineFlex,padding:{bottom:1}},h.createElement(F.a,{type:F.e.Span,color:T.c.Alt2,"data-test-selector":t},e)))},t.prototype.getFollowData=function(){return this.props.followData||this.props.data&&this.props.data.user},t.prototype.addEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.addEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.addEventListener("mouseleave",this.onMouseLeave))},t.prototype.removeEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.removeEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.removeEventListener("mouseleave",this.onMouseLeave))},t}(h.Component),x=Object(r.d)(Object(v.a)(A,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!(e.firstPageLoaded&&e.isLoggedIn&&e.channelLogin&&!e.followData)}}),Object(v.a)(L,{name:"followUser"}),Object(N.c)())(U);var B,V,H=Object(a.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:Object(l.f)(e),darkModeEnabled:Object(d.a)(e)===o.a.Dark}}))(x),q=n("PL8s"),G=n("vCsY"),W=n("7uM4"),z=n("ygYM"),Q=n("ZBeb"),Y=(n("Kcwz"),n("CZEr")),K=n("Qdxp"),X={followNotifyContainer:"",followBtnContainer:"",followBtn:""};!function(e){e.UnfollowButton="unfollow-button",e.UnfollowButtonLabel="unfollow-button-label",e.UnfollowButtonLabelHover="unfollow-button-label-hover",e.UnfollowButtonWithDropdown="unfollow-button__dropdown",e.FollowButton="follow-button",e.LiveNotificationsToggle="live-notifications-toggle"}(B||(B={})),function(e){e[e.IconOnly=0]="IconOnly",e[e.TextOnly=1]="TextOnly",e[e.IconAndText=2]="IconAndText"}(V||(V={}));var $=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFollowing:!1,showDropdown:!1,disableNotifications:!0,preventTransition:!0,followBtnTransitions:X},t.userDataLoaded=function(){return t.props.data&&!t.props.data.loading&&!t.props.data.error&&t.props.data.user},t.toggleFollowing=function(){return Object(u.__awaiter)(t,void 0,void 0,(function(){var e;return Object(u.__generator)(this,(function(t){switch(t.label){case 0:return e=this.getFollowData(),this.state.isFollowing?[3,2]:(this.trackFollow(E.SpadeEventType.FollowAttempt,e),[4,this.followUser()]);case 1:return t.sent(),this.trackFollow(E.SpadeEventType.Follow,e),[3,3];case 2:this.unfollowUser(),this.trackFollow(E.SpadeEventType.Unfollow,e),t.label=3;case 3:return this.hideTooltip(),this.setState({preventTransition:!1}),[2]}}))}))},t.followUser=function(){return Object(u.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a;return Object(u.__generator)(this,(function(r){switch(r.label){case 0:return e=this.getFollowData(),this.props.followUser&&e&&e.user&&e.user.id?(this.setState({showDropdown:!0}),t={followUser:{__typename:"FollowUserPayload",follow:{disableNotifications:!1,__typename:"Follow",user:{__typename:"User",id:e.user&&e.user.id,displayName:e.user&&e.user.displayName,login:e.user&&e.user.login,self:{__typename:"UserSelfConnection",follower:{__typename:"FollowerEdge",disableNotifications:!1}}}}}},n=Object(b.b)({disableNotifications:!1,targetID:e.user.id},t),[4,this.props.followUser(n)]):[2];case 1:return(i=r.sent()).data.followUser&&i.data.followUser.follow&&(a=i.data.followUser.follow,Object(b.i)(K,{login:this.props.channelLogin},(function(e){var t=e.user;return t&&t.self?t.self.follower?p(e,(function(e){return e.user.self.follower.disableNotifications}),(function(){return a.disableNotifications})):p(e,(function(e){return e.user.self.follower}),(function(){return{__typename:"FollowerEdge",disableNotifications:a.disableNotifications}})):e}))),this.props.onFollow&&this.props.onFollow(this.props.channelLogin),[2]}}))}))},t.unfollowUser=function(){return Object(u.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i=this;return Object(u.__generator)(this,(function(a){switch(a.label){case 0:return e=this.getFollowData(),this.props.unfollowUser&&e&&e.user&&e.user.id?(t={unfollowUser:{__typename:"UnfollowUserPayload",follow:{__typename:"Follow",disableNotifications:null}}},n=Object(u.__assign)(Object(u.__assign)({},Object(b.b)({targetID:e.user.id},t)),{update:function(e){var t=e.readQuery({query:K,variables:{login:i.props.channelLogin}});t&&t.user&&t.user.self&&(t=p(t,(function(e){return e.user.self.follower.disableNotifications}),(function(){return null}))),e.writeQuery({query:K,data:t})}}),[4,this.props.unfollowUser(n)]):[2];case 1:return a.sent(),this.props.onUnfollow&&this.props.onUnfollow(this.props.channelLogin),[2]}}))}))},t.getFollowData=function(){return t.props.followData?t.props.followData:t.props.data},t.setButtonContainerRef=function(e){t.buttonContainerRef!==e&&(t.removeEventListeners(),t.buttonContainerRef=e,t.addEventListeners())},t.setNotifyContainerRef=function(e){t.notifyContainerRef!==e&&(t.removeEventListeners(),t.notifyContainerRef=e,t.addEventListeners())},t.createFollowTransitions=function(){if(!t.buttonContainerRef||!t.notifyContainerRef||!t.state.isFollowing)return X;var e=t.notifyContainerRef.offsetWidth,n=t.buttonContainerRef.offsetWidth,i=e/n,a=1/i,r=(n-e)/2;return{followNotifyContainer:"translateX("+(t.props.alignRight?0:e-n)+"px)",followBtnContainer:"scaleX("+i+")",followBtn:"scaleX("+a+") translateX("+r+"px)"}},t.onMouseEnter=function(){t.buttonContainerRef&&t.notifyContainerRef&&t.state.isFollowing&&t.props.showTooltips&&t.props.tooltipLayer.show({from:t.buttonContainerRef,label:t.getUnfollowText(),direction:t.props.tooltipDirection||O.c.Right,elementWidth:t.notifyContainerRef.offsetWidth})},t.onMouseLeave=function(){t.hideTooltip()},t.hideTooltip=function(){t.props.tooltipLayer.hide()},t.login=function(){var e={},n=t.getFollowData();n&&(e.postLoginAction=t.toggleFollowing,e.targetChannel=t.props.channelName||t.props.channelLogin),e.showContext=!0,t.trackFollow(E.SpadeEventType.FollowAttempt,n),t.props.login(e)},t.updateFollowingNotificationsState=function(e){var n=e.user,i=!!t.isFollowing(n),a=n&&n.self&&n.self.follower&&!!n.self.follower.disableNotifications;t.state.isFollowing===i&&t.state.disableNotifications===a||t.setState({isFollowing:i,disableNotifications:a})},t}return Object(u.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractive(),this.addEventListeners(),this.setState({followBtnTransitions:this.createFollowTransitions()});var e=this.props.data||this.props.followData;e&&this.updateFollowingNotificationsState(e)},t.prototype.componentDidUpdate=function(e){this.props.channelLogin&&!this.userDataLoaded()||!this.props.updateContainerWidth||this.props.updateContainerWidth(),this.reportInteractive();var t=this.props.data&&this.props.data.loading;!this.state.preventTransition&&t&&this.setState({preventTransition:!0});var n=this.createFollowTransitions();this.state.followBtnTransitions.followBtn!==n.followBtn&&this.setState({followBtnTransitions:n});var i=this.props.data||this.props.followData;i&&this.updateFollowingNotificationsState(i);var a=e.channelLogin!==this.props.channelLogin;!this.props.data||this.props.data.loading||this.props.data.error?a&&this.setState({showDropdown:!1,preventTransition:!0}):this.updateFollowingNotificationsState(this.props.data)},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.render=function(){if(!this.props.isLoggedIn)return this.renderFollowButton(this.login);if(this.props.showLoadingPlaceholder&&(!this.props.data||this.props.data.loading))return this.renderPlaceholder();if(this.props.hideFollowButton||this.props.currentUserLogin===this.props.channelLogin||!this.props.followData&&(!this.props.data||this.props.data.loading||this.props.data.error||!this.props.data.user))return null;return!this.state.isFollowing||this.props.animatedButton?this.renderFollowButton(this.toggleFollowing):this.props.hideDropdownWhenFollowing?this.renderUnfollowButton():this.renderUnfollowButtonWithDropdown()},t.prototype.renderPlaceholder=function(){switch(this.props.size){case M.b.Large:return h.createElement(q.a,{width:this.props.fullWidthButton?void 0:95.8,height:36});case M.b.Small:return h.createElement(q.a,{width:this.props.fullWidthButton?void 0:73.17,height:24});default:return h.createElement(q.a,{width:this.props.fullWidthButton?void 0:80.09,height:30})}},t.prototype.renderFollowButton=function(e){var t=this.props.isHostedFollow&&this.props.channelName?Object(f.d)("Follow {username}",{username:this.props.channelName},"FollowButton"):Object(f.d)("Follow","FollowButton"),n=this.state,i=n.isFollowing,a=n.followBtnTransitions,r=null;if(this.props.animatedButton){var o=m("follow-btn__follow-notify-container",{"follow-btn__follow-notify-container--following":!!this.state.isFollowing,"follow-btn__follow-notify-container__align-right":this.props.alignRight}),s=m("follow-btn__follow-btn-container",{"follow-btn__follow-btn-container--following":!!this.state.isFollowing,"prevent-transition":this.state.preventTransition}),c=m("follow-btn__follow-btn",{"follow-btn__follow-btn--following":!!this.state.isFollowing,"prevent-transition":this.state.preventTransition}),l=m("follow-btn__notification-toggle-container",{"follow-btn__notification-toggle-container--visible":!!this.state.isFollowing}),d=i?B.UnfollowButton:B.FollowButton;r=h.createElement("div",{className:o,style:{transform:a.followNotifyContainer}},h.createElement(j.a,{display:P.d.Flex,overflow:P.i.Hidden,alignItems:P.b.Center,fullHeight:!0},h.createElement(I.a,{borderRadius:T.b.Medium,display:P.d.Flex,justifyContent:P.h.Center,flexDirection:P.e.Column,overflow:P.i.Hidden},h.createElement(j.a,{display:P.d.Flex,justifyContent:P.h.Center,flexDirection:P.e.Column},h.createElement("div",{className:s,style:{transform:a.followBtnContainer}},h.createElement("div",{className:c,style:{transform:a.followBtn},ref:this.setButtonContainerRef},h.createElement(w.a,{delayText:i?void 0:750,text:t,overlayButton:!i&&this.props.overlayButton,icon:i?D.a.Heart:D.a.FollowHollow,iconOnHover:i?D.a.Unheart:D.a.Heart,type:i?M.d.Secondary:M.d.Primary,typeOnHover:i?M.d.Alert:void 0,onClick:e,darkModeEnabled:this.props.darkModeEnabled,isFollowing:i,preventTransition:this.state.preventTransition,"data-a-target":d,"data-test-selector":d,background:i?T.a.Base:T.a.AccentAlt2}))))),h.createElement(j.a,{className:l,"data-test-selector":B.LiveNotificationsToggle,margin:{left:1}},h.createElement("div",{ref:this.setNotifyContainerRef},h.createElement(H,{channelLogin:this.props.channelLogin,toggleType:C.Button,tabIndex:this.state.isFollowing?0:-1,tooltipDirection:this.props.tooltipDirection,followData:this.props.followData&&this.props.followData.user||void 0,showTooltips:this.props.showTooltips})))))}else r=h.createElement(M.a,Object(u.__assign)({ariaLabel:t,overlay:this.props.overlayButton,blurAfterClick:this.props.blurAfterClick,"data-a-target":B.FollowButton,"data-test-selector":B.FollowButton,icon:this.getButtonIcon(),onClick:e,size:this.props.size,tabIndex:this.props.tabIndex,type:this.props.followButtonType||M.d.Primary,fullWidth:this.props.fullWidthButton},Object(G.a)(this.props)),this.props.followUIType===V.IconOnly?null:t);return r},t.prototype.renderUnfollowButton=function(e){var t=this.getUnfollowText(),n=m("follow-btn follow-btn--following",{"follow-btn--with-dropdown":e});return h.createElement("button",Object(u.__assign)({className:n,"aria-label":t,"data-a-target":B.UnfollowButton,"data-test-selector":B.UnfollowButton,tabIndex:this.props.tabIndex,onClick:this.toggleFollowing},Object(G.a)(this.props)),h.createElement(j.a,{padding:{x:.5},display:P.d.Flex,alignItems:P.b.Center,justifyContent:P.h.Center,className:"follow-btn__inner",fullWidth:!0,fullHeight:!0},h.createElement("span",{className:"follow-btn__label","data-test-selector":B.UnfollowButtonLabel},this.props.unfollowUIType!==V.TextOnly&&h.createElement(W.a,{asset:D.a.Heart}),this.props.unfollowUIType!==V.IconOnly&&h.createElement(j.a,{padding:{x:.5}},Object(f.d)("Following","FollowButton"))),h.createElement("span",{className:"follow-btn__label-hover","data-test-selector":B.UnfollowButtonLabelHover},this.props.unfollowUIType!==V.TextOnly&&h.createElement(W.a,{asset:D.a.Unheart}),this.props.unfollowUIType!==V.IconOnly&&h.createElement(j.a,{padding:{x:.5}},t))))},t.prototype.renderUnfollowButtonWithDropdown=function(){var e=this.props.balloonDirection?this.props.balloonDirection:z.b.BottomRight;return h.createElement(j.a,{display:P.d.Flex,className:"follow-btn","data-test-selector":B.UnfollowButtonWithDropdown},h.createElement(j.a,null,this.renderUnfollowButton(!0)),h.createElement(g.a,{display:P.d.InlineFlex,openByDefault:this.state.showDropdown},h.createElement(M.a,{tabIndex:this.props.tabIndex,ariaLabel:Object(f.d)("Dropdown","FollowButton"),"data-a-target":"follow-dropdown-toggle"},h.createElement(j.a,{justifyContent:P.h.Center,display:P.d.Flex,alignItems:P.b.Stretch,fullHeight:!0},h.createElement(W.a,{asset:D.a.GlyphArrDown}))),h.createElement(z.a,{size:z.c.Small,direction:e,"data-a-target":"follow-notifications-balloon"},h.createElement(j.a,{padding:1},h.createElement(H,{channelLogin:this.props.channelLogin})))))},t.prototype.isFollowing=function(e){return e&&e.self&&e.self.follower&&null!==e.self.follower.disableNotifications},t.prototype.getButtonIcon=function(){var e=this.props.hollowIcons&&!this.state.isFollowing?D.a.FollowHollow:D.a.Heart;return this.props.followUIType===V.TextOnly?void 0:e},t.prototype.reportInteractive=function(){Z(this.props)?this.props.latencyTracking.reportInteractive():this.props.data&&!this.props.data.loading&&this.props.latencyTracking.reportInteractive()},t.prototype.addEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.addEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.addEventListener("mouseleave",this.onMouseLeave))},t.prototype.removeEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.removeEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.removeEventListener("mouseleave",this.onMouseLeave))},t.prototype.getUnfollowText=function(){return this.props.isHostedFollow&&this.props.channelName?Object(f.d)("Unfollow {username}",{username:this.props.channelName},"FollowButton"):Object(f.d)("Unfollow","FollowButton")},t.prototype.trackFollow=function(e,t){t&&function(e,t){Object(u.__awaiter)(this,void 0,void 0,(function(){var n,i,a,r,o,s,c,l,d,m;return Object(u.__generator)(this,(function(u){switch(u.label){case 0:if(n=null,i=null,a=null,r=null,o=null,!t.channelID)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,f.p.apollo.client.query({query:S,variables:{id:t.channelID}})];case 2:return r=u.sent(),[3,4];case 3:return c=u.sent(),f.k.warn("Failed to make query for channel info in FollowEvent reporting.",{err:c,channelID:t.channelID}),[3,4];case 4:(a=r&&r.data&&r.data.user)?o=a.hosting&&a.hosting.stream&&a.hosting.stream.game?a.hosting.stream.game.name:a.stream&&a.stream.game&&a.stream.game.name:f.k.warn("Query for channel info in FollowEvent reporting returned no data.",{channelID:t.channelID}),u.label=5;case 5:if(!(l=f.o.getVideoPlayerTrackingData().vodID))return[3,10];u.label=6;case 6:return u.trys.push([6,8,,9]),[4,f.p.apollo.client.query({query:k,variables:{id:l}})];case 7:return n=u.sent(),[3,9];case 8:return d=u.sent(),f.k.warn("Failed to make query for VOD info in FollowEvent reporting.",{err:d,currentVODID:l}),[3,9];case 9:(i=n&&n.data&&n.data.video)?s=Object(y.a)(i.broadcastType):(s=null,f.k.warn("Query for video info in FollowEvent reporting return no data.",{currentVODID:l})),u.label=10;case 10:return m={channel:t.channelLogin,channel_id:t.channelID,channel_game:o,cta_visible:f.o.getVideoPlayerTrackingData().followCTAVisible,host_channel:t.hostChannelLogin,host_channel_id:t.hostChannelID,game:t.game,partner:a?a.isPartner:null,src:t.src,vod_id:l,vod_type:s},f.o.track(e,m),[2]}}))}))}(e,{channelLogin:t.user&&t.user.login||"",channelID:t.user&&t.user.id||"",hostChannelLogin:this.props.hostChannelLogin,hostChannelID:this.props.hostChannelID,src:this.props.followSource||i.Channel})},t}(h.Component),J=Object(r.d)(Object(v.a)(K,{options:function(e){return{variables:{login:e.channelLogin}}},skip:Z}),Object(v.a)(Q,{name:"followUser"}),Object(v.a)(Y,{name:"unfollowUser"}),Object(N.c)(),Object(_.withLatencyTracking)("FollowButton"))($);function Z(e){return!e.channelLogin||(!!e.followData||e.channelLogin===e.currentUserLogin)}var ee=Object(a.b)((function(e){var t=Object(l.e)(e);return{currentUserLogin:t&&t.login,isLoggedIn:Object(l.f)(e),darkModeEnabled:Object(d.a)(e)===o.a.Dark}}),(function(e){return Object(r.b)({login:function(e){return Object(c.e)(s.a.FollowButton,e)}},e)}))(J);n.d(t,"a",(function(){return ee})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){}))},qbNO:function(e,t,n){},quxh:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:271}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollChoice on PollChoice {\nid\ntitle\ntokens { ...pollTokenBreakdown }\ntotalVoters\nvotes { ...pollVoteBreakdown }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("/x02").definitions)),i.definitions=i.definitions.concat(r(n("wMQt").definitions)),e.exports=i},"r+cx":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointsImageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url2x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url4x"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};n.loc.source={body:"fragment pointsImageFragment on CommunityPointsImage {\nurl\nurl2x\nurl4x\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},r2Xj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={DarkMode:"darkMode",FollowerDuration:"followerDuration",FollowerMode:"followerMode",HideChat:"hideChat",ShowMessageFlags:"showMessageFlags",ShowAutoModActions:"showAutoModActions",ShowModActions:"showModerationActions",ShowModIcons:"showModIcons",ShowTimestamps:"showTimestamps",SlowModeDuration:"slowModeDuration",UseHighContrastColors:"useHighContrastColors",SlowMode:"slowMode",DeletedMessageDisplaySetting:"deletedMessageDisplaySetting",ChatPauseSetting:"chatPauseSetting"}},r7KY:function(e,t,n){"use strict";var i=n("q1tI"),a=n("wUQP"),r=n("tiJ6"),o=n("m7Uh"),s=n("PkcC"),c=n("sUnt"),l=(n("xDdc"),function(e){var t=Object(a.c)("dashboard_settings_color_form");return i.createElement(s.a,{inputColorHex:t&&e.primaryColorHex&&Object(o.b)("#"+e.primaryColorHex)?"#"+e.primaryColorHex:null},i.createElement(c.a,{className:"user-notice-line",margin:{y:.5},padding:{right:2,y:.5}},e.children))});l.displayName="UserNoticeLine";var d=Object(r.b)((function(e){return{primaryColorHex:e.primaryColorHex}}))(l);n.d(t,"a",(function(){return d}))},rCSd:function(e,t,n){},rEFn:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return _})),n.d(t,"f",(function(){return N}));var i,a,r,o,s=n("mrSG"),c=n("/7QA"),l=n("2xye"),d=n("H/lO"),u="search_tracking_enabled",m="search_session_id",p="search_query_id";!function(e){e.More="more",e.Back="back"}(a||(a={})),function(e){e.Game="game",e.Live="live",e.Channel="channel",e.VOD="vod",e.StreamTag="stream-tag",e.Tag="tag"}(r||(r={})),function(e){e.Popular="popular",e.Newest="newest"}(o||(o={}));var h,f=((i={})[d.a.Videos]=r.VOD,i[d.a.Users]=r.Live,i[d.a.Channels]=r.Channel,i[d.a.Games]=r.Game,i[d.a.StreamTags]=r.StreamTag,i[d.a.Tags]=r.Tag,i),g={0:"all",1:"past_broadcast",2:"upload",3:"highlight"},v={0:"any",1:"short",2:"long"};function b(e){return{sub_section:e.searchIndex&&f[e.searchIndex],button_type:e.buttonType}}function k(e){var t=e.vodFilter?e.vodFilter:0,n=e.lengthFilter?e.lengthFilter:0;return{sub_section:e.subSection,content_type:e.contentType,item_row:e.itemRow,item_index:e.itemIndex,channel:e.channel,channel_id:e.channelID,vod_id:e.vodID,game:e.game,tag_id:e.tagID,vod_filter:g[t],length_filter:v[n]}}function y(e){var t,n=Date.now();return(t={distinct_id:c.p.session.deviceID})[m]=e,t.time=n,t}function S(e,t,n){var i;return Object(s.__assign)(Object(s.__assign)({},y(e)),((i={})[p]=t,i.query=n,i))}function C(){return c.p.dynamicSettings.get(u,!1)}function E(e,t,n,i){C()&&c.p.tracking.track(l.SpadeEventType.SearchResultImpression,Object(s.__assign)(Object(s.__assign)({},S(e,t,n)),k(i)))}function w(e,t,n,i){C()&&c.p.tracking.track(l.SpadeEventType.SearchResultClick,Object(s.__assign)(Object(s.__assign)({},S(e,t,n)),k(i)))}function _(e,t,n,i){C()&&c.p.tracking.track(l.SpadeEventType.SearchUIImpression,Object(s.__assign)(Object(s.__assign)({},S(e,t,n)),b(i)))}function N(e,t,n,i){C()&&c.p.tracking.track(l.SpadeEventType.SearchUIClick,Object(s.__assign)(Object(s.__assign)({},S(e,t,n)),b(i)))}!function(e){e.Fail="fail",e.Success="success"}(h||(h={}))},rVcM:function(e,t,n){},rVcl:function(e,t,n){},rYEI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i,a=n("/7QA");function r(e){switch(e){case 0:return Object(a.d)("Base","LoyaltyBadgesPageComponent");case 3:return Object(a.d)("3-Month","LoyaltyBadgesPageComponent");case 6:return Object(a.d)("6-Month","LoyaltyBadgesPageComponent");case 9:return Object(a.d)("9-Month","LoyaltyBadgesPageComponent");case 12:return Object(a.d)("1-Year","LoyaltyBadgesPageComponent");case 18:return Object(a.d)("1.5-Year","LoyaltyBadgesPageComponent");case 24:return Object(a.d)("2-Year","LoyaltyBadgesPageComponent");case 30:return Object(a.d)("2.5-Year","LoyaltyBadgesPageComponent");case 36:return Object(a.d)("3-Year","LoyaltyBadgesPageComponent");case 42:return Object(a.d)("3.5-Year","LoyaltyBadgesPageComponent");case 48:return Object(a.d)("4-Year","LoyaltyBadgesPageComponent");case 54:return Object(a.d)("4.5-Year","LoyaltyBadgesPageComponent");case 60:return Object(a.d)("5-Year","LoyaltyBadgesPageComponent");case 66:return Object(a.d)("5.5-Year","LoyaltyBadgesPageComponent");case 72:return Object(a.d)("6-Year","LoyaltyBadgesPageComponent");case 78:return Object(a.d)("6.5-Year","LoyaltyBadgesPageComponent");case 84:return Object(a.d)("7-Year","LoyaltyBadgesPageComponent");case 90:return Object(a.d)("7.5-Year","LoyaltyBadgesPageComponent");case 96:return Object(a.d)("8-Year","LoyaltyBadgesPageComponent");default:return""}}!function(e){e.Base="Base",e.Month3="3-Month",e.Month6="6-Month",e.Month9="9-Month",e.Year1="1-Year",e.Year1Half="1.5-Year",e.Year2="2-Year",e.Year2Half="2.5-Year",e.Year3="3-Year",e.Year3Half="3.5-Year",e.Year4="4-Year",e.Year4Half="4.5-Year",e.Year5="5-Year",e.Year5Half="5.5-Year",e.Year6="6-Year",e.Year6Half="6.5-Year",e.Year7="7-Year",e.Year7Half="7.5-Year",e.Year8="8-Year"}(i||(i={}));var o=[{availableToAffiliate:!0,name:i.Base,requiredTenureMonths:0},{availableToAffiliate:!0,name:i.Month3,requiredTenureMonths:3},{availableToAffiliate:!0,name:i.Month6,requiredTenureMonths:6},{availableToAffiliate:!0,name:i.Month9,requiredTenureMonths:9},{availableToAffiliate:!0,name:i.Year1,requiredTenureMonths:12},{availableToAffiliate:!1,name:i.Year1Half,requiredTenureMonths:18},{availableToAffiliate:!1,name:i.Year2,requiredTenureMonths:24},{availableToAffiliate:!1,name:i.Year2Half,requiredTenureMonths:30},{availableToAffiliate:!1,name:i.Year3,requiredTenureMonths:36},{availableToAffiliate:!1,name:i.Year3Half,requiredTenureMonths:42},{availableToAffiliate:!1,name:i.Year4,requiredTenureMonths:48},{availableToAffiliate:!1,name:i.Year4Half,requiredTenureMonths:54},{availableToAffiliate:!1,name:i.Year5,requiredTenureMonths:60},{availableToAffiliate:!1,name:i.Year5Half,requiredTenureMonths:66},{availableToAffiliate:!1,name:i.Year6,requiredTenureMonths:72},{availableToAffiliate:!1,name:i.Year6Half,requiredTenureMonths:78},{availableToAffiliate:!1,name:i.Year7,requiredTenureMonths:84},{availableToAffiliate:!1,name:i.Year7Half,requiredTenureMonths:90},{availableToAffiliate:!1,name:i.Year8,requiredTenureMonths:96}]},"rbP/":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i,a=n("pVnL"),r=n.n(a),o=n("VbXa"),s=n.n(o),c=n("q1tI"),l=n("fNzW"),d=n("vCsY"),u=n("hnjF"),m=n("sUnt"),p=n("2Ob2"),h=n("9qaG"),f=n("u03v"),g=n("G3YM"),v=(n("WvXh"),(i={})[h.d.Primary]="tw-split-button--primary",i[h.d.Secondary]="tw-split-button--secondary",i[h.d.Text]="tw-split-button--text",i[h.d.Destructive]="tw-split-button--destructive",i),b=function(e){function t(){return e.apply(this,arguments)||this}return s()(t,e),t.prototype.render=function(){var e={"tw-split-button":!0,"tw-split-button--overlay":this.props.overlay};this.props.type?e[v[this.props.type]]=!0:e[v[h.d.Primary]]=!0;var t={"tw-split-button__icon":!0,"tw-split-button__icon--small":this.props.size===h.c.Small,"tw-split-button__icon--large":this.props.size===h.c.Large};return c.createElement(m.a,r()({className:Object(l.a)(e),display:this.props.fullWidth?u.d.Flex:u.d.InlineFlex,alignItems:u.b.Center,fullWidth:this.props.fullWidth},Object(d.a)(this.props)),c.createElement(h.a,r()({},Object(d.b)(this.props),{rounding:h.b.Left,type:this.props.type?this.props.type:h.d.Primary}),c.createElement(g.a,{icon:this.props.icon,size:this.props.size},this.props.children)),c.createElement(m.a,{display:u.d.InlineFlex,className:Object(l.a)({"tw-split-button__dropdown":!0})},c.createElement(h.a,r()({},Object(d.a)(this.props.dropdown),this.props.dropdown,{size:this.props.size,overlay:this.props.overlay,rounding:h.b.Right,type:this.props.type?this.props.type:h.d.Primary}),c.createElement(m.a,{className:Object(l.a)(t),display:u.d.Flex,justifyContent:u.h.Center},c.createElement(f.a,{size:this.props.size,type:this.props.dropdown.type?this.props.dropdown.type:f.b.ArrowDown})))))},t}(c.Component);b.displayName="SplitButtonComponent";var k=Object(p.c)(b)},rljb:function(e,t,n){},ru7j:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlockedUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:61}};n.loc.source={body:"query BlockedUsers {\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BlockedUsers=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"BlockedUsers")},sAMt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:78}};n.loc.source={body:"query ChatUser($login: String!) {\nuser(login: $login lookupType: ALL) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatUser")},sMoq:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VIPUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GrantVIPInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantVIP"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:122}};n.loc.source={body:"mutation VIPUser($input: GrantVIPInput!){\ngrantVIP(input: $input) {\nchannel {\nid\n}\ngrantee {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VIPUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VIPUser")},sU0Q:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatCard_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"90"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"51"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};n.loc.source={body:"query VideoChatCard_Video($videoID: ID!) {\nvideo(id: $videoID) {\nid\ntitle\npreviewThumbnailURL(width: 90 height: 51)\npublishedAt\nowner {\nid\nlogin\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChatCard_Video=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChatCard_Video")},sgJZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_FollowEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:157}};n.loc.source={body:"query FollowButton_FollowEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\nhosting {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.FollowButton_FollowEvent_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"FollowButton_FollowEvent_User")},sj0o:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteModificationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteModification"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifierIconDark"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifierIconLight"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}],loc:{start:0,end:380}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\n#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment emoteModificationFragment on CommunityPointsEmoteModification {\nid\nemote {\n...communityPointsEmoteFragment\n}\nmodifierIconDark {\n...pointsImageFragment\n}\nmodifierIconLight {\n...pointsImageFragment\n}\ntitle\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("KrPZ").definitions)),i.definitions=i.definitions.concat(r(n("r+cx").definitions)),e.exports=i},smCe:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TerminatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TerminatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"terminatePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation TerminatePoll($input: TerminatePollInput!) {\nterminatePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TerminatePoll=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"TerminatePoll")},t4UF:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("fBrF");function o(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(n,t),n.prototype.render=function(){return a.createElement(r.a,Object(i.__assign)({},this.props),a.createElement(e,Object(i.__assign)({},this.props)))},n}(a.Component)}},tFCv:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("Ty5D"),s=n("fvjX"),c=n("/7QA"),l=n("u5aL"),d=n("ZS2+"),u=n("/0dD"),m=n("SDEh"),p=n("edgk"),h=n("1/iK"),f=n("y5D0"),g=n("jZLd"),v=n("D7An"),b=n("kRBY"),k=n("XDQu"),y=n("+pBb"),S=n("3sMn"),C=n("Tznh"),E=n("+l4d"),w=n("jBwP"),_=n("xzy9"),N=n("3tQW"),O=n("fezU"),D=n("r2Xj"),I=n("WytW"),M=n("F6GT"),T=n("x0gr"),P=n("tLDJ"),j=n("b7S+"),F=n("sUnt"),R=n("hnjF"),L=n("7d/q"),A=n("C7sF"),U=d.a.wrap((function(){return n.e(58).then(n.bind(null,"8MX0"))}),"ChatSettingsComponent"),x=d.a.wrap((function(){return n.e(57).then(n.bind(null,"WYxz"))}),"ChatPauseNotificationTooltip",{placeholder:null}),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={editAppearance:!1},t.inChatInputRevampExperiment="variant1"===c.p.experiments.getAndTrackAssignment(v.c.ChatInputRevamp),t.chatSettingsTooltipString=function(){return Object(c.d)("Chat Settings","ChatInputTooltip")},t.onEdit=function(){t.setState({editAppearance:!0})},t.onLeaveEdit=function(){t.setState({editAppearance:!1})},t.onDarkModeToggle=function(){var e=t.props.darkModeEnabled?u.a.Light:u.a.Dark;t.props.onThemeChanged(e,!t.props.isPopout),Object(T.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.darkModeEnabled,settingName:D.a.DarkMode})},t.onTimestampToggle=function(){Object(M.c)("showTimestamps",!t.props.showTimestamps),t.props.showTimestamps?t.props.onTimestampsDisable():t.props.onTimestampsEnable(),Object(T.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.showTimestamps,settingName:D.a.ShowTimestamps})},t.onHighContrastColorsToggle=function(){t.props.setHighContrastColors(!t.props.useHighContrastColors),Object(T.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.useHighContrastColors,settingName:D.a.UseHighContrastColors})},t.onDeletedMessageDisplaySettingChange=function(e){t.props.setDeletedMessageDisplaySetting(e)},t.onChatHide=function(){t.props.onChatHide(),t.onCloseSettings(),Object(T.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!0,settingName:D.a.HideChat})},t.onChatPopout=function(){t.props.isPopout||t.props.onChatHide();var e="/popout/"+t.props.channelLogin+"/chat?popout=";Object(P.x)()&&(e="https://twitch.tv"+e);var n=window.open(e,"_blank","right=50,top=50,width=400,height=600,resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");n&&!Object(m.a)()&&(n.focus(),Object(p.a)(n,(function(){t.props.onChatUnhide()})))},t.onShowChatRules=function(){t.inChatInputRevampExperiment?(t.props.showChatRules(),t.onCloseSettings()):t.props.onShowChatRules&&(t.props.onShowChatRules(),t.onCloseSettings())},t.onColorSelected=function(e){t.props.isLoggedIn?t.props.onChatCommand(Object(I.a)(e)):t.props.login()},t.onToggleChatSettings=function(){t.props.isSettingsOpen?t.onCloseSettings():(Object(T.c)({channelID:t.props.channelID||void 0,channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode}),t.props.updateChatConfigState({isSettingsOpen:!0}))},t.onCloseSettings=function(){t.props.isSettingsOpen&&(t.props.hideChatFilterSettings(),t.props.hideDeletedMessageDisplaySettings(),t.props.updateChatConfigState({isSettingsOpen:!1}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.isSettingsOpen&&!this.props.isSettingsOpen&&(this.props.hideChatFilterSettings(),this.props.hideDeletedMessageDisplaySettings(),this.onLeaveEdit())},t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(U.Preload,null),a.createElement(l.a,{onClickOut:this.onCloseSettings},a.createElement(j.a,{direction:j.c.Left,label:this.chatSettingsTooltipString()},a.createElement(F.a,{zIndex:R.o.Default},a.createElement(L.a,{"data-a-target":"chat-settings",icon:A.a.Gear,ariaLabel:Object(c.d)("Chat settings","ChatSettingsIconButton"),onClick:this.onToggleChatSettings}))),this.props.isSettingsOpen&&a.createElement(U,{authToken:this.props.authToken,darkModeEnabled:this.props.darkModeEnabled,editAppearance:this.state.editAppearance,isShowingChatFilterSettings:this.props.isShowingChatFilterSettings,showChatFilterSettings:this.props.showChatFilterSettings,hideChatFilterSettings:this.props.hideChatFilterSettings,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isVisible:this.props.isSettingsOpen,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,onChatCommand:this.props.onChatCommand,onChatHide:this.onChatHide,onChatPopout:this.onChatPopout,onShowChatRules:this.props.onShowChatRules&&this.onShowChatRules,onDarkModeToggle:this.onDarkModeToggle,onTimestampToggle:this.onTimestampToggle,onHighContrastColorsToggle:this.onHighContrastColorsToggle,showTimestamps:this.props.showTimestamps,useHighContrastColors:this.props.useHighContrastColors,theatreModeEnabled:this.props.theatreModeEnabled,onColorSelected:this.onColorSelected,channelLogin:this.props.channelLogin,channelID:this.props.channelID,isLoggedIn:this.props.isLoggedIn,onClickEditAppearance:this.onEdit,onLeaveEditAppearance:this.onLeaveEdit,onShowViewerCard:this.props.onShowViewerCard,containerElement:this.props.containerElement,"data-test-selector":"chat-settings-component",onCloseSettings:this.onCloseSettings,emoteOnlyModeEnabled:this.props.emoteOnlyMode,followerModeEnabled:this.props.followerMode,followerDuration:this.props.followerDuration,slowModeEnabled:this.props.slowMode,slowModeDuration:this.props.slowModeDuration,isShowingDeletedMessageDisplaySettings:this.props.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.props.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.props.showDeletedMessageDisplaySettings,onDeletedMessageDisplaySettingChange:this.onDeletedMessageDisplaySettingChange,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting,hasSetDeletedMessageDisplaySetting:this.props.hasSetDeletedMessageDisplaySetting})),this.props.isCurrentUserModerator&&this.props.firstPageLoaded&&a.createElement(x,{channelID:this.props.channelID||void 0}))},t}(a.Component);var V=Object(r.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isLoggedIn:Object(b.f)(e),darkModeEnabled:Object(k.a)(e)===u.a.Dark,showTimestamps:e.chat.showTimestamps,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return Object(s.b)({login:function(){return Object(f.e)(h.a.ChatSettings)},onChatHide:function(){return y.L()},onChatUnhide:function(){return y.N()},onThemeChanged:function(e){return Object(g.b)(e,{saveToStorage:!1})},onTimestampsDisable:function(){return y.E()},onTimestampsEnable:function(){return y.J()}},e)}))(B),H=Object(s.d)(o.j,Object(w.b)((function(e){return{emoteOnlyMode:e.emoteOnlyMode,followerDuration:e.followerDuration,followerMode:e.followerMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration}})),Object(S.b)((function(e){return{isSettingsOpen:e.isSettingsOpen,updateChatConfigState:function(t){return e.updateChatConfigState(t)}}})),Object(N.b)((function(e){return{setHighContrastColors:e.setValue,useHighContrastColors:e.value}})),Object(_.d)((function(e){return{setDeletedMessageDisplaySetting:e.setValue,deletedMessageDisplaySetting:e.value,isShowingDeletedMessageDisplaySettings:e.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:e.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:e.showDeletedMessageDisplaySettings,hasSetDeletedMessageDisplaySetting:e.hasSetSetting}})),Object(O.b)((function(e){return{onShowViewerCard:e.onShowViewerCard}})),Object(C.d)((function(e){return e})),Object(E.b)((function(e){return{showChatRules:e.showChatRules}})))(V),q=n("eJ65"),G=n("ygYM"),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setToggleBalloonRef=function(e){return t.toggleBalloonRef=e},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.onToggle&&this.props.isChatRulesOpen&&!e.isChatRulesOpen?this.toggleBalloonRef.toggleBalloon(!1):this.props.isShowingChatFilterSettings&&!e.isShowingChatFilterSettings&&(this.toggleBalloonRef.toggleBalloon(!0),this.props.onToggle&&this.props.onToggle(!1))},t.prototype.render=function(){return a.createElement(q.a,{onToggle:this.props.onToggle,ref:this.setToggleBalloonRef},a.createElement(L.a,{icon:A.a.Gear,ariaLabel:Object(c.d)("Chat settings","ChatInput"),"data-a-target":"chat-settings",disabled:!!this.props.disabled}),a.createElement(G.a,{direction:G.b.Top,noTail:!0,offsetY:"11px","data-a-target":"chat-settings-balloon"},this.props.children))},t}(a.Component);var z=Object(r.b)((function(e){return{isChatRulesOpen:e.chat.isChatRulesOpen}}))(W);n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return z}))},tLDJ:function(e,t,n){"use strict";n.d(t,"x",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"kb",(function(){return f})),n.d(t,"mb",(function(){return g})),n.d(t,"u",(function(){return v})),n.d(t,"t",(function(){return b})),n.d(t,"s",(function(){return k})),n.d(t,"p",(function(){return y})),n.d(t,"o",(function(){return S})),n.d(t,"w",(function(){return C})),n.d(t,"lb",(function(){return E})),n.d(t,"v",(function(){return w})),n.d(t,"r",(function(){return _})),n.d(t,"h",(function(){return N})),n.d(t,"n",(function(){return O})),n.d(t,"i",(function(){return D})),n.d(t,"k",(function(){return I})),n.d(t,"jb",(function(){return M})),n.d(t,"A",(function(){return T})),n.d(t,"D",(function(){return P})),n.d(t,"H",(function(){return j})),n.d(t,"E",(function(){return F})),n.d(t,"F",(function(){return R})),n.d(t,"G",(function(){return L})),n.d(t,"I",(function(){return A})),n.d(t,"y",(function(){return U})),n.d(t,"L",(function(){return x})),n.d(t,"J",(function(){return B})),n.d(t,"N",(function(){return V})),n.d(t,"M",(function(){return H})),n.d(t,"U",(function(){return q})),n.d(t,"O",(function(){return G})),n.d(t,"P",(function(){return W})),n.d(t,"W",(function(){return z})),n.d(t,"R",(function(){return Q})),n.d(t,"Q",(function(){return Y})),n.d(t,"ab",(function(){return K})),n.d(t,"V",(function(){return X})),n.d(t,"bb",(function(){return $})),n.d(t,"T",(function(){return J})),n.d(t,"K",(function(){return Z})),n.d(t,"Z",(function(){return ee})),n.d(t,"Y",(function(){return te})),n.d(t,"X",(function(){return ne})),n.d(t,"q",(function(){return ie})),n.d(t,"S",(function(){return ae})),n.d(t,"cb",(function(){return re})),n.d(t,"db",(function(){return oe})),n.d(t,"B",(function(){return se})),n.d(t,"eb",(function(){return ce})),n.d(t,"l",(function(){return le})),n.d(t,"z",(function(){return de})),n.d(t,"m",(function(){return ue})),n.d(t,"hb",(function(){return me})),n.d(t,"fb",(function(){return pe})),n.d(t,"ib",(function(){return he})),n.d(t,"C",(function(){return fe})),n.d(t,"gb",(function(){return ge}));var i=n("cr+I"),a=n("LE+Z"),r=!1;function o(){return r}function s(){r=!0}function c(e,t){return{pathname:r?"/u/"+e+"/channel-analytics":"/"+e+"/dashboard/channel-analytics",state:{content:t.content,medium:t.medium},search:t.search}}function l(e,t){return{pathname:r?"/u/"+e+"/channel-analytics/notifications":"/"+e+"/dashboard/channel-analytics/notifications",state:t}}function d(e,t,n){void 0===n&&(n=location.search);var i="/"+e+"/dashboard/channel-analytics/referrals";return r&&(i="/u/"+e+"/channel-analytics/referrals"),{pathname:i,search:n,state:t}}function u(e,t){return{pathname:r?"/u/"+e+"/channel-analytics/payouts":"/"+e+"/dashboard/channel-analytics/payouts",state:t}}function m(e){return r?"/u/"+e.channelLogin+"/achievements/"+e.id:"/"+e.channelLogin+"/dashboard/achievements/"+e.id}function p(e){return r?"/u/"+e+"/broadcast":"/"+e+"/dashboard/broadcast"}function h(e){return r?"/u/"+e+"/achievements":"/"+e+"/dashboard/achievements"}function f(e){return r?"/u/"+e+"/stream-manager":"/"+e+"/dashboard/live"}function g(e,t){var n=e.channelLogin,i=e.id,a="/"+n+"/dashboard/stream-summary/"+i+"/referrals";return r&&(a="/u/"+n+"/stream-summary/"+i+"/referrals"),{pathname:a,state:t}}function v(e){return r?"/u/"+e+"/content/video-producer":"/"+e+"/manager"}function b(e,t){return r?"/u/"+e+"/content/video-producer/highlighter/"+t:"/"+e+"/manager/highlighter/"+t}function k(e,t){return r?"/u/"+e+"/content/video-producer/edit/"+t:"/"+e+"/manager/edit/"+t}function y(e){return r?"/u/"+e+"/content/collections":"/"+e+"/manager/collections"}function S(e,t){return void 0===t&&(t=""),r?"/u/"+e+"/content/collections/"+t:"/"+e+"/manager/collections/"+t}function C(e,t){return r?"/u/"+e+"/content/video-producer/schedule/"+t:"/"+e+"/manager/schedule/"+t}function E(e,t){return(r?"/u/"+e.channelLogin+"/stream-summary/"+e.id:"/"+e.channelLogin+"/dashboard/stream-summary/"+e.id)+"?tt_content="+t.content+"&tt_medium="+t.medium}function w(e,t){return r?"/u/"+e+"/content/video-producer/publish/"+t:"/"+e+"/manager/publish/"+t}function _(e,t){return r?"/u/"+e+"/content/video-producer/appeal/"+t:"/"+e+"/manager/appeal/"+t}function N(e){return r?"https://www.twitch.tv/"+e:"/"+e}function O(e){return r?"/u/"+e+"/content/clips/channel":"/"+e+"/manager/clips/channel"}function D(e,t,n){return M("/"+e+"/clip/"+t+"?"+i.stringify({tt_content:n.content,tt_medium:n.medium}))}function I(e){var t=encodeURIComponent(e);return r?"https://www.twitch.tv/directory/game/"+t:"/directory/game/"+t}function M(e){return(r?"https://www.twitch.tv":"")+"/"+e.replace(/^\//i,"")}function T(e){return"/u/"+e+"/settings/channel"}function P(){return"/settings/channel"}function j(e){return r?"/u/"+e+"/settings/moderation":"/"+e+"/dashboard/settings/moderation"}function F(e){return r?"/u/"+e+"/settings/moderation/automod":"/"+e+"/dashboard/settings/moderation/automod"}function R(e){return r?"/u/"+e+"/settings/moderation/banned-chatters":"/"+e+"/dashboard/settings/moderation/banned-chatters"}function L(e){return r?"/u/"+e+"/settings/moderation/blocked-terms":"/"+e+"/dashboard/settings/moderation/blocked-terms"}function A(e){return r?"/u/"+e+"/settings/moderation/permitted-terms":"/"+e+"/dashboard/settings/moderation/permitted-terms"}function U(e){return r?"/u/"+e+"/settings/channel/auto-hosted-channels":"/"+e+"/dashboard/settings/autohost"}function x(e){return r?Object(a.b)(e):Object(a.a)(e)}function B(e){return r?"/u/"+e+"/settings/revenue":"/"+e+"/dashboard/settings/revenue"}function V(e){return r?"/u/"+e+"/community/channel-points/settings":"/"+e+"/dashboard/settings/revenue/channel-points"}function H(e){return r?"/u/"+e+"/community/channel-points/rewards":"/"+e+"/dashboard/settings/revenue/channel-points/rewards"}function q(e){return r?"/u/"+e+"/settings/revenue/payout-onboarding":"/"+e+"/dashboard/settings/revenue/payout-onboarding"}function G(e){return r?"/u/"+e+"/settings/revenue/cheerbadges":"/"+e+"/dashboard/settings/revenue/cheerbadges"}function W(e){return r?"/u/"+e+"/settings/revenue/cheermotes":"/"+e+"/dashboard/settings/revenue/cheermotes"}function z(e){return r?"/u/"+e+"/settings/revenue/stuccos":"/"+e+"/dashboard/settings/revenue/stuccos"}function Q(e){return r?"/u/"+e+"/settings/revenue/leaderboards":"/"+e+"/dashboard/settings/revenue/leaderboards"}function Y(e){return r?"/u/"+e+"/settings/revenue/hype-train":"/"+e+"/dashboard/settings/revenue/hype-train"}function K(e){return r?"/u/"+e+"/settings/revenue/upgrade-terms":"/"+e+"/dashboard/settings/revenue/upgrade-terms"}function X(e){return r?"/u/"+e+"/settings/revenue/payouts":"/"+e+"/dashboard/settings/revenue/payouts"}function $(e){return r?"/u/"+e+"/settings/revenue/view-terms":"/"+e+"/dashboard/settings/revenue/view-terms"}function J(e){return r?"/u/"+e+"/settings/revenue/merch-by-amazon":"/"+e+"/dashboard/settings/revenue/merch-by-amazon"}function Z(e){return r?"/u/"+e+"/settings/revenue/affiliate-rev-share":"/"+e+"/dashboard/settings/revenue/affiliate-rev-share"}function ee(e){return r?"/u/"+e+"/settings/revenue/subscription/ticket":"/"+e+"/dashboard/settings/revenue/subscription/ticket"}function te(e){return r?"/u/"+e+"/settings/revenue/subscription/chatperks":"/"+e+"/dashboard/settings/revenue/subscription/chatperks"}function ne(e){return r?"/u/"+e+"/settings/revenue/subscription/badges":"/"+e+"/dashboard/settings/revenue/subscription/badges"}function ie(e){return r?"/u/"+e+"/content/events":"/"+e+"/dashboard/events"}function ae(e){return r?"/u/"+e+"/settings/revenue":"/"+e+"/dashboard/settings/revenue"}function re(e){return M("/team/"+e)}function oe(e){return M("/teams/"+e+"/dashboard")}function se(e,t){return r?"/u/"+e+"/settings/channel#"+t:"/"+e+"/dashboard/settings#"+t}function ce(e){return"/u/"+e+"/stream-manager"}function le(e){return r?"/u/"+e+"/bounties":"/"+e+"/dashboard/bounties"}function de(e){return"https://dashboard.twitch.tv/u/"+e+"/community/roles"}function ue(e,t){return le(e)+"/"+t}function me(e){return he(e)+"/stream-manager"}function pe(e){return he(e)+"/content/video-producer"}function he(e){return"https://dashboard.twitch.tv/u/"+e}function fe(e){var t=e?T(e):"/settings/channel";return new URL(t,"https://dashboard.twitch.tv").href}function ge(){return"https://dashboard.twitch.tv"}},tX9j:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AutoModRejectedChatMessagePrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"msgID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"msgID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"message"},directives:[]}]}}]}}]}}],loc:{start:0,end:200}};i.loc.source={body:'#import "twilight/features/message/fragments/message-fragment.gql"\nquery AutoModRejectedChatMessagePrompt($msgID: ID! $channelID: ID!) {\nrejectedChatMessage(id: $msgID) {\nid\nmessage {\n...message\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("jy35").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.AutoModRejectedChatMessagePrompt=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"AutoModRejectedChatMessagePrompt")},tiJ6:function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/7QA"),s=n("0Log"),c=n("oB8h"),l=n("cMjZ"),d=n("geRD"),u=n("/aPz"),m=n("2xye"),p=n("1rIY"),h=n("LZFU"),f=n("ll/k");var g=n("VKOn"),v=n("kxrW"),b=n("Hz5m"),k=n("zQgx"),y=n("Q94S"),S=n("Q34B"),C=n("vRsq");function E(e,t){var n=e.owner?e.owner.login:"",i=S.a.VIDEO,a=Object(C.j)(n,e.id,t?t.id:null);return{clipSlug:"",collectionID:t?t.id:"",contentCanonicalUrl:a,contentType:i,hostedChannel:null,videoID:e.id,videoPlayerSource:""}}function w(e){if(e&&e.hosting&&e.hosting.id&&e.hosting.login){var t=e.hosting;return{id:t.id,login:t.login,displayName:t.displayName||"",profileImageURL:t.profileImageURL}}return null}var _=n("IZXT"),N=n("kmJV"),O=n("xyN1"),D=n("csJo"),I=n("mGiD"),M=n("BbLt"),T=n("MAph");n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return R}));var P=Object(p.a)("ChannelContext",{loading:!1,error:!1,channel:null,channelLogin:"",clip:null,clipSlug:"",collection:null,collectionID:"",contentCanonicalUrl:"",contentType:S.a.NONE,currentUser:null,hostedChannel:null,live:!1,primaryColorHex:null,requestedVideoOffset:k.a,streamStatus:v.a.Offline,page:b.c.About,video:null,videoID:"",videoPlayerSource:"",viewerCount:null,handleStreamStatusChange:function(){},requestVideoOffset:function(){}}),j=P.context,F=P.withContext,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1,error:!1,channelLogin:"",channel:null,clipSlug:"",clip:null,videoID:"",video:null,collectionID:"",collection:null,contentCanonicalUrl:"",contentType:S.a.NONE,currentUser:null,live:!1,primaryColorHex:null,requestedVideoOffset:k.a,streamStatus:v.a.Offline,hostedChannel:null,videoPlayerSource:"",page:b.c.About,viewerCount:null,handleStreamStatusChange:function(e){t.state.videoPlayerSource===t.state.channelLogin&&t.setState({streamStatus:e})},requestVideoOffset:function(e){return t.requestVideoOffset(e)}},t.logger=o.k.withCategory("ChannelContext"),t.nextHostTarget="",t.maxRpsForUpdateAfterPubsub=o.b.get("watch_channel_update_after_pubsub_max_rps",1e4),t.updateRoute=function(e){t.setState({page:t.getPageType(e)});var n=(e.match.params.channelLogin||"").toLowerCase();n&&n===t.state.channelLogin||(t.resetPrivateVariables(),t.setState({viewerCount:null})),t.setState(t.updateVideoSource({route:e}));var i=Object(y.e)(e),a=Object(y.a)(e),r=Object(y.b)(e);t.setState({channelLogin:n}),i?t.fetchVideo(i,r):a?t.fetchClip(a):r?t.fetchCollection(r):n?(t.fetchChannel(n),t.setupPubsub("",n)):t.logger.warn("Channel Root had no content to load",e.match)},t.requestVideoOffset=function(e){t.setState({requestedVideoOffset:e})},t.onResetOffline=function(){t.resetOfflineTimer=void 0,t.state.live&&(o.o.track(m.SpadeEventType.ChannelOffline,{offline_type:"viewcount",channel:t.state.channel&&t.state.channel.login}),t.setState({live:!1}))},t}return Object(i.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.updateRoute(this.props),this.setState({requestedVideoOffset:Object(k.f)(this.props)})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.match.url!==this.props.match.url&&this.updateRoute(e);var t=Object(k.f)(e);Object(k.f)(this.props)!==t&&this.setState({requestedVideoOffset:t})},t.prototype.render=function(){return r.createElement(j.Provider,{value:this.state},this.props.children)},t.prototype.componentDidUpdate=function(e,t){t.channel&&this.state.channel&&t.channel.id===this.state.channel.id&&(!t.hostedChannel&&this.state.hostedChannel||t.hostedChannel&&!this.state.hostedChannel||t.hostedChannel&&this.state.hostedChannel&&t.hostedChannel.login!==this.state.hostedChannel.login)&&o.o.track(m.SpadeEventType.HostModeDebug,{log_type:"state_change_"+this.channelStateChangeReason,channel:this.state.channel.login,host_channel:this.state.hostedChannel&&this.state.hostedChannel.login,data_target_channel_login:this.state.channel.hosting&&this.state.channel.hosting.login,prev_host_channel_login:t.hostedChannel&&t.hostedChannel.login}),this.channelStateChangeReason=void 0},t.prototype.componentWillUnmount=function(){this.resetPrivateVariables(),this.clearBroadcastSettingsUpdateInterval()},t.prototype.resetPrivateVariables=function(){this.pubsubHostTargetChange&&this.pubsubHostTargetChange.unsubscribe(),this.pubsubHostTargetChange=void 0,this.pubsubViewCountUpdate&&this.pubsubViewCountUpdate.unsubscribe(),this.pubsubViewCountUpdate=void 0,this.pubsubBroadcastSettings&&this.pubsubBroadcastSettings.unsubscribe(),this.pubsubBroadcastSettings=void 0,this.gqlChannelObservable=void 0,this.gqlChannelSubscription&&this.gqlChannelSubscription.unsubscribe(),this.gqlChannelSubscription=void 0,this.nextHostTarget="",this.clearResetOfflineTimer()},t.prototype.fetchChannel=function(e){var t=this;this.setState({loading:!0});var n=function(e){t.channelStateChangeReason||(t.channelStateChangeReason="external_gql_update"),t.setState(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({clip:null,video:null,error:!1,loading:!1,collection:null},t.updateCurrentUser(e.data.currentUser)),t.updateChannel(e.data.user)),t.updateVideoSource({live:e.data.user},e.data.currentUser)))},a=function(n){t.setState({error:!0,loading:!1}),Object(_.d)()?t.logger.warn("failed to fetch channel root data",{channelLogin:e}):t.logger.errorAndReport(n,"failed to fetch channel root data",{channelLogin:e})};if(this.gqlChannelObservable)return this.channelStateChangeReason="context_gql_refetch",void this.gqlChannelObservable.refetch().then(n,a);this.resetPrivateVariables();var r=o.p.apollo.client.watchQuery({query:N,variables:{currentChannelLogin:e,includeChanlets:!Object(g.a)()}});this.gqlChannelObservable=r,this.gqlChannelSubscription=r.subscribe({next:n,error:a})},t.prototype.fetchVideo=function(e,t){var n=this;this.resetPrivateVariables(),this.setState({loading:!0});var a=o.p.apollo.client.watchQuery({query:I,variables:{videoID:e,collectionID:t,includeCollection:!!t,includeChanlets:!1}}).subscribe({next:function(e){a.unsubscribe();var t=e.data,r=t.video,o=t.collection;!r||n.videoDoesntMatchCurrentRoute(r)?n.setState(Object(i.__assign)(Object(i.__assign)({error:!0,loading:!1,clip:null,video:null},n.updateCurrentUser(e.data.currentUser)),{collection:null,collectionID:""})):n.setState(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({error:!1,loading:!1,clip:null},n.updateCurrentUser(e.data.currentUser)),n.updateVideo(r)),n.updateChannel(r&&r.owner)),n.updateVideoSource({video:r,collection:o})),{collection:o||null,collectionID:o?o.id:""}))},error:function(i){a&&a.unsubscribe(),n.setState({error:!0,loading:!1}),Object(_.d)()?n.logger.warn("failed to fetch channel root data for video",{videoID:e,collectionID:t}):n.logger.errorAndReport(i,"failed to fetch channel root data for video",{videoID:e,collectionID:t})}})},t.prototype.fetchCollection=function(e){var t=this;this.resetPrivateVariables(),this.setState({loading:!0});var n=o.p.apollo.client.watchQuery({query:D,variables:{collectionID:e,includeChanlets:!1}}).subscribe({next:function(e){n.unsubscribe();var a=Object(y.c)(e.data.collection);a&&t.videoDoesntMatchCurrentRoute(a)?t.setState(Object(i.__assign)({error:!0,loading:!1,clip:null,video:null,collection:null},t.updateCurrentUser(e.data.currentUser))):t.setState(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({error:!1,loading:!1,clip:null},t.updateCurrentUser(e.data.currentUser)),t.updateCollection(e.data.collection)),t.updateVideo(a)),t.updateChannel(e.data.collection&&e.data.collection.owner)),t.updateVideoSource({video:a,collection:e.data.collection})))},error:function(i){n&&n.unsubscribe(),t.setState({error:!0,loading:!1}),Object(_.d)()?t.logger.warn("failed to fetch channel root data for collection",{collectionID:e}):t.logger.errorAndReport(i,"failed to fetch channel root data for collection",{collectionID:e})}})},t.prototype.fetchClip=function(e){var t=this;this.resetPrivateVariables(),this.setState({loading:!0});var n=o.p.apollo.client.watchQuery({query:O,variables:{currentChannelLogin:"",includeChannel:!1,videoID:"",includeVideo:!1,collectionID:"",includeCollection:!1,slugID:e,includeClip:!0,includeChanlets:!1}}).subscribe({next:function(e){n.unsubscribe();var a=e.data.clip;!a||t.clipDoesntMatchCurrentRoute(a)?t.setState(Object(i.__assign)({error:!0,loading:!1,video:null,collection:null,clip:null},t.updateCurrentUser(e.data.currentUser))):t.setState(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({error:!1,loading:!1,video:null,collection:null},t.updateCurrentUser(e.data.currentUser)),t.updateClip(a)),t.updateChannel(a&&a.broadcaster)),t.updateVideoSource({clip:a})))},error:function(i){n&&n.unsubscribe(),t.setState({error:!0,loading:!1}),Object(_.d)()?t.logger.warn("failed to fetch channel root data for video",{clipSlug:e}):t.logger.errorAndReport(i,"failed to fetch channel root data for video",{clipSlug:e})}})},t.prototype.updateCurrentUser=function(e){return{currentUser:e}},t.prototype.updateCollection=function(e){return{collection:e}},t.prototype.videoDoesntMatchCurrentRoute=function(e){var t=this.props.match.params.channelLogin;return!!(t&&e.owner&&e.owner.login&&e.owner.login.toLowerCase()!==t.toLowerCase())},t.prototype.updateVideo=function(e){return{video:e}},t.prototype.clipDoesntMatchCurrentRoute=function(e){var t=this.props.match.params.channelLogin;return!!(t&&e.broadcaster&&e.broadcaster.login&&e.broadcaster.login.toLowerCase()!==t.toLowerCase())},t.prototype.updateClip=function(e){return{clip:e}},t.prototype.updateChannel=function(e){var t=e&&e.login||"",n=!!Object(k.d)(e),i=w(e),a=Object(k.g)(e);return this.setupPubsub(e&&e.id||"",t),this.clearResetOfflineTimer(),n&&(this.resetOfflineTimer=setTimeout(this.onResetOffline,6e4)),{channel:e,channelLogin:t,primaryColorHex:e&&e.primaryColorHex,live:n,hostedChannel:i,viewerCount:a}},t.prototype.updateVideoSource=function(e,t){var n,i,a,r,o,s,c,l,d;if(e.route)i=e.route.match.params.channelLogin||"",a=e.route,r=Object(y.a)(a)||"",o=Object(y.e)(a)||"",s=Object(y.b)(a)||"",c="",l=S.a.NONE,d="",""!==r?(l=S.a.CLIP,c=Object(C.h)(i,r)):o||s?(l=s?S.a.COLLECTION:S.a.VIDEO,c=Object(C.j)(i,o,s)):(l=S.a.LIVE,c="/"+i,d=i),n={clipSlug:r,collectionID:s,contentCanonicalUrl:c,contentType:l,hostedChannel:null,videoID:o,videoPlayerSource:d};else if(e.live){n=function(e,t){var n=e.login||"",i=S.a.LIVE,a="/"+n,r=n,o=w(e),s=t&&t.roles&&t.roles.isSiteAdmin;return o&&!s&&(r=o.login),{clipSlug:"",collectionID:"",contentCanonicalUrl:a,contentType:i,hostedChannel:o,videoID:"",videoPlayerSource:r}}(e.live,t)}else e.clip?n=function(e){var t=e.broadcaster&&e.broadcaster.login,n=S.a.CLIP,i=Object(C.h)(t||"",e.slug);return{clipSlug:e.slug,collectionID:"",contentCanonicalUrl:i,contentType:n,hostedChannel:null,videoID:"",videoPlayerSource:""}}(e.clip):e.video?n=E(e.video,e.collection):e.collection&&(n=function(e){var t=Object(y.c)(e);if(t)return E(t,e);var n=e.owner&&e.owner.login;return{clipSlug:"",collectionID:e.id,contentCanonicalUrl:Object(C.j)(n,void 0,e.id),contentType:S.a.COLLECTION,hostedChannel:null,videoID:"",videoPlayerSource:""}}(e.collection));return n||(this.logger.warn("Unable to set context.",e),{})},t.prototype.getPageType=function(e){if(e.match.params.standaloneType){if(e.match.params.standaloneType===b.e.Videos)return b.c.Videos;if(e.match.params.standaloneType===b.e.Collections)return b.c.Videos}if(void 0===e.match.params.page){if(e.match.params.contentType){if(e.match.params.contentType===b.a.Video)return b.c.Videos;if(e.match.params.contentType===b.a.Clip)return b.c.Clips;if(e.match.params.contentType===b.a.Collection)return b.c.Videos}return b.c.About}return e.match.params.page&&b.d.has(e.match.params.page)?e.match.params.page:(o.k.errorAndReport(new Error,"Unknown Page Type: '"+e.match.params.page+"' in route: "+e.match.url),b.c.About)},t.prototype.setupPubsub=function(e,t){var n=this;if(!this.pubsubHostTargetChange||this.pubsubHostTargetChange.channelLogin!==t)if(this.pubsubHostTargetChange&&this.pubsubHostTargetChange.unsubscribe(),e){var i=o.p.pubsub.subscribe({topic:Object(u.M)(e),onMessage:function(i){i.type!==s.PubsubMessageType.StreamChatRoomHostTargetChange&&i.type!==s.PubsubMessageType.StreamChatRoomHostTargetChangeV2||n.handleStreamChatRoomHostTargetChange(i,t,e)}});this.pubsubHostTargetChange={channelLogin:t,unsubscribe:i}}else this.pubsubHostTargetChange=void 0;if(!this.pubsubViewCountUpdate||this.pubsubViewCountUpdate.channelLogin!==t)if(this.pubsubViewCountUpdate&&this.pubsubViewCountUpdate.unsubscribe(),t&&e){var a=Object(u.U)(e);i=o.p.pubsub.subscribe({topic:a,onMessage:function(e){e.type===s.PubsubMessageType.ViewCount&&n.handleViewCount(e),e.type===s.PubsubMessageType.ChannelStreamDown&&n.handleStreamDown()}});this.pubsubViewCountUpdate={channelLogin:t,unsubscribe:i}}else this.pubsubViewCountUpdate=void 0;if(!this.pubsubBroadcastSettings||this.pubsubBroadcastSettings.channelLogin!==t)if(this.pubsubBroadcastSettings&&this.pubsubBroadcastSettings.unsubscribe(),e){i=o.p.pubsub.subscribe({topic:Object(u.h)(e),onMessage:function(e){var t,i;e.type===s.PubsubMessageType.BroadcastSettingsUpdate&&(n.clearBroadcastSettingsUpdateInterval(),n.handleBroadcastSettingsUpdateTimeout=setTimeout((function(){n.handleBroadcastSettingsUpdate(e)}),(t=n.maxRpsForUpdateAfterPubsub,i=n.state.viewerCount||1,Object(f.a)(function(e,t){return e?t/e*1e3:0}(t,i)))))}});this.pubsubBroadcastSettings={channelLogin:t,unsubscribe:i}}else this.pubsubBroadcastSettings=void 0},t.prototype.handleStreamChatRoomHostTargetChange=function(e,t,n){if(e.data.channel_id===n){o.o.track(m.SpadeEventType.HostModeDebug,{log_type:"pubsub_msg_v2",channel:t,data_channel_id:e.data.channel_id,data_target_channel_id:e.data.target_channel_id,data_target_channel_login:e.data.target_channel_login,prev_host_channel_login:this.state.hostedChannel&&this.state.hostedChannel.login}),this.channelStateChangeReason="pubsub";var i=e.data.channel_login,a=e.data.target_channel_id,r=(e.data.target_channel_login||"").toLowerCase();if(t!==i)return;a&&r?(this.setState({hostedChannel:{id:a,login:r,displayName:r,profileImageURL:null}}),this.fetchPubsubHostedChannel(r)):(this.setState({hostedChannel:null}),this.state.channel&&this.updateHost(this.state.channel,null));var s=this.state.currentUser&&this.state.currentUser.roles&&this.state.currentUser.roles.isSiteAdmin;this.state.contentType!==S.a.LIVE||s||this.setState({videoPlayerSource:r||t})}},t.prototype.updateHost=function(e,t){Object(d.h)({fragment:M,fragmentName:"channel",id:Object(l.a)(e),variables:{includeChanlets:!Object(g.a)()},mutator:function(e){return e?a(e,(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{hosting:t&&t.hosting||null})})):e}})},t.prototype.fetchPubsubHostedChannel=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:this.nextHostTarget=e,this.channelStateChangeReason="fetch_after_pubsub",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.p.apollo.client.query({query:T,variables:{hostedChannelLogin:e}})];case 2:return(t=i.sent()).data.user&&this.nextHostTarget===e&&(n=t.data.user,this.setState({hostedChannel:{id:n.id||"",login:n.login||"",displayName:n.displayName||"",profileImageURL:n.profileImageURL}})),[3,4];case 3:return a=i.sent(),Object(_.d)()?this.logger.warn("failed to fetch hosted channel data",{hostedChannelLogin:e}):this.logger.errorAndReport(a,"failed to fetch hosted channel data",{hostedChannelLogin:e}),[3,4];case 4:return[2]}}))}))},t.prototype.handleViewCount=function(e){e.viewers!==this.state.viewerCount&&this.setState({live:!0,viewerCount:e.viewers}),!this.state.channel||this.state.channel.stream&&e.viewers===this.state.channel.stream.viewersCount||this.updateStreamOnChannel(this.state.channel,(function(t){return a(t,(function(t){return Object(i.__assign)(Object(i.__assign)({},t),{viewersCount:e.viewers})}))})),this.clearResetOfflineTimer(),this.resetOfflineTimer=setTimeout(this.onResetOffline,6e4)},t.prototype.handleStreamDown=function(){o.o.track(m.SpadeEventType.ChannelOffline,{offline_type:"stream_down_pubsub",channel:this.state.channel&&this.state.channel.login}),this.setState({live:!1})},t.prototype.handleBroadcastSettingsUpdate=function(e){if(this.state.channel){var t=this.state.channel;Object(d.h)({fragment:M,fragmentName:"channel",id:Object(l.a)(t),variables:{includeChanlets:!Object(g.a)()},mutator:function(t){if(!t)return t;if(null!==e.status){var n=null;return e.game&&e.game_id&&(n={__typename:"Game",name:e.game,displayName:e.game,id:e.game_id,boxArtURL:Object(h.a)(e.game,{width:83,height:113})}),a(t,(function(t){var a,r=t.stream&&Object(i.__assign)(Object(i.__assign)({},t.stream),{title:e.status,game:n}),o=t.lastBroadcast&&Object(i.__assign)(Object(i.__assign)({},t.lastBroadcast),{title:e.status,game:n}),s=t.broadcastSettings&&Object(i.__assign)(Object(i.__assign)({},t.broadcastSettings),{title:(a=e.status,null!=a?a:t.broadcastSettings.title),game:n});return Object(i.__assign)(Object(i.__assign)({},t),{stream:r,lastBroadcast:o,broadcastSettings:s})}))}return t}})}},t.prototype.updateStreamOnChannel=function(e,t){Object(d.h)({fragment:M,fragmentName:"channel",id:Object(l.a)(e),variables:{includeChanlets:!Object(g.a)()},mutator:function(e){if(!e)return e;var n=e.stream,r={__typename:"Stream",id:"temp-stream-id."+e.id,game:null,viewersCount:null,title:"",type:c.a.Live};return a(e,(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{stream:t(n||r)})}))}})},t.prototype.clearResetOfflineTimer=function(){this.resetOfflineTimer&&(clearTimeout(this.resetOfflineTimer),this.resetOfflineTimer=void 0)},t.prototype.clearBroadcastSettingsUpdateInterval=function(){clearInterval(this.handleBroadcastSettingsUpdateTimeout),this.handleBroadcastSettingsUpdateTimeout=void 0},t}(r.Component)},uGUt:function(e,t,n){"use strict";var i;function a(e,t){return{type:i.PushHighlight,event:e,id:t}}function r(e){return{type:i.RemoveHighlight,id:e}}function o(e,t){return{type:i.MoveToHighlight,id:e,shouldExpand:!!t}}function s(){return{type:i.OpenListAllView}}function c(){return{type:i.CloseListAllView}}function l(e){return{type:i.ToggleExpanded,id:e}}n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),function(e){e.PushHighlight="push-highlight",e.RemoveHighlight="remove-highlight",e.MoveToHighlight="move-to-highlight",e.OpenListAllView="open-list-all-view",e.CloseListAllView="close-list-all-view",e.ToggleExpanded="toggle-expanded"}(i||(i={}))},uIkQ:function(e,t,n){"use strict";var i=n("b5C3"),a=n("fQWD"),r=(n("ZEQw"),n("yzyL"),n("mrSG")),o=n("DMoW"),s=(new(function(){function e(e,t,n){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map,this.count=e.length+(t?t.length:0),this.indexBadges(e,this.globalsBySet,n),Array.isArray(t)&&this.indexBadges(t,this.channelsBySet,n)}return e.prototype.getBadge=function(e,t){var n=this.channelsBySet.get(e);return n&&n.has(t)?n.get(t)||null:void 0!==(n=this.globalsBySet.get(e))&&n.get(t)||null},e.prototype.indexBadges=function(e,t,n){e.forEach((function(e){n&&e.clickAction===o.k.SUBSCRIBE&&(e=Object(r.__assign)(Object(r.__assign)({},e),{channelName:n}));var i=t.get(e.setID);i||(i=new Map,t.set(e.setID,i)),i.set(e.version,e)}))},e}())([],[],""),n("2Ev9"));n.d(t,"b",(function(){return i.a})),n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return s.b}))},"uKd/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("vCsY"),s=n("7d/q"),c=n("C7sF"),l=function(e){return r.createElement(s.a,a()({},e,Object(o.a)(e),{onClick:(e.onClick,e.onClick),ariaLabel:(e.ariaLabel,e.ariaLabel),title:e.title,icon:c.a.Close,overlay:e.overlay,size:e.size,type:e.type}))};l.displayName="CoreDismissible",l.displayName="CoreDismissible"},uYEN:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},uYvD:function(e,t,n){},ulxC:function(e,t,n){},utFH:function(e,t,n){},uu1w:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Command="command",e.Emote="emote",e.Mention="mention",e.Hashtag="hashtag",e.None="none"}(i||(i={}))},uy8m:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(i||(i={}))},"v+fc":function(e,t,n){},vGFN:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return y})),n.d(t,"l",(function(){return S})),n.d(t,"o",(function(){return C})),n.d(t,"n",(function(){return E})),n.d(t,"k",(function(){return w})),n.d(t,"m",(function(){return _})),n.d(t,"i",(function(){return N})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return D})),n.d(t,"b",(function(){return I})),n.d(t,"f",(function(){return M})),n.d(t,"c",(function(){return T})),n.d(t,"q",(function(){return j})),n.d(t,"p",(function(){return F}));var i,a,r,o,s,c,l=n("mrSG"),d=n("/7QA"),u=n("2xye"),m=n("IZXT"),p=n("mBWp");function h(e){d.p.tracking.track(u.SpadeEventType.WhisperThreadMod,{conversation_id:e.threadID,action:e.action})}function f(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:return[4,P()];case 1:return t=n.sent(),d.p.tracking.track(u.SpadeEventType.WhisperIgnoreUser,{ui_context:e.context,from_login:t&&t.login,ignored_login:e.targetUserLogin,reason:e.reason||i.Other,source:e.source}),[2]}}))}))}function g(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return[4,P()];case 1:return n=i.sent(),d.p.tracking.track(u.SpadeEventType.WhisperThreadMod,{conversation_id:e,action:t,login:n&&n.login}),[2]}}))}))}function v(e){d.p.tracking.track(u.SpadeEventType.WhisperAllThreadsMod,{action:e})}function b(){v(a.MarkAllRead)}function k(){v(a.EnableDoNotDisturb)}function y(){v(a.DisableDoNotDisturb)}function S(e,t){f({context:t,targetUserLogin:e,reason:i.Spam,source:"conversations_button"})}function C(e){g(e,s.MarkNotSpam)}function E(e){g(e,s.Archive)}function w(e){h({threadID:e,action:r.Mute})}function _(e){h({threadID:e,action:r.Unmute})}function N(e){h({threadID:e,action:r.Expand})}function O(e){h({threadID:e,action:r.Collapse})}function D(e){h({threadID:e,action:r.Close})}function I(e){h({threadID:e,action:r.Archive})}function M(e){d.p.tracking.track(u.SpadeEventType.WhisperThreadCreate,{conversation_id:e.threadID,target_login:e.targetUserlogin,source:"search_target_result",search_result_rank:e.searchResultRank})}function T(e){d.p.tracking.track(u.SpadeEventType.WhisperSearchClick,{query:e.searchQuery,source:"conversation_list",rank:e.searchResultRank,is_conversation:e.isConversation})}function P(){var e=this;return new Promise((function(t){setTimeout((function(){return Object(l.__awaiter)(e,void 0,void 0,(function(){var e,n,i;return Object(l.__generator)(this,(function(a){switch(a.label){case 0:e=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,d.p.apollo.client.query({query:p})];case 2:return e=a.sent(),[3,4];case 3:return n=a.sent(),Object(m.d)()?d.k.warn("Failed to make query for current user info in WhisperSent reporting"):d.k.errorAndReport(n,"Failed to make query for current user info in WhisperSent reporting"),[3,4];case 4:return i=e&&e.data&&e.data.currentUser,t(i),[2]}}))}))}))}))}function j(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:return[4,P()];case 1:return t=n.sent(),d.p.tracking.track(u.SpadeEventType.WhisperSent,{to:e.targetUserLogin,from:t&&t.login,player:"web",is_turbo:t&&t.hasTurbo,conversation_id:e.threadID,availability:t&&t.availability,room_type:e.inChannelChat?c.Channel:c.Conversation}),[2]}}))}))}function F(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:return[4,P()];case 1:return t=n.sent(),d.p.tracking.track(u.SpadeEventType.WhisperReceived,{to:t&&t.login,from:e.targetUserLogin,player:"web",is_turbo:t&&t.hasTurbo,conversation_id:e.threadID}),[2]}}))}))}!function(e){e.Harassment="Harassment",e.Spam="Spam",e.Other="Other"}(i||(i={})),function(e){e.MarkAllRead="mark_all_read",e.EnableDoNotDisturb="do_not_disturb_on",e.DisableDoNotDisturb="do_not_disturb_off"}(a||(a={})),function(e){e.Mute="mute",e.Unmute="unmute",e.Expand="maximize",e.Collapse="minimize",e.Close="close",e.Archive="archive",e.Open="open"}(r||(r={})),function(e){e.Dock="dock",e.SpamPropmt="dock_spam_cta"}(o||(o={})),function(e){e.Archive="archive",e.MarkNotSpam="mark_not_spam"}(s||(s={})),function(e){e.Channel="channel",e.Conversation="conversation"}(c||(c={}))},vHGB:function(e,t,n){"use strict";var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("DMoW"),s=n("2xye"),c=n("ZEQw"),l=n("xZ3y"),d=n("Rjl4"),u=n("Jsra"),m=n("b7S+"),p=n("hnjF"),h=(n("E78O"),n("/7QA")),f=n("rYEI");var g=function(e){e.badge_type=e.badge_type.toLowerCase().replace(/( |\s)/g,"_"),h.p.tracking.track(s.SpadeEventType.ChatBadgeClick,e)};n.d(t,"a",(function(){return b}));var v="https://www.twitch.tv/products/turbo?ref=chat_badge",b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovering:!1},t.primeReferralID="",t.onMouseOver=function(){t.setState({isHovering:!0})},t.onMouseOut=function(){t.setState({isHovering:!1})},t.onBadgeClickHandler=function(){g({badge_type:t.props.badge&&t.props.badge.title||t.props.schemaBadge&&t.props.schemaBadge.title||"",badge_url_target:t.targetURL})},t.onPrimeBadgeClickHandler=function(){Object(d.w)({tp_refcode:t.primeReferralID,medium:s.PageviewMedium.Chat,content:s.PageviewContent.CrownBadge,tp_campaign:d.b.TrackingAlpha}),t.onBadgeClickHandler()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.schemaBadge||this.props.badge,t=e&&function(e,t){if(!t)return e.title;var n=Number(t)||0;if("subscriber"===e.setID){var i=Number(e.version)||0;if(n>0)return 0===i?Object(h.d)("{tenure}-Month Subscriber",{tenure:String(n)},"DynamicBadgeTitles"):Object(h.d)("{tenure}-Month Subscriber ({title} Badge)",{tenure:String(n),title:Object(f.a)(i)},"DynamicBadgeTitles")}else if("founder"===e.setID)return n>0?Object(h.d)("Founder, {tenure}-Month Subscriber",{tenure:String(n)},"DynamicBadgeTitles"):Object(h.d)("Founder","DynamicBadgeTitles");return e.title}(e,this.props.dynamicData)||"",n=this.props.schemaBadge?this.props.schemaBadge.version:this.props.badge&&this.props.badge.version||"",i=this.props.schemaBadge?this.props.schemaBadge.setID:this.props.badge&&this.props.badge.setID||"",o=this.props.schemaBadge?this.props.schemaBadge.image1x:this.props.badge&&this.props.badge.image1x||"",s=this.props.schemaBadge?this.props.schemaBadge.image2x:this.props.badge&&this.props.badge.image2x||"",c=this.props.schemaBadge?this.props.schemaBadge.image4x:this.props.badge&&this.props.badge.image4x||"",g=this.props.large,v=this.props.hideTooltip,b=a({"chat-badge":!this.props.noMargins}),k=g?s:o,y=g?s+" 1x, "+c+" 2x":o+" 1x, "+s+" 2x, "+c+" 4x";i===l.a&&(t=Object(l.d)(t,n));var S=r.createElement("img",{alt:t,"aria-label":Object(h.d)("{badgeTitle} badge",{badgeTitle:t},"Badge"),className:b,src:k,srcSet:y,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut});if(this.targetURL=this.getTargetURL(),""!==this.targetURL){var C=this.onBadgeClickHandler;e&&"cHJlbWl1bTsxOw=="===e.id&&(this.primeReferralID=Object(d.e)(),this.targetURL=Object(d.d)(this.targetURL,this.primeReferralID),C=this.onPrimeBadgeClickHandler),S=r.createElement(u.a,{linkTo:this.targetURL,onClick:C,targetBlank:!0,"data-a-target":"chat-badge"},S)}return!v&&this.state.isHovering?r.createElement(m.a,{align:m.b.Left,"data-a-target":"chat-badge",display:p.d.Inline,key:o,label:t,offsetY:"0.9rem"},S):S},t.prototype.getTargetURL=function(){if(this.props.badge){if(this.props.badge.setID===l.a)return"";switch(this.props.badge.clickAction){case c.e:case o.k.VISIT_URL:return this.props.badge.clickURL;case c.c:case o.k.SUBSCRIBE:return this.props.badge.channelName?this.getSubscriberLink(this.props.badge.channelName):"";case c.d:case o.k.GET_TURBO:return v;default:return""}}else if(this.props.schemaBadge){if(this.props.schemaBadge.setID===l.a)return"";switch(this.props.schemaBadge.clickAction){case c.e:case o.k.VISIT_URL:return this.props.schemaBadge.clickURL||"";case c.c:case o.k.SUBSCRIBE:return this.props.schemaBadge.channelName?this.getSubscriberLink(this.props.schemaBadge.channelName):"";case c.d:case o.k.GET_TURBO:return v;default:return""}}return""},t.prototype.getSubscriberLink=function(e){return"https://www.twitch.tv/"+e+"/subscribe?ref=in_chat_subscriber_link"},t}(r.Component)},vKai:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("fvjX"),s=n("/7QA"),c=n("gcd7"),l=n("3kHA"),d=n("WytW"),u=n("NNSq"),m=n("CzFK"),p=n("TOso"),h=n("NMMG"),f=n("l1Uh"),g=n("PrJw"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWhisperCommand=function(e){var n=Object(d.u)("/w "+e);if(!n||!n.recipientLogin||!n.body)return{preserveInput:!0,deferred:Promise.resolve({notice:t.whisperUsage(),error:l.a.InvalidParameters})};var i=n.recipientLogin,a=n.body;return t.props.isEmbedded||t.props.isPopout?{deferred:Promise.resolve({notice:Object(s.d)("Please use the whisper window for whispers.","WhisperCommandHandler")})}:i.toLowerCase()===t.props.userLogin?{deferred:Promise.resolve({notice:Object(s.d)("You cannot whisper to yourself.","WhisperCommandHandler")})}:t.props.userID?t.initiateWhisper(i,a):void 0},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(c.a,{args:[{name:"username",isRequired:!0},{name:"message",isRequired:!0}],channelLogin:this.props.channelLogin,command:"w",description:Object(s.d)("Whisper to another user","WhisperCommandHandler"),handler:this.handleWhisperCommand,helpText:this.whisperUsage(),hidden:!0,permissionLevel:l.b.Viewer})},t.prototype.initiateWhisper=function(e,t){var n=this;return{deferred:new Promise((function(a,r){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n,o,c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(u.a)(e)];case 1:return n=i.sent(),[3,3];case 2:return o=i.sent(),s.k.warn(o,"Failed to fetch user targeted by whisper command.",{recipientLogin:e}),[2,r(o)];case 3:return n?[3,4]:[2,a({notice:Object(s.d)("No user matching that login.","WhisperCommandHandler")})];case 4:c=Object(h.a)(this.props.userID,n),i.label=5;case 5:return i.trys.push([5,7,,8]),Object(g.m)({threadID:c,targetUserLogin:e,inChannelChat:!0}),[4,Object(p.a)({currentUserID:this.props.userID,emotes:this.props.emoteMap||{},message:t,recipientUserID:n})];case 6:return i.sent(),[3,8];case 7:return l=i.sent(),s.k.errorAndReport(l,"Failed to send whisper using whisper command.",{currentUserID:this.props.userID,recipientUserID:n}),[2,a({notice:Object(s.d)("Unable to send Whisper at this moment.","WhisperCommandHandler")})];case 8:return this.props.openThread(c),[2,a({})]}}))}))}))}},t.prototype.whisperUsage=function(){return Object(s.d)('Usage: "/w <username> <message>" - Sends a private message to another user.',"WhisperCommandHandler")},t}(a.Component);var b=Object(r.b)(null,(function(e){return Object(o.b)({openThread:function(e){return Object(m.l)({threadID:e,collapsed:!0},Object(f.a)())}},e)}))(v);n.d(t,"a",(function(){return b}))},"vLL+":function(e,t,n){"use strict";var i=n("q1tI"),a=n("/7QA"),r=n("mrSG"),o=n("wUQP"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return Object(o.a)(this.props.name)?this.props.children:null},t}(i.Component),c=n("C7sF"),l=n("hnjF"),d=n("b7S+"),u=n("X2PJ"),m=n("Ws8v"),p=n("7uM4");n("L6L7");n.d(t,"a",(function(){return h}));var h=function(e){var t=e.onBanUser,n=c.a.Ban,r=Object(a.d)("Ban {login}",{login:e.senderLogin},"ModerationIcons"),o="chat-ban-button",h=null,f=e.renderNewVersion?l.d.Flex:l.d.Inline,g=e.renderNewVersion?d.b.Center:d.b.Left,v=e.renderNewVersion?d.c.Bottom:d.c.Top,b=e.renderNewVersion?u.c.Link:u.c.Alt2,k=e.renderNewVersion?{right:.5}:{right:0};return e.isMessageBanned&&(t=e.onUnbanUser,n=c.a.FollowCheck,r=Object(a.d)("Unban {login}",{login:e.senderLogin},"ModerationIcons"),o="chat-unban-button"),!e.isMessageDeleted&&e.canDelete&&(h=i.createElement(s,{name:"single_message_delete"},i.createElement(m.a,{display:l.d.InlineFlex,margin:k,verticalAlign:l.m.Bottom},i.createElement(d.a,{align:g,direction:v,label:Object(a.d)("Delete message","ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onDelete,"data-test-selector":"chat-delete-button"},i.createElement(p.a,{width:16,height:16,type:p.b.Inherit,asset:c.a.Trash})))))),i.createElement(m.a,{color:b,display:f,margin:{right:.5}},i.createElement(m.a,{display:l.d.InlineFlex,margin:k,verticalAlign:l.m.Bottom},i.createElement(d.a,{align:g,direction:v,label:r},i.createElement("button",{className:"mod-icon",onClick:t,"data-test-selector":o},i.createElement(p.a,{width:16,height:16,type:p.b.Inherit,asset:n})))),i.createElement(m.a,{display:l.d.InlineFlex,margin:k,verticalAlign:l.m.Bottom},i.createElement(d.a,{align:g,direction:v,label:Object(a.d)("Timeout {login}",{login:e.senderLogin},"ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onTimeoutUser,"data-test-selector":"chat-timeout-button"},i.createElement(p.a,{width:16,height:16,type:p.b.Inherit,asset:c.a.Timeout})))),h)}},vRsq:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"u",(function(){return f})),n.d(t,"r",(function(){return g})),n.d(t,"t",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"q",(function(){return k})),n.d(t,"y",(function(){return y})),n.d(t,"v",(function(){return S})),n.d(t,"x",(function(){return C})),n.d(t,"w",(function(){return E})),n.d(t,"j",(function(){return w})),n.d(t,"h",(function(){return _})),n.d(t,"k",(function(){return N})),n.d(t,"i",(function(){return O})),n.d(t,"l",(function(){return D})),n.d(t,"m",(function(){return I})),n.d(t,"s",(function(){return T})),n.d(t,"p",(function(){return P})),n.d(t,"n",(function(){return j}));var i,a,r,o,s=n("cr+I"),c=n("/7QA"),l=n("DMoW"),d=n("XKWF"),u=n("+GjP"),m="sort",p="filter",h="range";function f(e,t,n,i){var r=i||g(t),o="";r&&(o="?"+m+"="+function(e){switch(e){case d.a.VIEWS:return a.Popular;case d.a.TIME:return a.Newest;default:return e}}(r));var s=n?n.toLowerCase():function(e){var t=v(e);return t?t.toLowerCase():"all"}(t);c.p.history.push(e+"/"+s+o)}function g(e){var t=s.parse(e.location.search);return Object(d.b)(t.sort||"")}function v(e){switch(e.match.params.filter){case l.B.ARCHIVE.toLowerCase():return l.B.ARCHIVE;case l.B.HIGHLIGHT.toLowerCase():return l.B.HIGHLIGHT;case l.B.UPLOAD.toLowerCase():return l.B.UPLOAD;case l.B.PAST_PREMIERE.toLowerCase():return l.B.PAST_PREMIERE;default:return}}function b(e){var t=s.parse(e.location.search);return e.match.params.collectionID||t.collection||null}function k(e){return""===e?"":e.startsWith("v")?e:"v"+e}function y(e){switch(e){case l.B.ARCHIVE:return r.PastBroadcasts;case l.B.HIGHLIGHT:return r.Highlights;case l.B.PAST_PREMIERE:return r.PastPremieres;case l.B.PREMIERE_UPLOAD:return null;case l.B.UPLOAD:return r.Uploads;default:return e}}function S(e){var t=Object(u.a)(e,h);if(!t)return null;switch(t.toLowerCase()){case i.All:return i.All;case i.Day:return i.Day;case i.Week:return i.Week;case i.Month:return i.Month;case i.Trending:return i.Trending;default:return null}}function C(e){var t=Object(u.a)(e,m);if(!t)return null;switch(t.toLowerCase()){case a.Newest:return a.Newest;case a.Popular:return a.Popular;default:return null}}function E(e){var t=Object(u.a)(e,p);if(!t)return null;switch(t.toLowerCase()){case r.Clips:return r.Clips;case r.Collections:return r.Collections;case r.Highlights:return r.Highlights;case r.PastBroadcasts:return r.PastBroadcasts;case r.PastPremieres:return r.PastPremieres;case r.Uploads:return r.Uploads;case r.All:return r.All;default:return null}}function w(e,t,n){return!t&&n?e?"/"+e+"/"+o.Collection+"/"+n:"/collections/"+n:e?"/"+e+"/"+o.Video+"/"+t+(n?"?collection="+n:""):"/videos/"+t+(n?"?collection="+n:"")}function _(e,t){return"/"+e+"/"+o.Clip+"/"+t}function N(e,t,n){var i="/"+e,a=T(t),c=function(e){return e.match.params.contentType===o.Clip&&e.match.params.contentID||null}(t),l=P(t),d=s.parse(t.location.search).collection;if(i=a?i.concat("/"+o.Video+"/"+a+(d?"?collection="+d:"")):c?i.concat("/"+o.Clip+"/"+c):l&&!d?i.concat("/"+o.Collection+"/"+l):n&&n.filter===r.Clips?i.concat("/clips"):i.concat("/videos"),n){var u=M(n);if(Object.keys(u).length>0)return d?i+"&"+s.stringify(u):i+"?"+s.stringify(u)}return D(e,n)}function O(e,t){var n="/collections/"+e,i=M(s.parse(t.location.search));return Object.keys(i).length>0?n+"?"+s.stringify(i):n}function D(e,t){var n="/"+e+"/videos";if(t){var i=M(t);if(Object.keys(i).length>0)return n+"?"+s.stringify(i)}return n}function I(e){return"/"+e+"/videos/edit"}function M(e){var t={};return e.sort&&(t[m]=e.sort),e.filter&&(t[p]=e.filter),e.range&&(t[h]=e.range),t}function T(e){return e.match.params.contentType===o.Video&&e.match.params.contentID||e.match.params.videoID||null}function P(e){var t=s.parse(location.search);return e.match.params.contentType===o.Collection&&e.match.params.contentID||e.match.params.collectionID||t.collection||null}function j(e){switch(e){case i.All:return l.O.ALL_TIME;case i.Day:return l.O.LAST_DAY;case i.Week:return l.O.LAST_WEEK;case i.Month:return l.O.LAST_MONTH;case i.Trending:return l.O.TRENDING;default:return e}}!function(e){e.All="all",e.Month="30d",e.Week="7d",e.Day="24hr",e.Trending="trending"}(i||(i={})),function(e){e.Popular="views",e.Newest="time"}(a||(a={})),function(e){e.Clips="clips",e.Collections="collections",e.Highlights="highlights",e.PastBroadcasts="archives",e.PastPremieres="past_premieres",e.Uploads="uploads",e.All="all",e.Featured="featured"}(r||(r={})),function(e){e.Video="video",e.Clip="clip",e.Collection="collection"}(o||(o={}))},vSeP:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("XIZb"),a=Object(i.a)("ActiveChatters"),r=a.withChatServiceManager,o=a.withContext,s=r,c=o((function(e){return{activeChattersAPI:e.serviceAPI,setActiveChattersAPI:e.setServiceAPI}}))},"ve/r":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteVariantFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUnlockable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteModificationFragment"},directives:[]}]}}]}}],loc:{start:0,end:341}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\n#import "twilight/features/community-points/models/emote-modification-fragment.gql"\nfragment emoteVariantFragment on CommunityPointsEmoteVariant {\nid\nisUnlockable\nemote {\n...communityPointsEmoteFragment\n}\nmodifications {\n...emoteModificationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("KrPZ").definitions)),i.definitions=i.definitions.concat(r(n("sj0o").definitions)),e.exports=i},vtET:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelCollection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelVideo"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}}]}}],loc:{start:0,end:269}};i.loc.source={body:'#import "twilight/features/channel/queries/channel-video.gql"\n#import "twilight/features/channel/queries/channel.gql"\nfragment channelCollection on Collection {\nid\nitems(first: 1) {\ntotalCount\nedges {\nnode {\n... on Video {\n...channelVideo\n}\n}\n}\n}\nowner {\n...channel\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("RTtf").definitions)),i.definitions=i.definitions.concat(r(n("BbLt").definitions)),e.exports=i},w1PT:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("/7QA"),a=n("ZS2+"),r=n("SDEh"),o=n("XDCx"),s=n("IZXT"),c=n("8EUQ"),l="core.ui.CHECKOUT_SHOWN";function d(e){if(Object(r.b)()){try{c.a.clearSubscriptionCheckoutKeys(),function(e){if(!e.productName)return void i.k.warn("No productName provided");var t=new URL("https://www.twitch.tv/products/"+e.productName);e.recipientLogin?t.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount&&t.searchParams.append("gift_count",e.mysteryGiftCount.toString());e.isAnonymous&&t.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&t.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(t.toString(),"_blank")}(e)}catch(e){Object(s.d)()?i.k.warn("Failed to open subscription checkout externally"):i.k.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:l})}}return function(t){t(Object(o.e)(a.a,{component:"CheckoutModal",loader:function(){return n.e(70).then(n.bind(null,"KJv/"))},componentProps:e}))}}},w4P5:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelBadgeSets"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}],loc:{start:0,end:209}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChannelBadgeSets($channelLogin: String!) {\nbadges {\n...badge\n}\nchannel: user(login: $channelLogin) {\nid\nlogin\nbroadcastBadges {\n...badge\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.ChannelBadgeSets=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelBadgeSets")},wAVh:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"poll"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Poll"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"remainingDurationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopContributor"},directives:[]}]}}]}}],loc:{start:0,end:667}};i.loc.source={body:'#import "twilight/features/polls/models/poll-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-settings-fragment.gql"\n#import "twilight/features/polls/models/poll-top-contributor-fragment.gql"\nfragment poll on Poll {\nid\nchoices {\n...pollChoice\n}\ndurationSeconds\nstartedAt\nendedAt\nstatus\ntitle\nownedBy {\nid\n}\ncreatedBy {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\ntotalVoters\nvotes {\n...pollVoteBreakdown\n}\nsettings {\n...pollSettings\n}\nremainingDurationMilliseconds\ntopContributor {\n...pollTopContributor\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("quxh").definitions)),i.definitions=i.definitions.concat(r(n("/x02").definitions)),i.definitions=i.definitions.concat(r(n("wMQt").definitions)),i.definitions=i.definitions.concat(r(n("OGC9").definitions)),i.definitions=i.definitions.concat(r(n("31iR").definitions)),e.exports=i},wFyP:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("QVaV"),o=n("EE1E"),s=(n("HWU2"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUsernameClick=function(e){t.props.onUsernameClick&&t.props.onUsernameClick(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.highContrastUsernameColor,n=e.sender,i=n.chatColor;t&&i&&(i="#"+Object(o.a)(i,this.props.theme));var s=[a.createElement("span",{key:"username-display",className:"message-author__display-name","data-test-selector":"message-username",style:{color:i||void 0}},n.displayName)];n.displayName&&!Object(r.b)(n.displayName)&&s.push(a.createElement("span",{key:"username-login",style:{color:n.chatColor||void 0},className:"message-author__intl-login","data-test-selector":"message-username-canonical"}," ("+n.login+")"));var c=this.props.onUsernameClick?"message-author__username--clickable":"message-author__username";return a.createElement("span",{onClick:this.handleUsernameClick,className:c},s)},t}(a.Component));n.d(t,"a",(function(){return s}))},wKtC:function(e,t,n){},wMQt:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoteBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoteBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"base"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:70}};n.loc.source={body:"fragment pollVoteBreakdown on PollVoteBreakdown {\ntotal\nbits\nbase\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},wp5a:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var i,a=n("pVnL"),r=n.n(a),o=n("q1tI"),s=n("fNzW"),c=n("vCsY"),l=n("+80q"),d=n("X2PJ");n("aSQN");!function(e){e.Notification="tw-pill--notification",e.Brand="tw-pill--brand",e.Live="tw-pill--live",e.Alert="tw-pill--alert",e.Success="tw-pill--success",e.Prime="tw-pill--prime",e.Overlay="tw-pill--overlay",e.Warn="tw-pill--warn"}(i||(i={}));var u=function(e){var t={"tw-pill":!0};return e.type&&(t[e.type]=!0),o.createElement(l.a,r()({type:l.e.Span,transform:e.transform,fontWeight:d.e.SemiBold,className:Object(s.a)(t)},Object(c.a)(e)),e.label)};u.displayName="Pill",u.defaultProps={transform:l.d.Uppercase},u.displayName="Pill"},wpfL:function(e,t,n){},"x0+1":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("Jsra"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={alwaysShowMessage:!1},t.renderBody=function(){return t.state.alwaysShowMessage?t.props.messageBody:a.createElement("span",{key:"deleted",className:"chat-line__message--deleted"},a.createElement(o.a,{linkTo:"",onClick:t.alwaysShowMessage},"<"+Object(r.d)("click to show","MessageDeletedLine")+">"))},t.alwaysShowMessage=function(e){e&&e.preventDefault(),t.setState({alwaysShowMessage:!0})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.moderatorLogin,n=e.targetIsCurrentUser,i=this.props.targetLogin;return n?Object(r.d)("A moderator deleted your message: {body}",{body:this.renderBody()},"MessageDeletedLine"):t?Object(r.d)("{moderatorLogin} deleted {targetLogin}'s message: {body}",{moderatorLogin:t,targetLogin:i,body:this.renderBody()},"MessageDeletedLine"):Object(r.d)("A moderator deleted {targetLogin}'s message: {body}",{targetLogin:i,body:this.renderBody()},"MessageDeletedLine")},t}(a.Component);n.d(t,"a",(function(){return s}))},x0gr:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("r2Xj"),s=n("oi4T"),c=function(e){a.o.track(r.SpadeEventType.ChatSettingsOpened,Object(s.b)(e))},l=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:e.settingName,new_value:e.newValue.toString()});a.o.track(r.SpadeEventType.ChatSettingsChanged,t)},d=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:e.settingName,new_value:e.newValue.toString().toLowerCase(),old_value:e.oldValue&&e.oldValue.toLowerCase(),channel_id:e.channelID});a.o.track(r.SpadeEventType.ChatSettingsChanged,t)},u=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:o.a.FollowerDuration,new_value:e.newValue.toString(),follower_mode_on:e.followerModeOn});a.o.track(r.SpadeEventType.ChatSettingsChanged,t)},m=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:o.a.SlowModeDuration,new_value:e.newValue.toString(),slow_mode_on:e.slowModeOn});a.o.track(r.SpadeEventType.ChatSettingsChanged,t)}},x1M1:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("/0dD"),s=n("XDQu"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=(e.defaultRes,e.sources),n=(e.darkModeEnabled,Object(i.__rest)(e,["defaultRes","sources","darkModeEnabled"])),r=this.props.darkModeEnabled?t.dark:t.light,o=Object.keys(r);delete n.dispatch;var s=Object(i.__assign)(Object(i.__assign)({},n),{src:r[this.props.defaultRes||o[0]],srcSet:o.map((function(e){return r[e]+" "+e})).join(",")});return a.createElement("img",Object(i.__assign)({},s,{onLoad:this.props.onLoad}))},t}(a.Component);var l=Object(r.b)((function(e){return{darkModeEnabled:Object(s.a)(e)===o.a.Dark}}))(c);n.d(t,"a",(function(){return l}))},x7UT:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("CGXs");function o(e){return function(t){return function(n){for(var o=e.slice(),s={},c={},l=function(){var e=o.splice(0,1)[0],t=!!e.skip&&function(e,t){return"boolean"==typeof e?e:e(t)}(e.skip,n),i=t?"":function(e,t){return"string"==typeof e?e:e(t)}(e.topic,n),a=Object(r.a)(i,t,"function"==typeof e.skipMessage?function(t){return!!e.skipMessage&&e.skipMessage(t,n)}:void 0),l=a[0],d=a[1],u=e.mapMessageTypesToProps[l&&l.type||""]||e.mapMessageTypesToProps["*"];l&&(s[u]=l),d&&(c[i]=d)};o.length;)l();var d={pubsub:{messages:s,status:c}};return a.createElement(t,Object(i.__assign)({},n,d))}}}n.d(t,"a",(function(){return o}))},xDdc:function(e,t,n){},xM4F:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndCommentCreatorAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentCreator"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},{kind:"Variable",name:{kind:"Name",value:"commentCreator"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:245}};n.loc.source={body:"query VideoChatChannelAndCommentCreatorAndVideoTrackingContext($videoCreatorID: ID! $commentCreator: ID! $videoID: ID) {\nusers(ids: [$videoCreatorID $commentCreator]) {\nid\nlogin\n}\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChatChannelAndCommentCreatorAndVideoTrackingContext=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChatChannelAndCommentCreatorAndVideoTrackingContext")},xQnr:function(e,t,n){"use strict";var i=n("8qOS");n.d(t,"a",(function(){return i.a}))},xXlL:function(e,t,n){"use strict";function i(e){return{id:""+e.id,start:e.start,end:e.end}}function a(e){return{__typename:"WhisperMessageEdge",cursor:""+e.data_object.id,node:{__typename:"WhisperMessage",id:e.data_object.message_id,nonce:e.data_object.nonce,sentAt:new Date(1e3*e.data_object.sent_ts).toISOString(),editedAt:null,deletedAt:null,content:{__typename:"MessageBody",content:e.data_object.body,emotes:e.data_object.tags.emotes.map((function(e){return o(i(e))}))},from:{__typename:"User",id:""+e.data_object.from_id}}}}function r(e){return e.map((function(e){return o(i(e))}))}function o(e){return{from:e.start,to:e.end,emoteID:e.id,id:e.id+";"+e.start+";"+e.end,setID:"0",__typename:"EmbeddedEmote"}}n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},xZ3y:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var i=n("/7QA"),a="bits",r="cheer";function o(e,t){return e&&e.setID===a&&e.title&&!c(e)?s(e.title,e.version):Object(i.g)(t,{maximumFractionDigits:2})}function s(e,t){if(e.endsWith(t)){var n=parseInt(t,10);if(!isNaN(n))return""+e.substring(0,e.length-t.length)+Object(i.g)(n,{maximumFractionDigits:2})}return e}function c(e){return e.title===r+" "+e.version}},xahZ:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"availableClaimFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsBalanceFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"rewardsFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPointAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteVariants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteVariantFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"earningSettingsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"activeMultipliersFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1210}};i.loc.source={body:'#import "twilight/features/community-points/models/active-multipliers-fragment.gql"\n#import "twilight/features/community-points/models/available-claim-fragment.gql"\n#import "twilight/features/community-points/models/balance-fragment.gql"\n#import "twilight/features/community-points/models/emote-variant-fragment.gql"\n#import "twilight/features/community-points/models/point-customization-fragment.gql"\n#import "twilight/features/community-points/models/rewards-fragment.gql"\n#import "twilight/features/community-points/models/earning-settings-fragment.gql"\nquery ChannelPointsContext($channelLogin: String!) {\ncommunity: user(login:$channelLogin) {\nid\ndisplayName\n# We fetch everything here in the top-level query. This avoids data waterfalls that would occur if we\n# only fetched data after first querying whether the channel has points enabled.\n...availableClaimFragment\n...communityPointsBalanceFragment\n...pointCustomizationFragment\n...rewardsFragment\nchannel {\nid\ncommunityPointsSettings {\nisEnabled\nraidPointAmount\nemoteVariants {\n...emoteVariantFragment\n}\nearning {\n...earningSettingsFragment\n}\n}\nself {\ncommunityPoints {\nactiveMultipliers {\n...activeMultipliersFragment\n}\n}\n}\n}\nself {\nisModerator\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NeSQ").definitions)),i.definitions=i.definitions.concat(r(n("hgww").definitions)),i.definitions=i.definitions.concat(r(n("VIQE").definitions)),i.definitions=i.definitions.concat(r(n("ve/r").definitions)),i.definitions=i.definitions.concat(r(n("XBQy").definitions)),i.definitions=i.definitions.concat(r(n("y8+g").definitions)),i.definitions=i.definitions.concat(r(n("F9p4").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelPointsContext=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelPointsContext")},xf5M:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLoginModerationTracking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"target"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:234}};n.loc.source={body:"query ChatLoginModerationTracking($channelID: ID! $targetUserID: ID!) {\ntarget: user(id: $targetUserID) {\nid\nlogin\n}\nchannel: user(id: $channelID) {\nid\nlogin\nself {\nisModerator\nisEditor\n}\n}\ncurrentUser {\nid\nlogin\nroles {\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatLoginModerationTracking=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatLoginModerationTracking")},xfJC:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n("+80q"),r=n("X2PJ"),o=n("2Ob2"),s=function(e){return i.createElement(a.a,{type:a.e.P,fontSize:r.d.Size7,color:e.overlay?r.c.OverlayAlt:r.c.Alt2},e.hint)};s.displayName="FormHintComponent",s.displayName="FormHintComponent";var c=Object(o.c)(s)},xyN1:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slugID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slugID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelClip"},directives:[]}]}}]}}],loc:{start:0,end:276}};i.loc.source={body:'#import "twilight/features/channel/queries/channel-current-user.gql"\n#import "twilight/features/channel/queries/channel-clip.gql"\nquery ChannelRoot_Clip(\n$slugID: ID!\n$includeChanlets: Boolean!\n) {\ncurrentUser {\n...channelCurrentUser\n}\nclip(slug: $slugID) {\n...channelClip\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NJiF").definitions)),i.definitions=i.definitions.concat(r(n("oc+d").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelRoot_Clip=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelRoot_Clip")},xzy9:function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/MKj"),s=n("fvjX"),c=n("/7QA"),l=n("yR8l"),d=n("geRD"),u=n("DMoW"),m=n("kRBY"),p=n("1rIY"),h=n("BR/5"),f=n("FQLb"),g="deletedMessageDisplaySetting",v=Object(p.a)("DeletedMessageDisplaySettingContext",{setValue:function(){return null},value:void 0,isShowingDeletedMessageDisplaySettings:!1,hideDeletedMessageDisplaySettings:function(){return null},showDeletedMessageDisplaySettings:function(){return null},hasSetSetting:function(){return!1}}),b=v.context,k=v.withContext,y=function(e){function t(t){var n=e.call(this,t)||this;return n.hasSetSetting=function(){var e=n.hasData(n.props);return!(!e||null===e.deletedMessageDisplaySetting)||null!==c.m.get(g,null)},n.setValue=function(e){if(n.setState({localOverride:e}),c.m.set(g,e),n.props.isLoggedIn){var t=Object(i.__assign)(Object(i.__assign)({},Object(d.a)({deletedMessageDisplaySetting:e})),{optimisticResponse:{setDeletedMessageDisplaySetting:{__typename:"SetDeletedMessageDisplaySettingPayload",deletedMessageDisplaySetting:e}},update:function(t){var n;try{n=t.readQuery({query:f})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=a(n,(function(e){return e.currentUser.chatUISettings.deletedMessageDisplaySetting}),(function(){return e}));t.writeQuery({query:f,data:i})}}});n.props.setDeletedMessageDisplaySetting(t)}},n.hideDeletedMessageDisplaySettings=function(){n.setState({isShowingDeletedMessageDisplaySettings:!1})},n.showDeletedMessageDisplaySettings=function(){n.setState({isShowingDeletedMessageDisplaySettings:!0})},n.state={isShowingDeletedMessageDisplaySettings:!1},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(b.Provider,{value:{setValue:this.setValue,value:this.value,isShowingDeletedMessageDisplaySettings:this.state.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.showDeletedMessageDisplaySettings,hasSetSetting:this.hasSetSetting}},this.props.children)},t.prototype.componentDidUpdate=function(e){!this.hasData(this.props)||this.hasData(e)||(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?c.m.set(g,this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting):c.m.get(g,null)&&this.value&&this.setValue(this.value))},t.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},t.prototype.defaultValue=function(e){return this.props.sessionUser&&e&&this.props.sessionUser.id===e?u.pb.BRIEF:u.pb.DETAILED},Object.defineProperty(t.prototype,"value",{get:function(){if(c.b.get("deleted_message_display",!1))return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting:c.m.get(g,null)||this.defaultValue(this.props.channelID)},enumerable:!0,configurable:!0}),t}(r.Component);var S=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(m.f)(e),sessionUser:Object(m.e)(e)}})),Object(l.a)(f,{skip:function(e){return!e.isLoggedIn}}),Object(l.a)(h,{name:"setDeletedMessageDisplaySetting"}))(y);n.d(t,"a",(function(){return"deleted_message_display"})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return S}))},y0tB:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("pVnL"),a=n.n(i),r=n("8OQS"),o=n.n(r),s=n("q1tI"),c=n("fNzW"),l=n("vCsY"),d=n("1H2c"),u=n("hnjF"),m=n("Ws8v"),p=n("2Ob2"),h=n("2nDl"),f=(n("eJuE"),function(e){var t,n="tw-"+Object(d.a)(),i={"tw-radio":!0,"tw-radio--error":e.error,"tw-radio--overlay":e.overlay};e.tabIndex&&(t=e.tabIndex);var r=h.c.Default;e.size&&(r=e.size);e.label,e.size,e.overlay,e.error;var p=o()(e,["label","size","overlay","error"]);return s.createElement(m.a,a()({className:Object(c.a)(i),fontSize:h.b[r]},Object(l.a)(e)),s.createElement("input",a()({},Object(l.b)(p),{type:"radio",className:"tw-radio__input","data-a-target":"tw-radio",tabIndex:t,id:e.id?e.id:n})),s.createElement(u.g,{display:u.d.Block},s.createElement("label",{className:"tw-radio__label",htmlFor:e.id?e.id:n},e.label)))});f.displayName="RadioComponent",f.displayName="RadioComponent";var g=Object(p.c)(f)},"y4j+":function(e,t,n){"use strict";var i=n("mrSG"),a=n("NAv5"),r=n("q1tI"),o=n("/MKj"),s=n("fvjX"),c=n("/7QA"),l=n("4ilF"),d=n("kRBY"),u=n("Ws8v"),m=n("hnjF"),p=n("X2PJ"),h=n("+80q"),f=n("7d/q"),g=n("C7sF"),v="automod_caught_msg_notification_dismissed",b="automod_caught_msg_notification_expiration",k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expiresAt=Object(a.parse)(c.b.get(b,"2019-09-01")),t.hasBeenDismissed=c.m.get(v,!1),t.state={shouldShow:!t.hasBeenDismissed&&t.expiresAt>new Date},t.dismissNotification=function(){c.m.set(v,!0),t.setState({shouldShow:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.state.shouldShow)return null;var e=this.props,t=e.channelID,n=e.userID,i=e.userModStatus;return t&&t===n||i&&i.user&&i.user.isModerator?r.createElement(u.a,{alignContent:m.a.Start,background:p.a.Base,border:!1,borderRadius:p.b.Medium,display:m.d.Flex,elevation:2,flexDirection:m.e.Row,justifyContent:m.h.Between,margin:{top:1},padding:{left:1,y:.5}},r.createElement(u.a,null,r.createElement(h.a,{bold:!0,type:h.e.Span},Object(c.d)("New: ","AutoModCaughtMessageNotificationTooltip")),r.createElement(h.a,{type:h.e.Span},Object(c.d)("Check the “Messages” tab to see chat messages that were filtered by AutoMod","AutoModCaughtMessageNotificationTooltip"))),r.createElement(u.a,{margin:{right:.5}},r.createElement(f.a,{ariaLabel:"Hide notification regarding AutoMod held messages, which now appear in Mod Logs",icon:g.a.Hide,onClick:this.dismissNotification,overlay:!1,type:f.c.Secondary}))):null},t}(r.Component);var y=Object(s.d)(Object(o.b)((function(e){var t=Object(d.e)(e);return{userID:t&&t.id}})),Object(l.a)())(k);n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}))},"y8+g":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"rewardsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"automaticRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automaticRewardFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"customRewardFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:250}};i.loc.source={body:'#import "./automatic-reward-fragment.gql"\n#import "./custom-reward-fragment.gql"\nfragment rewardsFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nautomaticRewards {\n...automaticRewardFragment\n}\ncustomRewards {\n...customRewardFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("Ukwn").definitions)),i.definitions=i.definitions.concat(r(n("nJ3O").definitions)),e.exports=i},yJn7:function(e,t){},ySk3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("oi4T"),s=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(o.b)(e)),{mentioned_user_display_name:e.mentionedUserDisplayName,user:e.userLogin});a.o.track(r.SpadeEventType.ChatMentionUsed,t)}},yXtP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UpdateChatColor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateChatColorInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateChatColor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:120}};n.loc.source={body:"mutation Chat_UpdateChatColor($input: UpdateChatColorInput!){\nupdateChatColor(input: $input) {\nuser {\nid\nchatColor\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_UpdateChatColor=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_UpdateChatColor")},yZCp:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("q1tI"),a=n("/7QA"),r=n("Uh2Q"),o=n("tiJ6"),s=n("8SX2"),c=n("sUnt"),l=n("hnjF"),d=n("Ws8v"),u=n("X2PJ"),m=n("7uM4"),p=n("+80q"),h=n("C7sF");var f=Object(o.b)((function(e){return{primaryColorHex:e.primaryColorHex}}))((function(e){if(!(e.event.messageID&&e.event.userLogin&&e.event.displayName))return null;var t=i.createElement(s.a,{contentID:e.event.messageID,login:e.event.userLogin,sourceType:e.event.sourceType},e.event.displayName),n=Object(a.d)("{count} emotes shared!",{count:e.event.totalRewardCount},"RewardGiftNoticeLine"),o=function(e,t,n){switch(e){case r.b.Subscription:return Object(a.d)("{selectedCount, plural, one {{gifterButton}'s Sub shared rewards to {selectedCount} other in chat.} other {{gifterButton}'s Sub shared rewards to {selectedCount} others in chat.}}",{gifterButton:t,selectedCount:n},"RewardGiftNoticeLineUpdate");case r.b.SubGift:return Object(a.d)("{gifterButton}'s Gift shared rewards to {selectedCount} others in chat.",{gifterButton:t,selectedCount:n},"RewardGiftNoticeLine");case r.b.Cheer:default:return Object(a.d)("{gifterButton}'s Cheer shared rewards to {selectedCount} others in chat.",{gifterButton:t,selectedCount:n},"RewardGiftNoticeLine")}}(e.event.triggerType,t,e.event.selectedCount),f=function(e){switch(e){case r.b.Subscription:return h.a.Star;case r.b.SubGift:return h.a.Gift;case r.b.Cheer:default:return h.a.Bits}}(e.event.triggerType);return i.createElement(c.a,{className:"reward-gift-user-notice",margin:{y:.5}},i.createElement(c.a,{display:l.d.Flex,alignItems:l.b.Start},i.createElement(d.a,{color:u.c.Alt2,margin:{right:.5}},i.createElement(m.a,{asset:f})),i.createElement(c.a,null,i.createElement(p.a,{bold:!0,color:u.c.Link},n),i.createElement(p.a,{color:u.c.Alt2},o))))}))},ygQa:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("yR8l"),r=n("yXtP");function o(){var e=this;return Object(a.b)(r,{props:function(t){return{updateChatColorMutation:function(n){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.mutate({variables:{input:{color:n}}})];case 1:return[2,e.sent().data]}}))}))}}}})}},ygYM:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var i,a,r=n("pVnL"),o=n.n(r),s=n("q1tI"),c=n("A5Hy"),l=n("fNzW"),d=n("vCsY"),u=n("hnjF"),m=n("X2PJ"),p=n("Ws8v"),h=n("2Ob2");n("CtjF");!function(e){e.Auto="tw-balloon--auto",e.ExtraSmall="tw-balloon--xs",e.Small="tw-balloon--sm",e.Medium="tw-balloon--md",e.Large="tw-balloon--lg",e.ExtraLarge="tw-balloon--xl"}(a||(a={}));var f,g=((i={})[a.Auto]=2,i[a.ExtraSmall]=2,i[a.Small]=2,i[a.Medium]=3,i[a.Large]=4,i[a.ExtraLarge]=5,i);!function(e){e.Top="tw-balloon--up",e.Bottom="tw-balloon--down",e.Left="tw-balloon--left",e.Right="tw-balloon--right",e.TopLeft="tw-balloon--up tw-balloon--left",e.TopRight="tw-balloon--up tw-balloon--right",e.BottomRight="tw-balloon--down tw-balloon--right",e.BottomLeft="tw-balloon--down tw-balloon--left",e.TopCenter="tw-balloon--up tw-balloon--center",e.BottomCenter="tw-balloon--down tw-balloon--center",e.LeftCenter="tw-balloon--left tw-balloon--center",e.RightCenter="tw-balloon--right tw-balloon--center"}(f||(f={}));var v=function(e){var t,n,i,a,r={"tw-balloon":!0};e.size&&(r[e.size]=!0),e.direction?r[e.direction]=!0:r[f.Bottom]=!0,e.offsetX&&(e.direction===f.Left||e.direction===f.TopLeft||e.direction===f.BottomLeft||e.direction===f.LeftCenter||e.direction===f.BottomRight||e.direction===f.TopRight?n=e.offsetX:t=e.offsetX),e.offsetY&&(e.direction===f.Top||e.direction===f.TopLeft||e.direction===f.TopRight||e.direction===f.TopCenter?a=e.offsetY:i=e.offsetY);var h,v,b,k={marginLeft:t,marginRight:n,marginTop:i,marginBottom:a};e.tailOffset&&(e.direction===f.Left||e.direction===f.Right||e.direction===f.LeftCenter||e.direction===f.RightCenter?h=e.tailOffset+"px":e.direction===f.TopRight||e.direction===f.BottomRight?(v=e.tailOffset+"px",b="auto"):(v="auto",b=e.tailOffset+"px"));var y,S,C={top:h,left:b,right:v},E=e.overlay?m.a.Overlay:e.background,w=e.overlay?m.c.Overlay:m.c.Inherit;return e.tail&&!e.overlay&&(y=s.createElement(u.g,{className:"tw-balloon__tail",position:u.j.Absolute,overflow:u.i.Hidden},s.createElement("div",{style:C},s.createElement(p.a,{className:"tw-balloon__tail-symbol",position:u.j.Absolute,background:e.tailBackground||E})))),S=void 0!==e.elevation?e.elevation:void 0===e.size?2:g[e.size],s.createElement(u.g,{display:e.show?u.d.Block:u.d.Hide,position:u.j.Absolute,role:c.c.Dialog,ariaLabel:e.ariaLabel},s.createElement("div",o()({style:k,className:Object(l.a)(r)},Object(d.a)(e)),y,s.createElement(p.a,{borderRadius:m.b.Large,background:E,elevation:S,color:w,className:e.overlay?"tw-balloon--overlay-border":void 0},e.children)))};v.displayName="BalloonComponent",v.defaultProps={background:m.a.Base},v.displayName="BalloonComponent";var b=Object(h.c)(v)},yzwe:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("yR8l"),r=n("FAYk");function o(e){var t=this;return Object(a.b)(r,{props:function(n){return{unmodUserMutation:function(a){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){if(t=e(n.ownProps).channelID)return[2,n.mutate({variables:{input:{channelID:t,targetLogin:a}}}).then((function(e){return e.data}))];throw new Error("unmodUser mutation is not ready")}))}))}}}})}},yzyL:function(e,t){},zClW:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"j",(function(){return E})),n.d(t,"e",(function(){return N})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return D})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return M}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("IZXT"),s=n("ZuiC"),c=n("ahza"),l=n("pU2t"),d=n("ZUUl"),u=n("fI4C"),m=n("fIj0"),p=n("xM4F"),h=n("8uuy");function f(){return{CommenterBannedError:Object(a.d)("You are banned from sending messages in this channel","routines-comments"),CommentingDisabledError:Object(a.d)("Sending messages in this channel is disabled","routines-comments"),UserNotVerifiedError:Object(a.d)("Account email verification required to send a message","routines-comments"),MaxChildCommentsError:Object(a.d)("The reply limit for this message has been reached","routines-comments"),MessageLikelySpamError:Object(a.d)("Your message was blocked by the spam filter","routines-comments"),MessageContainsBannedWordsError:Object(a.d)("Your message wasn't posted due to conflicts with the channel's moderation settings","routines-comments")}}var g=function(e){if(e.includes("FollowersOnlyError"))return function(e){return Object(a.d)("This room is in {duration} followers-only mode. Follow this channel to join the community",{duration:e},"routines-comments")}(function(e){var t=e.split(" "),n=t[t.length-1].match(/((\d+)h)?(\d+)m(\d+)s/);if(!Array.isArray(n))return"";return{600:"10 Minutes",1800:"30 Minutes",3600:"1 Hour",86400:"1 Day",604800:"1 Week",2592e3:"1 Month",7776e3:"3 Months"}[60*parseInt(n[2]||"0",10)*60+60*parseInt(n[3],10)+parseInt(n[4],10)]}(e));var t=f(),n=Object.keys(t).find((function(t){return e.includes(t)}));return n?t[n]:Object(a.d)("Unable to send a new message at this time","routines-comments")},v="",b=-1,k=!1,y=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){if(k)return[2,Promise.resolve()];if(Object(c.f)(t)){if(t.offset===b)return[2,Promise.resolve()];b=t.offset}if(Object(c.d)(t)){if(t.cursor===v)return[2,Promise.resolve()];v=t.cursor}return k=!0,[2,Object(c.g)(t).then((function(n){k=!1,Object(c.f)(t)&&t.offset===b?e.dispatch(Object(s.A)(n)):e.dispatch(Object(s.z)(n))}),(function(t){k=!1,a.k.warn("VideoChat: unable to fetch messages",{error:t}),e.dispatch(Object(s.B)())}))]}))}))},S=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,u,m;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,,6]),n=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Object(c.b)(t)];case 2:return n=i.sent(),[3,4];case 3:return r=i.sent(),Object(o.d)()?a.k.warn(S.name):a.k.errorAndReport(r,S.name),e.dispatch(Object(s.r)(g(""))),[2];case 4:return n.requestError?(a.k.errorAndReport(n.requestError,S.name),e.dispatch(Object(s.r)(g(""))),[2]):n.error?(a.k.errorAndReport(new Error(n.error.error),S.name),e.dispatch(Object(s.r)(g(n.error.message))),[2]):void 0===n.body?(e.dispatch(Object(s.r)(g(""))),[2]):(u=Object(l.c)(n.body),e.dispatch(Object(s.s)(u)),e.dispatch(Object(d.b)(w,u)),setTimeout((function(){e.dispatch(Object(s.q)())}),5e3),[3,6]);case 5:return m=i.sent(),a.k.errorAndReport(m,S.name),e.dispatch(Object(s.r)(g(""))),[3,6];case 6:return[2]}}))}))},C=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(c.c)(t)];case 1:return i.sent(),e.dispatch(Object(s.t)({comment:t})),e.dispatch(Object(d.b)(_,{comment:t})),[3,3];case 2:return n=i.sent(),Object(o.d)()?a.k.warn(C.name):a.k.errorAndReport(n,C.name),[3,3];case 3:return[2]}}))}))},E=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(c.h)(t)];case 1:return n=i.sent(),e.dispatch(Object(s.v)(n)),[3,3];case 2:return r=i.sent(),a.k.errorAndReport(r,E.name),[3,3];case 3:return[2]}}))}))},w=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:m,variables:{videoCreatorID:t.comments[0].channelId,videoID:t.comments[0].contentId}})];case 1:return e=i.sent().data,s.track(r.SpadeEventType.ChommentCreated,Object(u.f)(t,e)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(w.name):a.k.errorAndReport(c,w.name),[3,3];case 3:return[2]}}))}))},_=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:p,variables:{videoCreatorID:t.comment.channelId,commentCreator:t.comment.commenter,videoID:t.comment.contentId}})];case 1:return c=i.sent().data,s.track(r.SpadeEventType.ChommentDeleted,Object(u.g)(t,e.getState(),c)),[3,3];case 2:return l=i.sent(),Object(o.d)()?a.k.warn(_.name):a.k.errorAndReport(l,_.name),[3,3];case 3:return[2]}}))}))},N=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:h,variables:{videoID:t.comment.contentId}})];case 1:return c=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.e)(t,e.getState(),c)),[3,3];case 2:return l=i.sent(),Object(o.d)()?a.k.warn(N.name):a.k.errorAndReport(l,N.name),[3,3];case 3:return[2]}}))}))},O=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:p,variables:{videoCreatorID:t.channelId,commentCreator:t.commenter,videoID:t.contentId}})];case 1:return c=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.i)(t,e.getState(),c)),[3,3];case 2:return l=i.sent(),Object(o.d)()?a.k.warn(O.name):a.k.errorAndReport(l,O.name),[3,3];case 3:return[2]}}))}))},D=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var l,d,m,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),l=e.getState(),d=Object(c.e)(t)?l.vodChat.comments.comments.parentComments[t.parentId].contentId:t.contentId,[4,n.query({query:h,variables:{videoID:d}})];case 1:return m=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.h)(t,e.getState(),m)),[3,3];case 2:return p=i.sent(),Object(o.d)()?a.k.warn(D.name):a.k.errorAndReport(p,D.name),[3,3];case 3:return[2]}}))}))},I=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:h,variables:{videoID:t.comment.contentId}})];case 1:return c=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.j)(t,e.getState(),c)),[3,3];case 2:return l=i.sent(),Object(o.d)()?a.k.warn(I.name):a.k.errorAndReport(l,I.name),[3,3];case 3:return[2]}}))}))},M=function(e,t,n,o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:m,variables:{videoCreatorID:t.channelId,videoID:t.contentId}})];case 1:return s=i.sent().data,o.track(r.SpadeEventType.ChommentUIAction,Object(u.k)(t,e.getState(),s)),[3,3];case 2:return c=i.sent(),a.k.errorAndReport(c,M.name),[3,3];case 3:return[2]}}))}))}},zJj8:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WatchPartyTray"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"query WatchPartyTray($channelID: String!) {\ncurrentUser {\nid\nisModerator(channelID: $channelID)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.WatchPartyTray=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"WatchPartyTray")},zQgx:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"h",(function(){return b}));var i=n("cr+I"),a=n("/7QA"),r=n("oB8h"),o=n("UWbL"),s=n("+GjP"),c=(n("vRsq"),n("DMoW")),l=(n("Q94S"),-1);function d(e){return!!e&&!(!e.hosting||!e.hosting.id)}function u(e){switch(m(e)){case r.a.WatchParty:case r.a.Premiere:case r.a.Rerun:return!0;default:return!1}}function m(e){if(e&&e.stream&&e.stream.id&&e.stream.type)return e.stream.type}function p(e){var t=Object(s.a)(e.location.search,"t");return t?Object(o.a)(t):l}function h(e,t){e&&e.owner?a.p.setPageTitle(e.owner.displayName+" - "+e.title):t&&t.broadcaster&&a.p.setPageTitle(t.broadcaster.displayName+" - "+t.title)}function f(e){return e&&e.stream?e.stream.viewersCount:null}function g(e,t){return t&&(!function(e){return e&&""!==e.id&&e.creationState&&e.creationState===c.N.CREATED}(t)||function(e,t){return!!e&&(t&&t.broadcaster&&t.broadcaster.login&&t.broadcaster.login.toLowerCase()!==e.toLowerCase())}(e,t))}function v(e,t){return!!e&&(!!t&&!!t.owner&&!!t.owner.login&&t.owner.login.toLowerCase()!==e.toLowerCase())}function b(e){var t={},n=i.parse(e.location.search),a=p(e);return a!==l&&(t.highlightTimestamp=a),n.comment&&(t.highlightedMessageID=n.comment),t}},zTPm:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return f}));var i,a=n("pVnL"),r=n.n(a),o=n("VbXa"),s=n.n(o),c=n("q1tI"),l=n("A5Hy"),d=n("fNzW"),u=n("vCsY"),m=n("hnjF"),p=n("X2PJ"),h=n("Ws8v");n("E88G");!function(e){e.Small="tw-modal--sm",e.Medium="tw-modal--md",e.Large="tw-modal--lg"}(i||(i={}));var f=function(e){function t(){return e.apply(this,arguments)||this}return s()(t,e),t.prototype.render=function(){var e={"tw-modal":!0};return this.props.size&&(e[this.props.size]=!0),c.createElement(h.a,r()({},Object(u.a)(this.props),{className:Object(d.a)(e),display:m.d.Flex,flexDirection:m.e.Column,background:p.a.Base,borderRadius:this.props.borderRadius||p.b.Large,elevation:this.props.elevation||5,fullWidth:!0,role:l.c.Dialog,ariaModal:!0}),this.props.children)},t}(c.Component);f.displayName="Modal"},zWFo:function(e,t,n){},zdrs:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockChosenSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation UnlockChosenSubscriberEmote($input: UnlockChosenSubscriberEmoteInput!) {\nunlockChosenSubscriberEmote (input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnlockChosenSubscriberEmote=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnlockChosenSubscriberEmote")},zixI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnblockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnblockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unblockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation UnblockUser($input: UnblockUserInput!) {\nunblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnblockUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnblockUser")},zwF8:function(e,t,n){"use strict";var i,a,r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),function(e){e.ShareBitsBadgeTier="share-bits-badge-tier",e.ThankSubGifter="thank-sub-gifter",e.ShareResub="share-resub",e.CommunityPointsSpend="community-points-spend",e.NoOverride="no-override",e.PrimeGiftBombGifter="prime-gift-bomb-gifter"}(i||(i={})),function(e){e.Chat="chat-message-handler",e.Command="command-message-handler",e.Bits="bits-message-handler",e.Custom="custom-message-handler",e.ShareResub="share-resub-message-handler"}(a||(a={})),function(e){e.CharacterLimitError="character-limit-error",e.DuplicatedMessageError="duplicated-message-error",e.MessageThroughputError="message-throughput-error",e.EmoteOnlyBanner="emote-only-banner",e.EmoteOnlyInfo="emote-only-info",e.EmoteOnlyWarning="emote-only-warning",e.AutocompleteTray="autocomplete-tray",e.CommandWarning="command-warning",e.CommandInfo="command-info",e.WatchPartyInfo="watch-party-info",e.WatchPartyBanner="watch-party-banner",e.WatchPartyError="watch-party-error"}(r||(r={}))}}]);