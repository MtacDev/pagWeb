(function(n){function v(){return n("#main-nav .chat-panel").hasClass("active")?n(".chat-toggle").data("confirm"):null}function tt(n,t){setTimeout(function(){n.classList.add("load")},nt*t)}function y(){n(".collapsible a").bind("click",p);n(".language-toggle").bind("click",function(){n(".language-panel").bind("click",w);w()})}function it(){n(".collapsible").bind("mouseenter mouseleave",p)}function p(){u?n(".collapsible").removeClass("open"):n(".collapsible").addClass("open");u=!u}function w(){i?(n("#main-nav").removeClass("langPanel"),h&&n(".language-panel").unbind()):(n("#main-nav").hasClass("checkPanel")&&n("#main-nav").removeClass("checkPanel"),n("#main-nav").addClass("langPanel"));i=!i}function b(t){var r,i;if(_target=typeof t=="string"?n(t):n(this),r=_target.attr("data-panel"),_target.data("cancel",!1),i=n('div.panel[data-panel="'+r+'"]'),i.hasClass("active")){if(_target.data("confirm")&&!confirm(_target.data("confirm")))return _target.data("cancel",!0),!1;_target.removeClass("active");i.removeClass("active");n("body").removeClass("scroll-disabled")}else n(".panel").removeClass("active"),n(".panel-toggle").removeClass("active"),_target.addClass("active"),i.addClass("active")}function rt(){for(var r,i=n(".panels .panel").length,t=1;t<=i;t++)r=n(".panels .panel:nth-child("+t+")"),r.css("right",(i-t)/i*100+"%")}function ut(){b("#checkoutPanel");n(".checkout-toggle").addClass("active")}function k(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return!1}function l(){n(".mobile-shop.checkout-toggle").removeClass("active");n(".nav-tertiary .checkout-toggle").removeClass("active");n(".checkout-panel").removeClass("active")}function ft(){s=!1;t=t<r*.6?0:r;n("#main-nav").css("top",-t+"px")}var f=!0,nt=50,a=document.querySelector("body"),o=document.querySelectorAll(".nav-links > *"),h,e,u,i,c,d,r;n(".nav-toggle").click(function(t){var u=v(),r;if(u&&!confirm(u))return!1;if(t.preventDefault(),f){for(n("#main-nav").addClass("active"),n("body").addClass("scroll-disabled"),r=0;r<o.length;r++)tt(o[r],r);n(".checkout-panel").hasClass("active")&&(n(".checkout-panel").removeClass("active"),n(".checkout-toggle").removeClass("active"))}else for(n("#main-nav").removeClass("active"),n("body").removeClass("scroll-disabled"),n("#main-nav").hasClass("langPanel")&&(n("#main-nav").removeClass("langPanel"),i=!i),n("#main-nav").hasClass("checkPanel")&&n("#main-nav").removeClass("checkPanel"),n("#main-nav").hasClass("searchPanel")&&(n("#main-nav").removeClass("searchPanel"),n(".c-searchPanel").removeClass("active"),n(".search-toggle").removeClass("active")),n("#main-nav").hasClass("chatPanel")&&(n("#main-nav").removeClass("chatPanel"),n(".chat-toggle").removeClass("active")),n(".chat-panel").hasClass("active")&&n(".chat-panel").removeClass("active"),n("#main-nav").hasClass("panel")&&(n("#main-nav").removeClass("panel"),panel=!panel),r=0;r<o.length;r++)o[r].classList.remove("load");f=!f});h=n("html").hasClass("touchevents");e=n(window).width();u=!1;i=!1;n(".panel-toggle").each(function(){n(this).click(b)});n("#main-nav").hasClass("calc-panel")&&rt();n(".close-chat").click(function(){var t=v();if(t&&!confirm(t))return!1;n("body").removeClass("scroll-disabled");n(".chat-panel").hasClass("active")&&(n(".chat-panel").removeClass("active"),n(".chat-toggle").removeClass("active"),n(".s-navigation").removeClass("chatPanel"))});n(".close-search").click(function(){n(".c-searchPanel").hasClass("active")&&(n(".c-searchPanel").removeClass("active"),n(".search-toggle").removeClass("active"),n(".s-navigation,.section-navigation").removeClass("searchPanel"))});n(".chat-toggle").click(function(){var t=n(this),r=t.hasClass("active"),i=n(".chat-panel");t.data("cancel")||(i.addClass("hidden").removeClass("active"),$chatform=n(".chat-form"),r?n.getJson(t.data("checkpath"),{},null,function(n){n&&(n.IsActiveTime?(t.removeClass("link").attr("data-panel","chatPanel"),$chatform.attr("src",n.Href),$chatform.attr("scrolling","yes"),i.removeClass("hidden").addClass("active")):(t.addClass("link").attr("data-panel",""),window.location.href=n.Href))}):window.chatBus&&(window.chatBus.publish("chat:end"),setTimeout(function(){$chatform.attr("src","about:blank")},1e3)),n(".section-navigation").addClass("chatPanel"))});n(".search-toggle").click(function(){n(".s-navigation,.section-navigation").addClass("searchPanel")});c=document.querySelector(".checkout-footer .checkout-toggle");c&&c.addEventListener("click",l);d=k("cart")=="[]"||!k("cart")?!1:!0;d&&ut();n(window).resize(function(){e=n(window).width();r=n(".s-navigation").height();e>768&&n("#main-nav").hasClass("active")&&(n("#main-nav").removeClass("active"),n("body").hasClass("scroll-disabled")&&n("body").removeClass("scroll-disabled"),f=!f);n(".collapsible").hasClass("open")&&(n(".collapsible").removeClass("open"),u=!u);n("#main-nav").hasClass("langPanel")&&(n("#main-nav").removeClass("langPanel"),i=!i);n(".checkout-panel").hasClass("active")?(n(".nav-tertiary .checkout-toggle").addClass("active"),n(".mobile-shop.checkout-toggle").addClass("active")):l();e<=768&&(n("#main-nav").hasClass("active")||(n("#main-nav").removeClass("chatPanel"),n(".chat-toggle").removeClass("active"),n(".chat-panel").removeClass("active")),n("#main-nav").hasClass("searchPanel")&&(n("#main-nav").removeClass("searchPanel"),n(".c-searchPanel").removeClass("active"),n(".search-toggle").removeClass("active")))});r=n(".s-navigation").height()+1;e<=768?y():h?y():it();var g=0,t=0,s=!1;window.addEventListener("scroll",function(){if(!n("#main-nav").hasClass("active")&&!(n("#main-nav .checkout-panel.active").length>0)&&!(n("#main-nav .chat-panel.active").length>0)){var u=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,i=g-u;s&&clearTimeout(s);u>r?i<0&&!a.classList.contains("inpagenavScrolling")?(i*=-1,i>8&&(t=r,n(".checkout-panel").hasClass("active")&&l(),n(".chat-panel").hasClass("active")&&(n(".chat-panel").removeClass("active"),n(".chat-toggle").removeClass("active"),n(".s-navigation").removeClass("chatPanel")),n(".language-panel").hasClass("active")&&(n(".language-panel").removeClass("active"),n(".language-toggle").removeClass("active")))):i>8&&(t=0):t=0;a.classList.contains("inpagenavScrolling")||n("#main-nav").css("top",-t+"px");g=u;t!=0&&t!=r&&(s=setTimeout(ft,250))}})})(jQuery);